webpackJsonp([1],{"/ZH1":function(e,t){},"1v8u":function(e,t){},"5ZLH":function(e,t){},"7dlD":function(e,t){},"7w8k":function(e,t){},"9mES":function(e,t){},GEck:function(e,t){},GFsh:function(e,t){},H6bT:function(e,t){},"IA/M":function(e,t){},IiNB:function(e,t){},KqU1:function(e,t){},Mh37:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={},s=a("fZjL"),l=a.n(s),n=a("/5sW"),o=a("zL8q"),r=a.n(o),c=(a("tvR6"),{render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]});var d=a("VU/8")({name:"App"},c,!1,function(e){a("ymcE")},null,null).exports,p=a("mtWM"),u=a.n(p),m=a("NYxO");n.default.filter("formatDate",function(e){var t=new Date(e),a=t.getFullYear(),i=t.getMonth()+1,s=t.getDate();return i<10&&(i="0"+i),s<10&&(s="0"+s),a+"-"+i+"-"+s}),n.default.filter("formatDateTime",function(e){var t=new Date(e),a=t.getFullYear(),i=t.getMonth()+1,s=t.getDate(),l=t.getHours(),n=t.getMinutes();return i<10&&(i="0"+i),s<10&&(s="0"+s),a+"-"+i+"-"+s+" "+l+":"+n}),n.default.filter("formatConstant",function(e){var t="";return JSON.parse(localStorage.getItem("ConstantsObj")).forEach(function(a){a.ID==e&&(t=a.ConstantName)}),t});var g=a("/ocq"),h=function(e,t){return u()({method:"post",url:""+e,data:t,transformRequest:[function(e){var t="";for(var a in e)t+=encodeURIComponent(a)+"="+encodeURIComponent(e[a])+"&";return t}],headers:{"Content-Type":"application/x-www-form-urlencoded"}})},f=function(e,t){return u()({method:"put",url:""+e,data:t,transformRequest:[function(e){var t="";for(var a in e)t+=encodeURIComponent(a)+"="+encodeURIComponent(e[a])+"&";return t}],headers:{"Content-Type":"application/x-www-form-urlencoded"}})},v=function(e){return u()({method:"delete",url:""+e})},b=function(e,t){return u()({method:"get",data:t,transformRequest:[function(e){var t="";for(var a in e)t+=encodeURIComponent(a)+"="+encodeURIComponent(e[a])+"&";return t}],headers:{"Content-Type":"application/x-www-form-urlencoded"},url:""+e})},y=function(e,t,a,i){var s="";return JSON.parse(localStorage.getItem("ConstantsObj")).forEach(function(e){e.ID==a&&(s=e.ConstantName)}),s},_=function(e,t){e.$message(t+"成功")},D=function(e,t){e.$confirm("此操作将"+t+",是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$message({type:"success",message:"成功!"})}).catch(function(){e.$message({type:"info",message:"已取消"})})},w={mounted:function(){this.a()},data:function(){return{checked:!1,loginForm:{username:"",password:""},loading:!1}},methods:{a:function(){var e=localStorage.getItem("cccc"),t=localStorage.getItem("bbbb"),a=localStorage.getItem("aaaa");"true"==e?(this.checked=!0,this.loginForm.username=a,this.loginForm.password=t):(this.loginForm.username="",this.loginForm.password="")},submitClick:function(){var e=this,t=this;if(null!=this.loginForm.username&&0!=this.loginForm.username.length&&null!=this.loginForm.password&&0!=this.loginForm.password.length){var a="/neusys/user/get_user?keywords="+this.loginForm.username+"&keywords2="+this.loginForm.password;b(a).then(function(a){var i=a.data;null==i||0==i.length?t.$alert("用户名 密码 不存在或错误!","登录失败!"):(t.$store.dispatch("userLogin",!0),sessionStorage.setItem("Flag","isLogin"),sessionStorage.setItem("name",i.realName),sessionStorage.setItem("useType",i.useType),sessionStorage.setItem("useID",i.id),1==t.checked?(localStorage.setItem("aaaa",e.loginForm.username),localStorage.setItem("bbbb",e.loginForm.password),localStorage.setItem("cccc",!0)):localStorage.setItem("cccc",!1),t.$router.replace({path:"/home"}))})}else t.$message({type:"info",message:"用户名和密码不能为空!"})}}},x={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"login-container",attrs:{rules:e.rules,"label-position":"left","label-width":"0px"}},[a("h3",{staticClass:"login_title"},[e._v("系统登录")]),e._v(" "),a("el-form-item",{attrs:{prop:"account"}},[a("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"账号"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"checkPass"}},[a("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitClick(t)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),e._v(" "),a("el-checkbox",{staticClass:"login_remember",attrs:{"label-position":"left"},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("记住密码")]),e._v(" "),a("el-form-item",{staticStyle:{width:"100%"}},[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.submitClick(t)}}},[e._v("登录")])],1)],1)},staticRenderFns:[]};var C=a("VU/8")(w,x,!1,function(e){a("KqU1")},null,null).exports,k=a("mvHQ"),S=a.n(k),I=a("BO1k"),z=a.n(I),N={methods:{handleCommand:function(e){var t=this;"logout"==e&&this.$confirm("注销登录吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){b("/logout"),t.currentUserName="游客",sessionStorage.removeItem("Flag"),t.$router.replace({path:"/login"})},function(){})},handleTabsEdit:function(e,t){if("remove"===t){var a=this.editableTabs,i=this.editableTabsValue;i===e&&a.forEach(function(t,s){if(t.name===e){var l=a[s+1]||a[s-1];l&&(i=l.name)}}),this.editableTabsValue=i,this.editableTabs=a.filter(function(t){return t.name!==e}),this.$router.push(i)}},showContent:function(e){this.$router.push(e.name)},findCompontByPath:function(e){var t=!0,a=!1,i=void 0;try{for(var s,l=z()(this.$router.options.routes);!(t=(s=l.next()).done);t=!0){var n=s.value;if(n.children){var o=n.children.find(function(t){return t.path==e});if(o)return o}}}catch(e){a=!0,i=e}finally{try{!t&&l.return&&l.return()}finally{if(a)throw i}}return null},addTab:function(e){if(e){var t=this.findCompontByPath(e);t&&(this.editableTabs.some(function(e){return e.name==t.path})||this.editableTabs.push({title:t.name,name:t.path,route:t.path}),this.editableTabsValue=t.path,this.$router.push(t.path))}},showHideMenu:function(){this.showMenu=!this.showMenu,this.showMenu?this.patientsButtonText="隐藏菜单":this.patientsButtonText="显示菜单"}},mounted:function(){b("/neusys/constantItem/all2?keywords=").then(function(e){var t;t=e.data.list,localStorage.setItem("ConstantsObj",S()(t))}).catch(function(e){console.log(e)});var e=sessionStorage.getItem("name"),t=sessionStorage.getItem("useType");"0"==t&&(this.menu01="root"),"1"==t&&(this.menu01="系统信息"),"2"==t&&(this.menu01="挂号收费"),"3"==t&&(this.menu01="门诊医生"),"4"==t&&(this.menu01="医技医生"),"5"==t&&(this.menu01="药房操作员"),"6"==t&&(this.menu01="财务管理员"),null==e||0==e.length?this.currentUserName="游客":this.currentUserName=e},data:function(){return{patientsButtonText:"隐藏菜单",showMenu:!0,currentUserName:"",editableTabsValue:"2",editableTabs:[],tabIndex:2,menu01:""}}},$={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticClass:"home_container"},[a("el-header",{staticClass:"gao-el-header"},[a("div",{staticClass:"home_title"},[e._v("东软云医院HIS系统")]),e._v(" "),a("div",{staticClass:"home_userinfoContainer"},[a("el-dropdown",{on:{command:e.handleCommand}},[a("span",{staticClass:"el-dropdown-link home_userinfo"},[e._v("\n        "+e._s(e.currentUserName)),a("i",{staticClass:"el-icon-arrow-down el-icon--right home_userinfo"})]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"sysMsg"}},[a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.showHideMenu(!1)}}},[e._v("\n            "+e._s(e.patientsButtonText)+"\n          ")])],1),e._v(" "),a("el-dropdown-item",{attrs:{command:"MyArticle"}},[e._v("我的设置")]),e._v(" "),a("el-dropdown-item",{attrs:{command:"MyHome"}},[e._v("个人主页")]),e._v(" "),a("el-dropdown-item",{attrs:{command:"logout",divided:""}},[e._v("退出登录")])],1)],1)],1)]),e._v(" "),a("el-container",[e.showMenu?a("el-aside",{attrs:{width:"200px"}},[a("el-menu",{staticClass:"el-menu-vertical-demo",staticStyle:{"background-color":"#ECECEC"},attrs:{"default-active":"0",router:""},on:{select:e.addTab}},[e._l(this.$router.options.routes,function(t,i){return t.hidden||t.name!=e.menu01&&"root"!=e.menu01?e._e():[t.children.length>1?a("el-submenu",{key:i,attrs:{index:i+""}},[a("template",{slot:"title"},[a("i",{class:t.iconCls}),e._v(" "),a("span",[e._v(e._s(t.name))])]),e._v(" "),e._l(t.children,function(t){return t.hidden?e._e():a("el-menu-item",{key:t.path,attrs:{index:t.path}},[e._v("\n              "+e._s(t.name)+"\n            ")])})],2):[a("el-menu-item",{attrs:{index:t.children[0].path}},[a("i",{class:t.children[0].iconCls}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.children[0].name))])])]]})],2)],1):e._e(),e._v(" "),a("el-container",[a("el-main",{staticClass:"gao-el-main"},[a("el-tabs",{attrs:{type:"card",editable:""},on:{edit:e.handleTabsEdit,"tab-click":e.showContent},model:{value:e.editableTabsValue,callback:function(t){e.editableTabsValue=t},expression:"editableTabsValue"}},e._l(e.editableTabs,function(e,t){return a("el-tab-pane",{key:e.name,attrs:{label:e.title,name:e.name,route:e.route}},[a("router-view")],1)}),1)],1)],1)],1)],1)},staticRenderFns:[]};var T=a("VU/8")(N,$,!1,function(e){a("9mES")},"data-v-c02b501a",null).exports,R=a("OS1Z"),F=(a("pw1w"),function(e){var t=new Date(e),a=t.getFullYear(),i=t.getMonth()+1,s=t.getDate(),l=t.getHours(),n=t.getMinutes();return i<10&&(i="0"+i),s<10&&(s="0"+s),a+"-"+i+"-"+s+" "+l+":"+n}),E={mounted:function(){this.RegisterID=sessionStorage.getItem("useID"),this.loading=!0,this.refresh(),this.getCategories(),this.getCategories2();var e=this.$route.query.from;this.from=e},components:{mavonEditor:R.mavonEditor},methods:{addNewReg:function(){var e=this,t=this;null==this.CaseNumber||0==this.CaseNumber.length||null==this.RealName||0==this.RealName.length||null==this.Gender||0==this.Gender.length||null==this.Age||0==this.Age.length||null==this.AgeType||0==this.AgeType.length||null==this.SettleID||0==this.SettleID.length||null==this.VisitDate||0==this.VisitDate.length||null==this.Noon||0==this.Noon.length||null==this.RegistLeID||0==this.RegistLeID.length||null==this.DeptID||0==this.DeptID.length||null==this.UserID||0==this.UserID.length||null==this.Fee||0==this.Fee.length||null==this.InvoiceNumber||0==this.InvoiceNumber.length||null==this.FeeType||0==this.FeeType.length?t.$message({type:"info",message:"带红星项 不能为空!"}):(this.loading=!0,this.syhe=this.cshe-this.yyhe,console.log("this.syhe="+this.syhe),this.syhe<=0?t.$message({type:"info",message:"该医生号额已满!"}):(null!=this.IsBook&&0!=this.IsBook.length||(this.IsBook=0),null!=this.BirthDate&&0!=this.BirthDate.length||(this.BirthDate="1900-1-1"),h("/neureg/register/regist",{RealName:this.RealName,Gender:this.Gender,IDnumber:this.IDnumber,BirthDate:this.BirthDate,Age:this.Age,AgeType:this.AgeType,HomeAddress:this.HomeAddress,CaseNumber:this.CaseNumber,VisitDate:this.VisitDate,Noon:this.Noon,DeptID:this.DeptID,UserID:this.UserID,RegistLeID:this.RegistLeID,SettleID:this.SettleID,IsBook:this.IsBook,InvoiceNumber:this.InvoiceNumber,RegisterTime:this.RegisterTime,RegisterID:this.RegisterID,Fee:this.Fee,FeeType:this.FeeType}).then(function(a){if(200==a.status){var i=a.data;t.$message({type:i.status,message:i.msg}),t.personName="",e.clear(),t.refresh()}t.loading=!1},function(e){403==e.response.status&&t.$message({type:"error",message:e.response.data}),t.loading=!1})))},clear:function(){this.Gender=71,this.AgeType="岁",this.FeeType=51,this.SettleID=1,this.RealName="",this.Age="",this.BirthDate="",this.HomeAddress="",this.VisitDate="",this.Noon="",this.RegistLeID="",this.UserID="",this.IsBook="",this.Fee="",this.IDnumber="",this.InvoiceNum="",this.DeptID="",this.Fee=0,this.cshe="",this.yyhe="",this.syhe=""},kzrq_select:function(){var e=this;e.DeptID="",e.RegistLeID="",e.UserID="",e.Noon="",e.cshe="",e.yyhe="",e.IsBook="",e.Fee=0,e.categories5="";var t="/neusys/scheduling/get_noon?keywords="+this.VisitDate;b(t).then(function(t){e.categories5=t.data.list})},Noon_select:function(){var e=this;e.categories7="",e.DeptId="";var t="/neusys/scheduling/get_dept?keywords="+this.VisitDate+"&keywords2="+this.Noon;b(t).then(function(t){e.categories7=t.data.list})},Dept_select:function(){var e=this;e.categories6="",e.RegistLeId="";var t="/neusys/scheduling/get_regist_level?keywords="+this.VisitDate+"&keywords2="+this.Noon+"&keywords3="+this.DeptId;b(t).then(function(t){e.categories6=t.data.list})},RegistLe_select:function(){var e=this;e.categories8="",e.UserID="";var t="/neusys/scheduling/get_doc?keywords="+this.VisitDate+"&keywords2="+this.Noon+"&keywords3="+this.DeptID+"&keywords4="+this.RegistLeID;b(t).then(function(t){e.categories8=t.data.list})},user_select:function(){var e=this;if(null==this.Noon||0==this.Noon.length)this.UserID="",e.$message({type:"info",message:"午别不能为空!"});else{var t="/neureg/register/regist_num?keywords="+this.VisitDate+"&keywords2="+this.Noon+"&keywords3="+this.UserID;b(t).then(function(t){e.yyhe=t.data});var a="/neusys/scheduling/get_regist_quota?keywords="+this.VisitDate+"&keywords2="+this.Noon+"&keywords3="+this.UserID;b(a).then(function(t){e.cshe=t.data});var i="/neusys/scheduling/get_regist_fee?keywords="+this.VisitDate+"&keywords2="+this.Noon+"&keywords3="+this.UserID;b(i).then(function(t){e.Fee=t.data})}},book_select:function(){0!=this.Fee?1==this.IsBook?this.Fee=parseFloat(this.Fee)+1:this.Fee=parseFloat(this.Fee)-1:this.IsBook=""},blhcx:function(){var e=this,t="/neureg/register/get_register?CaseNumber="+this.CaseNumber;b(t).then(function(t){var a=t.data;null==a||0==a.length?(e.HomeAddress="",e.RealName="",e.IDnumber="",e.Gender=71,e.AgeType="岁",e.Age="",e.BirthDate=""):(e.HomeAddress=a.homeAddress,e.RealName=a.realName,e.IDnumber=a.iDnumber,e.Gender=parseInt(a.gender),e.Age=a.age,e.AgeType=a.ageType)})},refresh:function(){var e=this;b("/neureg/register/max_casenumber").then(function(t){var a=t.data;e.CaseNumber=parseInt(a.caseNumber)+1}),b("/neureg/invoice/bean01").then(function(t){var a=t.data;e.InvoiceNumber=parseInt(a.invoiceNum)+1}),b("/neusys/constantItem/listByType?keywords=Gender").then(function(t){e.categories2=t.data.list}),b("/neusys/constantItem/listByType?keywords=FeeType").then(function(t){e.categories3=t.data.list}),b("/neusys/settleCategory/list").then(function(t){e.categories4=t.data.list})}},data:function(){return{CaseNumber:"",RealName:"",Gender:71,IDnumber:"",BirthDate:"",Age:"",AgeType:"岁",HomeAddress:"",VisitDate:"",Noon:"",DeptID:"",UserID:"",RegistLeID:"",IsBook:"0",InvoiceNumber:"",RegisterTime:"",RegisterID:"",Fee:"0",FeeType:51,SettleID:1,cshe:"",yyhe:"",syhe:"",loading:!1,dialogAddVisible:!1,categories2:[],categories3:[],categories4:[],categories5:[],categories6:[],categories7:[],categories8:[]}}},M={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("gao-el-container",[a("font",{attrs:{color:"red"}},[e._v("*")]),e._v(" "),a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("发票号:")]),e._v(" \n       "),a("el-input",{staticStyle:{width:"110px"},attrs:{placeholder:"发票号",again:"left",size:"mini"},model:{value:e.InvoiceNumber,callback:function(t){e.InvoiceNumber=t},expression:"InvoiceNumber"}}),e._v(" "),a("el-button",{staticStyle:{"margin-left":"3px"},attrs:{type:"primary",icon:"el-icon-edit-outline",size:"mini"},on:{click:function(t){return e.addNewReg()}}},[e._v("挂号\n        ")]),e._v(" "),a("el-button",{staticStyle:{"margin-left":"3px"},attrs:{type:"primary",icon:"el-icon-refresh",size:"mini"},on:{click:function(t){return e.clear()}}},[e._v("清空\n        ")]),e._v(" "),a("br"),a("br"),e._v(" "),a("font",{staticStyle:{"font-size":"15px","font-family":"'Microsoft YaHei'"}},[e._v("\n        挂号信息")]),e._v(" \n"),a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{attrs:{color:"red"}},[e._v("*")]),e._v(" "),a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("病 历 号 :")]),e._v(" \n       "),a("el-input",{staticStyle:{width:"110px"},attrs:{placeholder:"输入病历号",again:"left",size:"mini"},on:{blur:function(t){return e.blhcx()}},model:{value:e.CaseNumber,callback:function(t){e.CaseNumber=t},expression:"CaseNumber"}})],1)]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{attrs:{color:"red"}},[e._v("*")]),e._v(" "),a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("姓      名:")]),e._v(" \n       "),a("el-input",{staticStyle:{width:"110px"},attrs:{placeholder:"输入姓名",again:"left",size:"mini"},model:{value:e.RealName,callback:function(t){e.RealName=t},expression:"RealName"}})],1)]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{attrs:{color:"red"}},[e._v("*")]),e._v(" "),a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("性      别:")]),e._v(" \n         "),a("el-select",{staticStyle:{width:"110px"},attrs:{placeholder:"选择性别",size:"mini"},model:{value:e.Gender,callback:function(t){e.Gender=t},expression:"Gender"}},e._l(e.categories2,function(e){return a("el-option",{key:e.ID,attrs:{label:e.ConstantName,value:e.ID}})}),1)],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{attrs:{color:"red"}},[e._v("*")]),e._v(" "),a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("年      龄:")]),e._v(" \n         "),a("el-input",{staticStyle:{width:"110px"},attrs:{placeholder:"输入年龄",again:"left",size:"mini"},model:{value:e.Age,callback:function(t){e.Age=t},expression:"Age"}}),e._v(" "),a("font",{attrs:{color:"red"}},[e._v("*")]),e._v(" "),a("el-select",{staticStyle:{width:"110px"},attrs:{placeholder:"选择岁",size:"mini"},model:{value:e.AgeType,callback:function(t){e.AgeType=t},expression:"AgeType"}},[a("el-option",{attrs:{label:"岁",value:"岁"}}),e._v(" "),a("el-option",{attrs:{label:"月",value:"月"}}),e._v(" "),a("el-option",{attrs:{label:"天",value:"天"}})],1)],1)])],1),e._v(" "),a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("出生日期:")]),e._v(" "),a("el-date-picker",{staticStyle:{width:"124px"},attrs:{type:"date",placeholder:"出生日期",size:"mini","value-format":"yyyy-MM-dd"},model:{value:e.BirthDate,callback:function(t){e.BirthDate=t},expression:"BirthDate"}})],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("身份证号:")]),e._v("   \n   "),a("el-input",{staticStyle:{width:"230px"},attrs:{placeholder:"在此输入身份证号",size:"mini"},model:{value:e.IDnumber,callback:function(t){e.IDnumber=t},expression:"IDnumber"}})],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("家庭住址:")]),e._v(" \n       "),a("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"在此输入家庭住址",again:"left",size:"mini"},model:{value:e.HomeAddress,callback:function(t){e.HomeAddress=t},expression:"HomeAddress"}})],1)])],1),e._v(" "),a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{attrs:{color:"red"}},[e._v("*")]),e._v(" "),a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("结算类别:")]),e._v("    \n         "),a("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"结算类别",size:"mini"},model:{value:e.SettleID,callback:function(t){e.SettleID=t},expression:"SettleID"}},e._l(e.categories4,function(e){return a("el-option",{key:e.ID,attrs:{label:e.SettleName,value:e.ID}})}),1)],1)]),e._v(" "),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{attrs:{color:"red"}},[e._v("*")]),e._v(" "),a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("看诊日期:\n     "),a("el-date-picker",{staticStyle:{width:"125px"},attrs:{type:"date",placeholder:"看诊日期",size:"mini","value-format":"yyyy-MM-dd"},on:{change:function(t){return e.kzrq_select()}},model:{value:e.VisitDate,callback:function(t){e.VisitDate=t},expression:"VisitDate"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{attrs:{color:"red"}},[e._v("*")]),e._v(" "),a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("午别:")]),e._v("          \n         "),a("el-select",{staticStyle:{width:"90px"},attrs:{placeholder:"午别",size:"mini"},on:{change:function(t){return e.Noon_select()}},model:{value:e.Noon,callback:function(t){e.Noon=t},expression:"Noon"}},e._l(e.categories5,function(e){return a("el-option",{key:e.Noon,attrs:{label:e.Noon,value:e.Noon}})}),1)],1)]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{attrs:{color:"red"}},[e._v("*")]),e._v(" "),a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("挂号科室:")]),e._v(" \n     "),a("el-select",{staticStyle:{width:"108px"},attrs:{placeholder:"挂号科室",size:"mini"},on:{change:function(t){return e.Dept_select()}},model:{value:e.DeptID,callback:function(t){e.DeptID=t},expression:"DeptID"}},e._l(e.categories7,function(e){return a("el-option",{key:e.DeptID,attrs:{label:e.DeptName,value:e.DeptID}})}),1)],1)])],1),e._v(" "),a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{attrs:{color:"red"}},[e._v("*")]),e._v(" "),a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("号      别:")]),e._v(" \n     \n     "),a("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"号别",size:"mini"},on:{change:function(t){return e.RegistLe_select()}},model:{value:e.RegistLeID,callback:function(t){e.RegistLeID=t},expression:"RegistLeID"}},e._l(e.categories6,function(e){return a("el-option",{key:e.did,attrs:{label:e.RegistName,value:e.did}})}),1)],1)]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{attrs:{color:"red"}},[e._v("*")]),e._v(" "),a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("看诊医生:")]),e._v(" "),a("el-select",{staticStyle:{width:"110px"},attrs:{placeholder:"看诊医生",size:"mini"},on:{change:function(t){return e.user_select()}},model:{value:e.UserID,callback:function(t){e.UserID=t},expression:"UserID"}},e._l(e.categories8,function(e){return a("el-option",{key:e.ID,attrs:{label:e.RealName,value:e.ID}})}),1)],1)]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("初始号额:")]),e._v(" "),a("el-input",{staticStyle:{width:"110px"},attrs:{placeholder:"初始号额",again:"left",size:"mini",readonly:""},model:{value:e.cshe,callback:function(t){e.cshe=t},expression:"cshe"}})],1)]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("已用号额:")]),e._v(" "),a("el-input",{staticStyle:{width:"110px"},attrs:{placeholder:"已用号额",again:"left",size:"mini",readonly:""},model:{value:e.yyhe,callback:function(t){e.yyhe=t},expression:"yyhe"}})],1)])],1),e._v(" "),a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"})]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"})]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("病历本")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.IsBook,expression:"IsBook"}],attrs:{type:"checkbox",name:"","true-value":"1","false-value":"0"},domProps:{checked:Array.isArray(e.IsBook)?e._i(e.IsBook,null)>-1:e._q(e.IsBook,"1")},on:{change:[function(t){var a=e.IsBook,i=t.target,s=i.checked?"1":"0";if(Array.isArray(a)){var l=e._i(a,null);i.checked?l<0&&(e.IsBook=a.concat([null])):l>-1&&(e.IsBook=a.slice(0,l).concat(a.slice(l+1)))}else e.IsBook=s},function(t){return e.book_select()}]}})],1)]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{attrs:{color:"red"}},[e._v("*")]),e._v(" "),a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("应收金额:")]),e._v(" \n               "),a("el-input",{staticStyle:{width:"100px"},attrs:{placeholder:"应收金额",again:"left",size:"mini",readonly:""},model:{value:e.Fee,callback:function(t){e.Fee=t},expression:"Fee"}})],1)]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{attrs:{color:"red"}},[e._v("*")]),e._v(" "),a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("收费方式:")]),e._v("    \n         "),a("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"收费方式",size:"mini"},model:{value:e.FeeType,callback:function(t){e.FeeType=t},expression:"FeeType"}},e._l(e.categories3,function(e){return a("el-option",{key:e.ID,attrs:{label:e.ConstantName,value:e.ID}})}),1)],1)])],1)],1)},staticRenderFns:[]};var P=a("VU/8")(E,M,!1,function(e){a("5ZLH")},null,null).exports,V={methods:{searchClick:function(){null==this.keywords||0==this.keywords.length?this.$message({type:"info",message:"病历号不能为空!"}):this.loadBlogs(1,100)},loadBlogs:function(e,t){var a=this,i=this,s="/neureg/register/get_register?CaseNumber="+this.keywords;b(s).then(function(e){var t=e.data;null==t||0==t.length?(a.RealName="",a.IDnumber="",a.HomeAddress=""):(a.RealName=t.realName,a.IDnumber=t.iDnumber,a.HomeAddress=t.homeAddress)});var l="/neureg/patientCosts/patient_charge?page="+e+"&count="+t+"&keywords="+this.keywords;b(l).then(function(e){i.loading=!1,200==e.status?(i.tableData=e.data.list,i.totalCount=e.data.totalCount,i.zbs=i.totalCount):i.$message({type:"error",message:"数据加载失败!"})},function(e){i.loading=!1,403==e.response.status?i.$message({type:"error",message:e.response.data}):i.$message({type:"error",message:"数据加载失败!"})}).catch(function(e){i.loading=!1,i.$message({type:"error",message:"数据加载失败!"})});var n="/neureg/patientCosts/patient_getTab?keywords="+this.keywords+"&state1=2&state2=2";b(n).then(function(e){i.loading=!1,200==e.status&&(i.tableInfo=e.data.list)})},currentChange:function(e){this.currentPage=e,this.loading=!0,this.loadBlogs(e,this.pageSize)},chargeAll:function(){var e=this;this.$confirm("确认结算这 "+this.selItems.length+" 条数据?","提示",{type:"warning",confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){for(var t=e.selItems,a=0,i="",s="",l=0;l<t.length;l++)a+=t[l].DrugsPrice*t[l].Amount,i=""+i+t[l].tabnum+"|"+t[l].PCID+",",s=""+s+t[l].DrugsName+"|"+t[l].DrugsPrice+"|"+t[l].Amount+"|"+t[l].RegistID+",";a=a.toFixed(2),e.CaseNumber02=t[0].CaseNumber,e.RealName02=t[0].RealName,e.Money02=a,e.prenID02=t[0].prenID,e.RegisterID02=t[0].RegisterID,e.RegistID02=t[0].RegistID,e.send_str02=i,e.usr_str02=s,e.zlje02="",e.ssje02="",e.dialogFormVisible=!0}).catch(function(){e.loading=!1})},handleSelectionChange:function(e){this.selItems=e},zhaoLing:function(){this.zlje02=this.ssje02-this.Money02,this.zlje02=this.zlje02.toFixed(2)},handleDelete:function(e,t){this.CaseNumber02=t.CaseNumber,this.InvoiceNum02=t.InvoiceNum,this.RealName02=t.RealName,this.Money02=t.Money,this.prenID02=t.prenID,this.dialogFormVisible=!0},updateInvoice:function(){var e=this;null==this.InvoiceNum02||0==this.InvoiceNum02.length||null==this.FeeType02||0==this.FeeType02.length||null==this.ssje02||0==this.ssje02.length?e.$message({type:"info",message:"发票号 支付方式 实收金额 不能为空!"}):(h("/neureg/invoice/add",{InvoiceNum:this.InvoiceNum02,CaseNumber02:this.CaseNumber02,Money:this.Money02,FeeType:this.FeeType02,InvoiceNum_old:this.jf_ids,RegisterID:this.RegisterID02,RegistID:this.RegistID02,prenID:this.prenID02,aaa:e.usr_str02,bbb:e.send_str02}).then(function(t){var a=t.data;e.$message({type:a.status,message:a.msg})},function(t){403==t.response.status&&e.$message({type:"error",message:t.response.data}),e.loading=!1}),e.loading=!1,e.dialogFormVisible=!1,e.refresh())},refresh:function(){var e=this;e.ids="",e.tableData="",b("/neureg/invoice/bean01").then(function(t){var a=t.data;e.InvoiceNum02=parseInt(a.invoiceNum)+1}),b("/neusys/constantItem/all2?page=1&count=100&keywords=5").then(function(t){e.categories3=t.data.list})}},mounted:function(){this.loading=!1,this.refresh()},filters:{showScope:function(e){return"1"==e?"暂存":"2"==e?"已开立":"3"==e?"已交费":"4"==e?"已取药":"5"==e?"已退药":"6"==e?"已退费":"0"==e?"已作废":void 0}},data:function(){return{RealName:"",FeeType02:"",prenID02:"",RegisterID02:"",RegistId02:"",send_str02:"",usr_str02:"",ids:"",jf_ids:"",zbs:0,ssje02:"",zlje02:"",SettleId02:"",ExpenseId02:"",cateName:"",selItems:[],categories:[],categories2:[],loading:!1,currentPage:1,totalCount:2,pageSize:3,keywords:"",keywords2:"",keywords3:"",Id02:"",InvoiceNum02:"",dialogAddVisible:!1,dialogFormVisible:!1,tableData:[],tableData2:[],tableInfo:[]}}},A={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("font",{staticStyle:{"font-size":"15px","font-family":"'Microsoft YaHei'"}},[e._v("\n       患者信息查询")]),e._v(" \n"),a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{attrs:{color:"red"}},[e._v("*")]),e._v(" "),a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("病 历 号 :")]),e._v(" \n       "),a("el-input",{staticStyle:{width:"110px"},attrs:{placeholder:"病历号",again:"left",size:"mini"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchClick(t)}},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}})],1)]),e._v(" "),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-button",{staticStyle:{"margin-left":"3px"},attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.searchClick}},[e._v("搜索\n      ")])],1)])],1),e._v(" "),a("br"),e._v(" "),a("font",{staticStyle:{"font-size":"15px","font-family":"'Microsoft YaHei'"}},[e._v("\n        患者信息确认")]),e._v(" \n\n"),a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("姓      名:")]),e._v(" \n       "),a("el-input",{staticStyle:{width:"110px"},attrs:{placeholder:"姓名",again:"left",size:"mini",readonly:""},model:{value:e.RealName,callback:function(t){e.RealName=t},expression:"RealName"}})],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("身份证号:")]),e._v(" "),a("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:"身份证号",size:"mini",readonly:""},model:{value:e.IDnumber,callback:function(t){e.IDnumber=t},expression:"IDnumber"}})],1)]),e._v(" "),a("el-col",{attrs:{span:9}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("家庭住址:")]),e._v(" "),a("el-input",{staticStyle:{width:"330px"},attrs:{placeholder:"家庭住址",size:"mini",readonly:""},model:{value:e.HomeAddress,callback:function(t){e.HomeAddress=t},expression:"HomeAddress"}})],1)])],1),e._v(" "),a("el-main",{staticClass:"gao_cate_mana_main"},[a("font",{staticStyle:{"font-size":"15px","font-family":"'Microsoft YaHei'"}},[e._v("\n        患者消费信息")]),e._v(" \n "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"left"}}),e._v(" "),e._e(),e._v(" "),e._e(),e._v(" "),e._e(),e._v(" "),a("el-table-column",{attrs:{label:"病历号",prop:"CaseNumber",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"姓名",prop:"RealName",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"项目名称",prop:"DrugsName",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"单价",prop:"DrugsPrice",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"数量",prop:"Amount",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"开立时间",prop:"PrescriptionTime",width:"220",align:"left"}}),e._v(" "),e._e(),e._v(" "),e._e(),e._v(" "),a("el-table-column",{attrs:{label:"状态",prop:"State",width:"120",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e._f("showScope")(t.row.State))+"\n  ")]}}])})],1),e._v(" "),a("br"),e._v(" "),this.tableData.length>0?a("el-button",{staticStyle:{"margin-top":"10px",width:"100px"},attrs:{type:"primary",icon:"el-icon-goods",disabled:0==this.selItems.length,size:"mini"},on:{click:e.chargeAll}},[e._v("收费结算\n      ")]):e._e()],1),e._v(" "),a("el-dialog",{attrs:{title:"发票信息(交费)",visible:e.dialogFormVisible,width:"650px",align:"center"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{staticClass:"demo-form-inline",attrs:{"label-position":e.labelPosition,"label-width":e.labelWidth,inline:!0,model:e.formEdit,size:"mini"}},[a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("发票号(可修改):")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"发票号",size:"mini"},model:{value:e.InvoiceNum02,callback:function(t){e.InvoiceNum02=t},expression:"InvoiceNum02"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("病历号:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"病历号",size:"mini",readonly:""},model:{value:e.CaseNumber02,callback:function(t){e.CaseNumber02=t},expression:"CaseNumber02"}})],1)],1)])],1),e._v(" "),a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("患者姓名:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"患者姓名",size:"mini",readonly:""},model:{value:e.RealName02,callback:function(t){e.RealName02=t},expression:"RealName02"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("支付方式:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-select",{staticStyle:{width:"110px"},attrs:{placeholder:"支付方式",size:"mini"},model:{value:e.FeeType02,callback:function(t){e.FeeType02=t},expression:"FeeType02"}},e._l(e.categories3,function(e){return a("el-option",{key:e.ID,attrs:{label:e.ConstantName,value:e.ID}})}),1)],1)])],1),e._v(" "),a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("应收金额:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"应收金额",size:"mini",readonly:""},model:{value:e.Money02,callback:function(t){e.Money02=t},expression:"Money02"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("实收金额:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-input",{attrs:{placeholder:"实收金额",size:"mini"},on:{blur:function(t){return e.zhaoLing()}},model:{value:e.ssje02,callback:function(t){e.ssje02=t},expression:"ssje02"}})],1)])],1),e._v(" "),a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("找零金额:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"找零金额",size:"mini",readonly:""},model:{value:e.zlje02,callback:function(t){e.zlje02=t},expression:"zlje02"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[e._e()],1)],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[e._e()],1)],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[e._e()],1)],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[e._e()],1)],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[e._e()],1)],1)])],1)],1),e._v(" "),a("br"),e._v(" "),a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.updateInvoice()}}},[e._v("收 费")])],1)],1)},staticRenderFns:[]},H=a("VU/8")(V,A,!1,null,null,null).exports,B={methods:{searchClick:function(){null!=this.keywords&&0!=this.keywords.length||null!=this.keywords2&&0!=this.keywords2.length?this.loadBlogs(1,100):this.$message({type:"info",message:"病历号不能为空!"})},loadBlogs:function(e,t){var a=this,i=this;this.tableData="";var s="/neureg/patientCosts/get_patient?keywords="+this.keywords;b(s).then(function(e){var t=e.data;null==t||0==t.length?(a.HomeAddress="",a.RealName="",a.IDnumber=""):(a.HomeAddress=t.homeAddress,a.RealName=t.realName,a.IDnumber=t.iDnumber)});var l="/neureg/patientCosts/patient_refund?page="+e+"&count="+t+"&keywords="+this.keywords;b(l).then(function(e){i.loading=!1,200==e.status?(i.tableData=e.data.list,i.totalCount=e.data.totalCount,i.zbs=e.data.totalCount):i.$message({type:"error",message:"数据加载失败!"})},function(e){i.loading=!1,403==e.response.status?i.$message({type:"error",message:e.response.data}):i.$message({type:"error",message:"数据加载失败!"})}).catch(function(e){i.loading=!1,i.$message({type:"error",message:"数据加载失败!"})});s="/neureg/patientCosts/patient_getTab?keywords="+this.keywords+"&state1=5&state2=3";b(s).then(function(e){i.loading=!1,200==e.status&&(i.tableInfo=e.data.list)})},currentChange:function(e){this.currentPage=e,this.loading=!0,this.loadBlogs(e,this.pageSize)},bnx:function(){return this.$confirm("不可以修改的","提示",{type:"warning",confirmButtonText:"确定",cancelButtonText:"取消"}),!1},refundAll:function(){var e=this;this.$confirm("确认退费这 "+this.selItems.length+" 条数据?","提示",{type:"warning",confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){for(var t=e.selItems,a=0,i="",s="",l=0;l<t.length;l++)a+=t[l].DrugsPrice*t[l].Amount,i=""+i+t[l].tabnum+"|"+t[l].PCID+",",s=""+s+t[l].DrugsName+"|"+t[l].DrugsPrice+"|"+t[l].Amount+"|"+t[l].RegistID+",";a=a.toFixed(2),e.CaseNumber02=t[0].CaseNumber,e.RealName02=t[0].RealName,e.Money02=a,e.prenID02=t[0].prenID,e.RegisterID02=t[0].RegisterID,e.RegistID02=t[0].RegistID,e.zlje02="",e.ssje02="",e.send_str02=i,e.usr_str02=s,e.dialogFormVisible=!0}).catch(function(){e.loading=!1})},handleSelectionChange:function(e){this.selItems=e},zhaoLing:function(){this.zlje02=this.ssje02-this.Money02},handleDelete:function(e,t){this.CaseNumber02=t.CaseNumber,this.InvoiceNum02=t.InvoiceNum,this.RealName02=t.RealName,this.Money02=t.Money,this.SettleName02=t.SettleName,this.Id02=t.Id,this.dialogFormVisible=!0},updateInvoice:function(){var e=this;null==this.InvoiceNum02||0==this.InvoiceNum02.length?e.$message({type:"info",message:"发票号不能为空!"}):(h("/neureg/invoice/add318",{InvoiceNum:this.InvoiceNum02,CaseNumber02:this.CaseNumber02,Money:this.Money02,FeeType:this.FeeType02,InvoiceNum_old:this.jf_ids,RegisterID:this.RegisterID02,RegistID:this.RegistID02,prenID:this.prenID02,aaa:e.usr_str02,bbb:e.send_str02}).then(function(t){var a=t.data;e.$message({type:a.status,message:a.msg})},function(t){403==t.response.status&&e.$message({type:"error",message:t.response.data}),e.loading=!1}),e.loading=!1,e.dialogFormVisible=!1,e.refresh(),e.loading=!1,e.dialogFormVisible=!1,e.refresh())},deleteCate:function(e){var t=this;this.loading=!0,v("/ucsys/patientCosts/up/"+e).then(function(e){var a=e.data;t.$message({type:a.status,message:a.msg}),t.refresh()},function(e){t.loading=!1,403==e.response.status?t.$message({type:"error",message:e.response.data}):500==e.response.status&&t.$message({type:"error",message:"删除失败!"})})},refresh:function(){var e=this;e.ids="",this.tableData="",b("/neureg/invoice/bean01").then(function(t){var a=t.data;e.InvoiceNum02=parseInt(a.invoiceNum)+1})}},mounted:function(){this.loading=!1,this.refresh()},filters:{showScope:function(e){return"1"==e?"暂存":"2"==e?"已开立":"3"==e?"已交费":"4"==e?"已取药":"5"==e?"已退药":"6"==e?"已退费":"0"==e?"已作废":void 0}},data:function(){return{ids:"",zbs:0,ssje02:"",zlje02:"",SettleId02:"",ExpenseId02:"",RegisterID02:"",RegistId02:"",InvoiceId02:"",send_str02:"",usr_str02:"",HomeAddress:"",RealName:"",IDnumber:"",cateName:"",cityName:"",nationName:"",sfzh:"",selItems:[],categories:[],categories2:[],loading:!1,currentPage:1,totalCount:2,pageSize:3,keywords:"",keywords2:"",keywords3:"",Id02:"",InvoiceNum02:"",dialogAddVisible:!1,dialogFormVisible:!1,tableData:[],tableInfo:[]}}},U={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("font",{staticStyle:{"font-size":"15px","font-family":"'Microsoft YaHei'"}},[e._v("\n       患者信息查询")]),e._v(" \n"),a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{attrs:{color:"red"}},[e._v("*")]),e._v(" "),a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("病 历 号 :")]),e._v(" \n       "),a("el-input",{staticStyle:{width:"110px"},attrs:{placeholder:"病历号",again:"left",size:"mini"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchClick(t)}},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}})],1)]),e._v(" "),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-button",{staticStyle:{"margin-left":"3px"},attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.searchClick}},[e._v("搜索\n      ")])],1)])],1),e._v(" "),a("br"),e._v(" "),a("font",{staticStyle:{"font-size":"15px","font-family":"'Microsoft YaHei'"}},[e._v("\n        患者信息确认")]),e._v(" \n\n"),a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("姓      名:")]),e._v(" \n       "),a("el-input",{staticStyle:{width:"110px"},attrs:{placeholder:"姓名",again:"left",size:"mini",readonly:""},model:{value:e.RealName,callback:function(t){e.RealName=t},expression:"RealName"}})],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("身份证号:")]),e._v(" "),a("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:"身份证号",size:"mini",readonly:""},model:{value:e.IDnumber,callback:function(t){e.IDnumber=t},expression:"IDnumber"}})],1)]),e._v(" "),a("el-col",{attrs:{span:9}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("家庭住址:")]),e._v(" "),a("el-input",{staticStyle:{width:"330px"},attrs:{placeholder:"家庭住址",size:"mini",readonly:""},model:{value:e.HomeAddress,callback:function(t){e.HomeAddress=t},expression:"HomeAddress"}})],1)])],1),e._v(" "),a("el-main",{staticClass:"gao_cate_mana_main"},[a("font",{staticStyle:{"font-size":"15px","font-family":"'Microsoft YaHei'"}},[e._v("\n        患者交费信息")]),e._v(" \n "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"left"}}),e._v(" "),e._e(),e._v(" "),e._e(),e._v(" "),e._e(),e._v(" "),a("el-table-column",{attrs:{label:"病历号",prop:"CaseNumber",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"姓名",prop:"RealName",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"项目名称",prop:"DrugsName",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"单价",prop:"DrugsPrice",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"数量",prop:"Amount",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"开立时间",prop:"PrescriptionTime",width:"220",align:"left"}}),e._v(" "),e._e(),e._v(" "),e._e(),e._v(" "),a("el-table-column",{attrs:{label:"状态",prop:"State",width:"120",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e._f("showScope")(t.row.State))+"\n  ")]}}])})],1),e._v(" "),a("br"),e._v(" "),this.tableData.length>0?a("el-button",{staticStyle:{"margin-top":"10px",width:"100px"},attrs:{type:"primary",icon:"el-icon-goods",disabled:0==this.selItems.length,size:"mini"},on:{click:e.refundAll}},[e._v("退费确认\n      ")]):e._e()],1),e._v(" "),a("el-dialog",{attrs:{title:"发票信息(退费)",visible:e.dialogFormVisible,width:"650px",align:"center"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{staticClass:"demo-form-inline",attrs:{"label-position":e.labelPosition,"label-width":e.labelWidth,inline:!0,model:e.formEdit,size:"mini"}},[a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("发票号(可修改):")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"发票号",size:"mini"},model:{value:e.InvoiceNum02,callback:function(t){e.InvoiceNum02=t},expression:"InvoiceNum02"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("病历号:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"病历号",size:"mini",readonly:""},model:{value:e.CaseNumber02,callback:function(t){e.CaseNumber02=t},expression:"CaseNumber02"}})],1)],1)])],1),e._v(" "),a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("患者姓名:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"患者姓名",size:"mini",readonly:""},model:{value:e.RealName02,callback:function(t){e.RealName02=t},expression:"RealName02"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("应退金额:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"应退金额",size:"mini",readonly:""},model:{value:e.Money02,callback:function(t){e.Money02=t},expression:"Money02"}})],1)],1)])],1),e._v(" "),a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[e._e()],1)],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[e._e()],1)],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[e._e()],1)],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[e._e()],1)],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[e._e()],1)],1)])],1)],1),e._v(" "),a("br"),e._v(" "),a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.updateInvoice()}}},[e._v("退 费")])],1)],1)},staticRenderFns:[]},Y=a("VU/8")(B,U,!1,null,null,null).exports,q={methods:{searchClick:function(){null==this.keywords||0==this.keywords.length?this.$message({type:"info",message:"病历号不能为空!"}):this.loadBlogs(1,100)},loadBlogs:function(e,t){var a=this,i=this,s="/neureg/register/get_register?CaseNumber="+this.keywords;b(s).then(function(e){var t=e.data;null==t||0==t.length?(a.RealName="",a.IDnumber="",a.HomeAddress=""):(a.RealName=t.realName,a.IDnumber=t.iDnumber,a.HomeAddress=t.homeAddress)});var l="/neureg/register/register_list?page="+e+"&count="+t+"&keywords="+this.keywords+"&keywords2="+this.keywords2;b(l).then(function(e){i.loading=!1,200==e.status?(i.tableData=e.data.list,i.totalCount=e.data.totalCount):i.$message({type:"error",message:"数据加载失败!"})},function(e){i.loading=!1,403==e.response.status?i.$message({type:"error",message:e.response.data}):i.$message({type:"error",message:"数据加载失败!"})}).catch(function(e){i.loading=!1,i.$message({type:"error",message:"数据加载失败!"})})},currentChange:function(e){this.currentPage=e,this.loading=!0,this.loadBlogs(e,this.pageSize)},deleteAll:function(){var e=this;this.$confirm("确认删除这 "+this.selItems.length+" 条数据?","提示",{type:"warning",confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){for(var t=e.selItems,a="",i=0;i<t.length;i++)a+=t[i].id+",";e.deleteCate(a.substring(0,a.length-1))}).catch(function(){e.loading=!1})},handleSelectionChange:function(e){this.selItems=e},handleEdit:function(e,t){},handleUpdateState:function(e,t){var a=this;"1"==t.VisitState?this.$confirm("确认退号 “"+t.RealName+"” 吗 ?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){f("/neureg/register/updateState",{ID:t.ID,InvoiceNum:t.InvoiceNum,Money:t.Money,RegisterID:t.RegisterID,RegistID:t.RegistID,invID:t.invID,FeeType:t.FeeType,DeptID:t.DeptID,Createteime:t.Createteime,CreateOperID:t.CreateOperID,pid:t.pid}).then(function(e){var t=e.data;a.$message({type:t.status,message:t.msg})},function(e){403==e.response.status&&a.$message({type:"error",message:e.response.data}),a.loading=!1}),a.loadBlogs(1,100)}).catch(function(){a.loading=!1}):a.$message({type:"info",message:"只有已挂号未看诊的患者才可以退号"})},deleteCate:function(e){},refresh:function(){this.loading=!1}},mounted:function(){this.tableData=""},filters:{showScope:function(e){return"1"==e?"已挂号":"2"==e?"医生接诊":"3"==e?"看诊结束":"4"==e?"已退号":void 0}},data:function(){return{cateName:"",selItems:[],categories:[],loading:!1,currentPage:1,totalCount:2,pageSize:10,keywords:"",keywords2:"",dialogAddVisible:!1,dialogFormVisible:!1,dialogAddVisible000:!1,tableData:[]}}},j={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("font",{staticStyle:{"font-size":"15px","font-family":"'Microsoft YaHei'"}},[e._v("\n        患者信息查询")]),e._v(" \n"),a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{attrs:{color:"red"}},[e._v("*")]),e._v(" "),a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("病 历 号 :")]),e._v(" \n       "),a("el-input",{staticStyle:{width:"110px"},attrs:{placeholder:"病历号",again:"left",size:"mini"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchClick(t)}},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}})],1)]),e._v(" "),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-button",{staticStyle:{"margin-left":"3px"},attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.searchClick}},[e._v("搜索\n      ")])],1)])],1),e._v(" "),a("br"),e._v(" "),a("font",{staticStyle:{"font-size":"15px","font-family":"'Microsoft YaHei'"}},[e._v("\n        患者信息确认")]),e._v(" \n\n"),a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("姓      名:")]),e._v(" \n       "),a("el-input",{staticStyle:{width:"110px"},attrs:{placeholder:"姓名",again:"left",size:"mini",readonly:""},model:{value:e.RealName,callback:function(t){e.RealName=t},expression:"RealName"}})],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("身份证号:")]),e._v(" "),a("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:"身份证号",size:"mini",readonly:""},model:{value:e.IDnumber,callback:function(t){e.IDnumber=t},expression:"IDnumber"}})],1)]),e._v(" "),a("el-col",{attrs:{span:9}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("家庭住址:")]),e._v(" "),a("el-input",{staticStyle:{width:"330px"},attrs:{placeholder:"家庭住址",size:"mini",readonly:""},model:{value:e.HomeAddress,callback:function(t){e.HomeAddress=t},expression:"HomeAddress"}})],1)])],1),e._v(" "),a("el-main",{staticClass:"gao_cate_mana_main"},[a("font",{staticStyle:{"font-size":"15px","font-family":"'Microsoft YaHei'"}},[e._v("\n患者挂号信息")]),e._v(" \n "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[e._e(),e._v(" "),e._e(),e._v(" "),e._e(),e._v(" "),e._e(),e._v(" "),e._e(),e._v(" "),e._e(),e._v(" "),e._e(),e._v(" "),e._e(),e._v(" "),e._e(),e._v(" "),e._e(),e._v(" "),e._e(),e._v(" "),a("el-table-column",{attrs:{label:"病历号",prop:"CaseNumber",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"姓名",prop:"RealName",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"身份证号",prop:"IDnumber",width:"170",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"挂号日期",prop:"VisitDate",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"挂号午别",prop:"Noon",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"看诊科室",prop:"DeptName",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"看诊状态",prop:"VisitState",width:"120",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(e._f("showScope")(t.row.VisitState))+"\n  ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-sold-out"},on:{click:function(a){return e.handleUpdateState(t.$index,t.row)}}},[e._v("退号\n            ")])]}}])})],1)],1)],1)},staticRenderFns:[]};var X=a("VU/8")(q,j,!1,function(e){a("PZX0")},null,null).exports,L={methods:{searchClick:function(){null==this.keywords||0==this.keywords.length?this.$message({type:"info",message:"病历号不能为空!"}):this.loadBlogs(1,100)},loadBlogs:function(e,t){var a=this,i=this,s="/neureg/register/get_register?CaseNumber="+this.keywords;b(s).then(function(e){var t=e.data;null==t||0==t.length?(a.RealName="",a.IDnumber="",a.HomeAddress=""):(a.RealName=t.realName,a.IDnumber=t.iDnumber,a.HomeAddress=t.homeAddress)});var l="/neureg/invoice/invoice_query?page="+e+"&count="+t+"&keywords="+this.keywords;b(l).then(function(e){i.loading=!1,200==e.status?(i.tableData=e.data.list,i.totalCount=e.data.totalCount):i.$message({type:"error",message:"数据加载失败!"})},function(e){i.loading=!1,403==e.response.status?i.$message({type:"error",message:e.response.data}):i.$message({type:"error",message:"数据加载失败!"})}).catch(function(e){i.loading=!1,i.$message({type:"error",message:"数据加载失败!"})})},currentChange:function(e){this.currentPage=e,this.loading=!0,this.loadBlogs(e,this.pageSize)},handleSelectionChange:function(e){this.selItems=e},handleMakeup:function(e,t){this.CaseNumber02=t.CaseNumber,this.InvoiceNum02=t.InvoiceNum,this.RealName02=t.RealName,this.Money02=t.Money,this.SettleName02=t.SettleName,this.ID02=t.ID,this.dialogFormVisible=!0},updateInvoice:function(){var e=this;null==this.InvoiceNum02||0==this.InvoiceNum02.length?e.$message({type:"info",message:"发票编号不能为空!"}):(f("/neureg/invoice/invoice_makeup",{ID:this.ID02,InvoiceNum:this.InvoiceNum02}).then(function(t){var a=t.data;e.$message({type:a.status,message:a.msg})},function(t){403==t.response.status&&e.$message({type:"error",message:t.response.data}),e.loading=!1}),e.loading=!1,e.dialogFormVisible=!1,e.searchClick(),e.refresh())},refresh:function(){this.loading=!1}},mounted:function(){this.tableData=""},filters:{showScope:function(e){return"1"==e?"正常":"2"==e?"作废":"3"==e?"未打印":"4"==e?"已打印":"5"==e?"已重打":"6"==e?"已补打":"7"==e?"冲红":void 0}},data:function(){return{cateName:"",sfzh:"",selItems:[],categories:[],loading:!1,currentPage:1,totalCount:2,pageSize:3,keywords:"",keywords2:"",ID02:"",dialogAddVisible:!1,dialogFormVisible:!1,tableData:[],tableData2:[]}}},O={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("font",{staticStyle:{"font-size":"15px","font-family":"'Microsoft YaHei'"}},[e._v("\n        患者信息查询")]),e._v(" \n"),a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{attrs:{color:"red"}},[e._v("*")]),e._v(" "),a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("病 历 号 :")]),e._v(" \n       "),a("el-input",{staticStyle:{width:"110px"},attrs:{placeholder:"病历号",again:"left",size:"mini"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchClick(t)}},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}})],1)]),e._v(" "),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-button",{staticStyle:{"margin-left":"3px"},attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.searchClick}},[e._v("搜索\n      ")])],1)])],1),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("font",{staticStyle:{"font-size":"15px","font-family":"'Microsoft YaHei'"}},[e._v("\n        患者信息确认")]),e._v(" \n\n"),a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("姓      名:")]),e._v(" \n       "),a("el-input",{staticStyle:{width:"110px"},attrs:{placeholder:"姓名",again:"left",size:"mini",readonly:""},model:{value:e.RealName,callback:function(t){e.RealName=t},expression:"RealName"}})],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("身份证号:")]),e._v(" "),a("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:"身份证号",size:"mini",readonly:""},model:{value:e.IDnumber,callback:function(t){e.IDnumber=t},expression:"IDnumber"}})],1)]),e._v(" "),a("el-col",{attrs:{span:9}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("家庭住址:")]),e._v(" "),a("el-input",{staticStyle:{width:"330px"},attrs:{placeholder:"家庭住址",size:"mini",readonly:""},model:{value:e.HomeAddress,callback:function(t){e.HomeAddress=t},expression:"HomeAddress"}})],1)])],1),e._v(" "),a("el-main",{staticClass:"gao_cate_mana_main"},[a("font",{staticStyle:{"font-size":"15px","font-family":"'Microsoft YaHei'"}},[e._v("\n        患者发票信息")]),e._v(" \n "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[e._e(),e._v(" "),a("el-table-column",{attrs:{label:"病历号",prop:"CaseNumber",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"发票号",prop:"InvoiceNum",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"姓名",prop:"RealName",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"金额",prop:"Money",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"发票状态",prop:"State",width:"120",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(e._f("showScope")(t.row.State))+"\n  ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"看诊日期",prop:"VisitDate",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-sold-out"},on:{click:function(a){return e.handleMakeup(t.$index,t.row)}}},[e._v("发票补打\n            ")])]}}])})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"发票补打(发票信息)",visible:e.dialogFormVisible,width:"550px",align:"center"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{staticClass:"demo-form-inline",attrs:{"label-position":e.labelPosition,"label-width":e.labelWidth,inline:!0,model:e.formEdit,size:"mini"}},[a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("发票号(可修改):")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"发票号",size:"mini"},model:{value:e.InvoiceNum02,callback:function(t){e.InvoiceNum02=t},expression:"InvoiceNum02"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("病历号:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"病历号",size:"mini",readonly:""},model:{value:e.CaseNumber02,callback:function(t){e.CaseNumber02=t},expression:"CaseNumber02"}})],1)],1)])],1),e._v(" "),a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("患者姓名:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"患者姓名",size:"mini",readonly:""},model:{value:e.RealName02,callback:function(t){e.RealName02=t},expression:"RealName02"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("总额:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"总额",size:"mini",readonly:""},model:{value:e.Money02,callback:function(t){e.Money02=t},expression:"Money02"}})],1)],1)])],1),e._v(" "),a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[e._e()],1)],1)])],1)],1),e._v(" "),a("br"),e._v(" "),a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.updateInvoice()}}},[e._v("打 印")])],1)],1)},staticRenderFns:[]},G=a("VU/8")(L,O,!1,null,null,null).exports,W={methods:{searchClick:function(){null==this.keywords||0==this.keywords.length?this.$message({type:"info",message:"病历号不能为空!"}):this.loadBlogs(1,100)},loadBlogs:function(e,t){var a=this,i=this,s="/neureg/register/get_register?CaseNumber="+this.keywords;b(s).then(function(e){var t=e.data;null==t||0==t.length?(a.RealName="",a.IDnumber="",a.HomeAddress=""):(a.RealName=t.realName,a.IDnumber=t.iDnumber,a.HomeAddress=t.homeAddress)});var l="/neureg/invoice/invoice_query2?page="+e+"&count="+t+"&keywords="+this.keywords;b(l).then(function(e){i.loading=!1,200==e.status?(i.tableData=e.data.list,i.totalCount=e.data.totalCount):i.$message({type:"error",message:"数据加载失败!"})},function(e){i.loading=!1,403==e.response.status?i.$message({type:"error",message:e.response.data}):i.$message({type:"error",message:"数据加载失败!"})}).catch(function(e){i.loading=!1,i.$message({type:"error",message:"数据加载失败!"})})},currentChange:function(e){this.currentPage=e,this.loading=!0,this.loadBlogs(e,this.pageSize)},handleSelectionChange:function(e){this.selItems=e},handleReplay:function(e,t){this.CaseNumber02=t.CaseNumber,this.InvoiceNum_old=t.InvoiceNum,this.RealName02=t.RealName,this.Money02=t.Money,this.SettleName02=t.SettleName,this.ID02=t.ID,this.UserID02=t.UserID,this.RegistID02=t.RegistID,this.FeeType02=t.FeeType,this.InvoiceNum02=this.new_fph,this.dialogFormVisible=!0},updateInvoice:function(){var e=this;null==this.InvoiceNum02||0==this.InvoiceNum02.length?e.$message({type:"info",message:"发票编号不能为空!"}):(h("/neureg/invoice/invoice_replay",{InvoiceNum:this.InvoiceNum02,CaseNumber:this.CaseNumber02,Money:this.Money02,RegisterID:this.UserID02,RegistID:this.RegistID02,SettleId:this.SettleId02,FeeType:this.FeeType02,Back:this.ID02,ID:this.ID02}).then(function(t){var a=t.data;e.$message({type:a.status,message:a.msg})},function(t){403==t.response.status&&e.$message({type:"error",message:t.response.data}),e.loading=!1}),e.loading=!1,e.dialogFormVisible=!1,e.refresh())},refresh:function(){var e=this;this.loading=!1,b("/neureg/invoice/bean01").then(function(t){var a=t.data;e.new_fph=parseInt(a.invoiceNum)+1})}},mounted:function(){this.tableData="",this.loading=!1,this.refresh()},filters:{showScope:function(e){return"1"==e?"正常":"2"==e?"作废":"3"==e?"未打印":"4"==e?"已打印":"5"==e?"已重打":"6"==e?"已补打":"7"==e?"冲红":void 0}},data:function(){return{cateName:"",selItems:[],categories:[],loading:!1,currentPage:1,totalCount:2,pageSize:3,keywords:"",keywords2:"",ID02:"",UserID02:"",RegistID02:"",FeeType02:"",SettleID02:"",dialogAddVisible:!1,dialogFormVisible:!1,tableData:[],tableData2:[]}}},Q={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("font",{staticStyle:{"font-size":"15px","font-family":"'Microsoft YaHei'"}},[e._v("\n        患者信息查询")]),e._v(" \n"),a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{attrs:{color:"red"}},[e._v("*")]),e._v(" "),a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("病 历 号 :")]),e._v(" \n       "),a("el-input",{staticStyle:{width:"110px"},attrs:{placeholder:"病历号",again:"left",size:"mini"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchClick(t)}},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}})],1)]),e._v(" "),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-button",{staticStyle:{"margin-left":"3px"},attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.searchClick}},[e._v("搜索\n      ")])],1)])],1),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("font",{staticStyle:{"font-size":"15px","font-family":"'Microsoft YaHei'"}},[e._v("\n        患者信息确认")]),e._v(" \n\n"),a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("姓      名:")]),e._v(" \n       "),a("el-input",{staticStyle:{width:"110px"},attrs:{placeholder:"姓名",again:"left",size:"mini",readonly:""},model:{value:e.RealName,callback:function(t){e.RealName=t},expression:"RealName"}})],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("身份证号:")]),e._v(" "),a("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:"身份证号",size:"mini",readonly:""},model:{value:e.IDnumber,callback:function(t){e.IDnumber=t},expression:"IDnumber"}})],1)]),e._v(" "),a("el-col",{attrs:{span:9}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("家庭住址:")]),e._v(" "),a("el-input",{staticStyle:{width:"330px"},attrs:{placeholder:"家庭住址",size:"mini",readonly:""},model:{value:e.HomeAddress,callback:function(t){e.HomeAddress=t},expression:"HomeAddress"}})],1)])],1),e._v(" "),a("el-main",{staticClass:"gao_cate_mana_main"},[a("font",{staticStyle:{"font-size":"15px","font-family":"'Microsoft YaHei'"}},[e._v("\n        患者发票信息")]),e._v(" \n "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[e._e(),e._v(" "),e._e(),e._v(" "),e._e(),e._v(" "),e._e(),e._v(" "),e._e(),e._v(" "),a("el-table-column",{attrs:{label:"病历号",prop:"CaseNumber",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"发票号",prop:"InvoiceNum",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"姓名",prop:"RealName",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"金额",prop:"Money",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"发票状态",prop:"State",width:"120",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(e._f("showScope")(t.row.State))+"\n  ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"看诊日期",prop:"VisitDate",width:"120",align:"left"}}),e._v(" "),e._e(),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-sold-out"},on:{click:function(a){return e.handleReplay(t.$index,t.row)}}},[e._v("发票重打\n            ")])]}}])})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"发票重打(发票信息)",visible:e.dialogFormVisible,width:"550px",align:"center"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{staticClass:"demo-form-inline",attrs:{"label-position":e.labelPosition,"label-width":e.labelWidth,inline:!0,model:e.formEdit,size:"mini"}},[a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("发票号(可修改):")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"发票号",size:"mini"},model:{value:e.InvoiceNum02,callback:function(t){e.InvoiceNum02=t},expression:"InvoiceNum02"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("病历号:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"病历号",size:"mini",readonly:""},model:{value:e.CaseNumber02,callback:function(t){e.CaseNumber02=t},expression:"CaseNumber02"}})],1)],1)])],1),e._v(" "),a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("患者姓名:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"患者姓名",size:"mini",readonly:""},model:{value:e.RealName02,callback:function(t){e.RealName02=t},expression:"RealName02"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("总额:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"总额",size:"mini",readonly:""},model:{value:e.Money02,callback:function(t){e.Money02=t},expression:"Money02"}})],1)],1)])],1),e._v(" "),a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[e._e()],1)],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[e._e()],1)],1)]),e._v(" "),a("el-col",{attrs:{span:3}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[e._e()],1)],1)]),e._v(" "),a("el-col",{attrs:{span:3}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[e._e()],1)],1)]),e._v(" "),a("el-col",{attrs:{span:3}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[e._e()],1)],1)]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[e._e()],1)],1)])],1)],1),e._v(" "),a("br"),e._v(" "),a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.updateInvoice()}}},[e._v("打 印")])],1),e._v(" "),e._e()],1)},staticRenderFns:[]},Z=a("VU/8")(W,Q,!1,null,null,null).exports,K={data:function(){return{aa:"2018-12-12 18:00:00----2018-12-13 18:00:00",tableData6:[{c01:"日结时间范围"},{c01:"制表人",c02:"22",c03:"23",c04:"24",c05:"25",c06:"26",c07:"27",c08:"28",c09:"29",c10:"210",c11:"211",c12:"212",c13:"213"}]}},methods:{arraySpanMethod:function(e){var t=e.row,a=e.column,i=(e.rowIndex,e.columnIndex);if(console.log(t,a),"12"==t.c02){if(1==i)return[1,2];if(2==i)return[0,0];if(2==i)return[1,2];if(3==i)return[0,0]}},objectSpanMethod:function(e){e.row,e.column;var t=e.rowIndex;if(0===e.columnIndex)return t%2==0?{rowspan:4,colspan:4}:{rowspan:0,colspan:0}}}},J={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("gao-el-container",[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("收款员:")]),e._v("    \n         "),a("el-select",{staticStyle:{width:"110px"},attrs:{placeholder:"收款员",size:"mini"}},[a("el-option",{attrs:{label:"张三",value:"1"}})],1),a("font",{attrs:{color:"red"}},[e._v("*")]),e._v("  \n                     \n\n"),a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("统计日期(上次结束时间):")]),e._v("   \n"),e._v(" "),a("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"2018-12-12 18:00:00",again:"left",size:"mini"}}),e._v("    \n\n \n"),a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("至:")]),e._v(" \n"),a("el-date-picker",{staticStyle:{width:"130px"},attrs:{type:"date",placeholder:"选择日期",size:"mini"}}),e._v(" "),a("el-time-picker",{staticStyle:{width:"130px"},attrs:{placeholder:"任意时间点",size:"mini"}}),e._v("  \n     \n \n\n        \n    "),a("el-button",{staticStyle:{"margin-left":"3px"},attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:function(e){}}},[e._v("日结")]),e._v(" "),a("el-button",{staticStyle:{"margin-left":"3px"},attrs:{type:"primary",icon:"el-icon-goods",size:"mini"},on:{click:function(e){}}},[e._v("保存")]),e._v(" "),a("br"),a("br"),e._v(" "),a("font",{staticStyle:{"font-size":"15px","font-family":"'Microsoft YaHei'"}},[e._v("\n门诊收费日结单")]),e._v(" \n\n"),a("table",{attrs:{border:"0",cellspacing:"1",bgcolor:"#990033"}},[a("tr",{attrs:{bgcolor:"#fff"}},[a("td",[e._v("日结时间范围")]),e._v(" "),a("td",{attrs:{colspan:"12"}},[e._v(e._s(e.aa))])]),e._v(" "),a("tr",{attrs:{bgcolor:"#fff"}},[a("td",[e._v("制表人")]),e._v(" "),a("td",{attrs:{colspan:"3"}},[e._v("张三")]),e._v(" "),a("td",[e._v("收款员")]),e._v(" "),a("td",{attrs:{colspan:"5"}},[e._v("张三")]),e._v(" "),a("td",[e._v("制表时间")]),e._v(" "),a("td",{attrs:{colspan:"2"}},[e._v("2018-12-30")])]),e._v(" "),a("tr",{attrs:{bgcolor:"#fff"}},[a("td",[e._v("起止发票号")]),e._v(" "),a("td",{attrs:{colspan:"11"}},[e._v("10001----83455")])]),e._v(" "),a("tr",{attrs:{bgcolor:"#fff"}},[a("td",[e._v("作废发票号")]),e._v(" "),a("td",{attrs:{colspan:"11"}},[e._v("10003 70048 81890")])]),e._v(" "),a("tr",{attrs:{bgcolor:"#fff"}},[a("td",[e._v("重打发票号")]),e._v(" "),a("td",{attrs:{colspan:"11"}},[e._v("12997")])]),e._v(" "),a("tr",{attrs:{bgcolor:"#fff"}},[a("td",[e._v("收费金额")]),e._v(" "),a("td",[e._v("挂号费")]),e._v(" "),a("td",[e._v("500.00")]),e._v(" "),a("td",[e._v("药费")]),e._v(" "),a("td",[e._v("1000.00")]),e._v(" "),a("td",[e._v("其他费用")]),e._v(" "),a("td",{attrs:{colspan:"7"}},[e._v("30.00")])]),e._v(" "),a("tr",{attrs:{bgcolor:"#fff"}},[a("td",[e._v("共计")]),e._v(" "),a("td",[e._v("(大写)")]),e._v(" "),a("td",{attrs:{colspan:"4"}},[e._v("壹仟伍佰叁拾")]),e._v(" "),a("td",[e._v("(小写)")]),e._v(" "),a("td",{attrs:{colspan:"6"}},[e._v("1530.00")])])])],1)},staticRenderFns:[]};var ee=a("VU/8")(K,J,!1,function(e){a("jmLc")},null,null).exports,te={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("gao-el-container",[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("统计时间从:")]),e._v("   \n"),a("el-date-picker",{staticStyle:{width:"130px"},attrs:{type:"date",placeholder:"选择日期",size:"mini"}}),e._v(" "),a("el-time-picker",{staticStyle:{width:"130px"},attrs:{placeholder:"任意时间点",size:"mini"}}),e._v("\n\n \n"),a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("到:")]),e._v(" \n"),a("el-date-picker",{staticStyle:{width:"130px"},attrs:{type:"date",placeholder:"选择日期",size:"mini"}}),e._v(" "),a("el-time-picker",{staticStyle:{width:"130px"},attrs:{placeholder:"任意时间点",size:"mini"}}),e._v("  \n                 \n        \n    "),a("el-button",{staticStyle:{"margin-left":"3px"},attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:function(e){}}},[e._v("查询")]),e._v(" "),a("br"),a("br"),e._v(" "),a("table",{attrs:{border:"0",cellspacing:"1",bgcolor:"#990033"}},[a("tr",{attrs:{valign:"top"}},[a("td",{attrs:{width:"200",bgcolor:"#fff"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{prop:"aa",label:"收款员",width:"100",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"bb",label:"日结日期",width:"100",align:"center"}})],1)],1),e._v(" "),a("td",{attrs:{width:"750",bgcolor:"#fff"}},[a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"日结单"}},[a("font",{staticStyle:{"font-size":"15px","font-family":"'Microsoft YaHei'"}},[e._v("\n                  门诊收费日结单")]),e._v(" \n\n                  "),a("table",{attrs:{border:"0",cellspacing:"1",bgcolor:"#990033"}},[a("tr",{attrs:{bgcolor:"#fff"}},[a("td",[e._v("日结时间范围")]),e._v(" "),a("td",{attrs:{colspan:"12"}},[e._v(e._s(e.aa))])]),e._v(" "),a("tr",{attrs:{bgcolor:"#fff"}},[a("td",[e._v("制表人")]),e._v(" "),a("td",{attrs:{colspan:"3"}},[e._v("张三")]),e._v(" "),a("td",[e._v("收款员")]),e._v(" "),a("td",{attrs:{colspan:"5"}},[e._v("张三")]),e._v(" "),a("td",[e._v("制表时间")]),e._v(" "),a("td",{attrs:{colspan:"2"}},[e._v("2018-12-30")])]),e._v(" "),a("tr",{attrs:{bgcolor:"#fff"}},[a("td",[e._v("起止发票号")]),e._v(" "),a("td",{attrs:{colspan:"11"}},[e._v("10001----83455")])]),e._v(" "),a("tr",{attrs:{bgcolor:"#fff"}},[a("td",[e._v("作废发票号")]),e._v(" "),a("td",{attrs:{colspan:"11"}},[e._v("10003 70048 81890")])]),e._v(" "),a("tr",{attrs:{bgcolor:"#fff"}},[a("td",[e._v("重打发票号")]),e._v(" "),a("td",{attrs:{colspan:"11"}},[e._v("12997")])]),e._v(" "),a("tr",{attrs:{bgcolor:"#fff"}},[a("td",[e._v("收费金额")]),e._v(" "),a("td",[e._v("挂号费")]),e._v(" "),a("td",[e._v("500.00")]),e._v(" "),a("td",[e._v("药费")]),e._v(" "),a("td",[e._v("1000.00")]),e._v(" "),a("td",[e._v("其他费用")]),e._v(" "),a("td",{attrs:{colspan:"7"}},[e._v("30.00")])]),e._v(" "),a("tr",{attrs:{bgcolor:"#fff"}},[a("td",[e._v("共计")]),e._v(" "),a("td",[e._v("(大写)")]),e._v(" "),a("td",{attrs:{colspan:"4"}},[e._v("壹仟伍佰叁拾")]),e._v(" "),a("td",[e._v("(小写)")]),e._v(" "),a("td",{attrs:{colspan:"6"}},[e._v("1530.00")])])]),e._v(" "),a("v-searchinput1")],1),e._v(" "),a("el-tab-pane",{attrs:{label:"发票信息"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData2,border:""}},[a("el-table-column",{attrs:{prop:"aa",label:"单据号",width:"150",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"bb",label:"病例号",width:"100",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"cc",label:"姓名",width:"100",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"dd",label:"发票总额",width:"100",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ee",label:"结算类别",width:"100",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ff",label:"状态",width:"100",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"gg",label:"自费支付",width:"100",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"hh",label:"账户支付",width:"100",align:"center"}})],1),e._v(" "),a("v-searchinput8")],1)],1)],1)])])],1)},staticRenderFns:[]};var ae=a("VU/8")({data:function(){return{radio01:1,eltab01:"first",eltab02:"first",tableData:[{aa:"张三",bb:"2018-12-12",cc:"男"},{aa:"李四",bb:"2018-12-13",cc:"女"}],tableData2:[{aa:"20190100001",bb:"mt90001",cc:"张三",dd:"67.9",ee:"自费",ff:"有效",gg:"67.9",hh:"0"},{aa:"20190100002",bb:"mt90002",cc:"李四",dd:"14.5",ee:"医保",ff:"重打",gg:"14.5",hh:"0"}]}}},te,!1,function(e){a("rbNd")},null,null).exports,ie={methods:{searchClick:function(){null==this.keywords||0==this.keywords.length?this.$message({type:"info",message:"病历号不能为空!"}):this.loadBlogs(1,100)},loadBlogs:function(e,t){var a=this,i=this;i.zje=0;var s="/neureg/register/get_register?CaseNumber="+this.keywords;b(s).then(function(e){var t=e.data;null==t||0==t.length?(a.RealName="",a.IDnumber="",a.HomeAddress=""):(a.RealName=t.realName,a.IDnumber=t.iDnumber,a.HomeAddress=t.homeAddress)});var l="/neureg/patientCosts/patient_query?page="+e+"&count="+t+"&keywords="+this.keywords+"&keywords2="+this.keywords2+"&keywords3="+this.keywords3;b(l).then(function(e){i.loading=!1,200==e.status?(i.tableData=e.data.list,i.zbs=e.data.totalCount):i.$message({type:"error",message:"数据加载失败!"})},function(e){i.loading=!1,403==e.response.status?i.$message({type:"error",message:e.response.data}):i.$message({type:"error",message:"数据加载失败!"})}).catch(function(e){i.loading=!1,i.$message({type:"error",message:"数据加载失败!"})});var n="/neureg/patientCosts/patient_sum?page="+e+"&count="+t+"&keywords="+this.keywords+"&keywords2="+this.keywords2+"&keywords3="+this.keywords3;b(n).then(function(e){i.loading=!1,200==e.status?i.zje=e.data.totalCount:i.$message({type:"error",message:"数据加载失败!"})})},currentChange:function(e){this.currentPage=e,this.loading=!0,this.loadBlogs(e,this.pageSize)},deleteAll:function(){var e=this;this.$confirm("确认删除这 "+this.selItems.length+" 条数据?","提示",{type:"warning",confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){for(var t=e.selItems,a="",i=0;i<t.length;i++)a+=t[i].id+",";e.deleteCate(a.substring(0,a.length-1))}).catch(function(){e.loading=!1})},handleSelectionChange:function(e){this.selItems=e},handleEdit:function(e,t){var a=this;this.$prompt("请输入新名称","编辑",{confirmButtonText:"更新",inputValue:t.personName,cancelButtonText:"取消"}).then(function(e){var t=e.value;null==t||0==t.length?a.$message({type:"info",message:"数据不能为空!"}):a.loading=!0})},handleDelete:function(e,t){this.CaseNumber02=t.CaseNumber,this.InvoiceNum02=t.InvoiceNum,this.RealName02=t.RealName,this.Money02=t.Money,this.SettleName02=t.SettleName,this.Id02=t.Id,this.dialogFormVisible=!0},updateInvoice:function(){var e=this;null==this.InvoiceNum02||0==this.InvoiceNum02.length?e.$message({type:"info",message:"发票编号不能为空!"}):(f("/neureg/invoice/update02",{id:this.Id02,InvoiceNum:this.InvoiceNum02}).then(function(t){var a=t.data;e.$message({type:a.status,message:a.msg})},function(t){403==t.response.status&&e.$message({type:"error",message:t.response.data}),e.loading=!1}),e.loading=!1,e.dialogFormVisible=!1,e.refresh())},deleteCate:function(e){this.loading=!0},refresh:function(){}},mounted:function(){this.loading=!1,this.refresh()},data:function(){return{zbs:0,zje:0,cateName:"",cityName:"",nationName:"",sfzh:"",selItems:[],categories:[],loading:!1,currentPage:1,totalCount:2,pageSize:3,keywords:"",keywords2:"",keywords3:"",Id02:"",dialogAddVisible:!1,dialogFormVisible:!1,tableData:[{aa:"0000000003",bb:"张三",cc:"男",dd:"210103197802230987",ee:"2019-1-14",ff:"普通号",gg:"未看诊"},{aa:"0000000004",bb:"李四",cc:"女",dd:"210103197802230988",ee:"2019-1-14",ff:"普通号",gg:"未看诊"}],tableData2:[{aa:"门诊普通发票",bb:"20190114001",cc:"20190114100",dd:"20190114035",ee:"在用",ff:"普通号",gg:"未看诊"},{aa:"门诊普通发票",bb:"20190114101",cc:"20190114200",dd:"",ee:"未用",ff:"普通号",gg:"未看诊"}]}}},se={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("font",{staticStyle:{"font-size":"15px","font-family":"'Microsoft YaHei'"}},[e._v("\n       患者信息查询")]),e._v(" \n"),a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{attrs:{color:"red"}},[e._v("*")]),e._v(" "),a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("病 历 号 :")]),e._v(" \n       "),a("el-input",{staticStyle:{width:"110px"},attrs:{placeholder:"病历号",again:"left",size:"mini"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchClick(t)}},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}})],1)]),e._v(" "),a("el-col",{attrs:{span:5}},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("开始时间:")]),e._v("   \n      "),a("el-date-picker",{staticStyle:{width:"130px"},attrs:{type:"date",placeholder:"选择日期",size:"mini","value-format":"yyyy-MM-dd"},model:{value:e.keywords2,callback:function(t){e.keywords2=t},expression:"keywords2"}}),e._v("\n        \n   ")],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("结束时间:")]),e._v("   \n      "),a("el-date-picker",{staticStyle:{width:"130px"},attrs:{type:"date",placeholder:"选择日期",size:"mini","value-format":"yyyy-MM-dd"},model:{value:e.keywords3,callback:function(t){e.keywords3=t},expression:"keywords3"}})],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-button",{staticStyle:{"margin-left":"3px"},attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.searchClick}},[e._v("搜索\n      ")])],1)])],1),e._v(" "),a("br"),a("br"),e._v(" "),a("font",{staticStyle:{"font-size":"15px","font-family":"'Microsoft YaHei'"}},[e._v("\n        患者信息确认")]),e._v(" \n\n"),a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("姓      名:")]),e._v(" \n       "),a("el-input",{staticStyle:{width:"110px"},attrs:{placeholder:"姓名",again:"left",size:"mini",readonly:""},model:{value:e.RealName,callback:function(t){e.RealName=t},expression:"RealName"}})],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("身份证号:")]),e._v(" "),a("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:"身份证号",size:"mini",readonly:""},model:{value:e.IDnumber,callback:function(t){e.IDnumber=t},expression:"IDnumber"}})],1)]),e._v(" "),a("el-col",{attrs:{span:9}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("家庭住址:")]),e._v(" "),a("el-input",{staticStyle:{width:"330px"},attrs:{placeholder:"家庭住址",size:"mini",readonly:""},model:{value:e.HomeAddress,callback:function(t){e.HomeAddress=t},expression:"HomeAddress"}})],1)])],1),e._v(" "),a("el-main",{staticClass:"gao_cate_mana_main"},[a("font",{staticStyle:{"font-size":"15px","font-family":"'Microsoft YaHei'"}},[e._v("\n        患者消费信息")]),e._v(" \n "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[e._e(),e._v(" "),a("el-table-column",{attrs:{label:"病历号",prop:"CaseNumber",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"姓名",prop:"RealName",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"消费名称",prop:"Name",width:"220",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"单价",prop:"Price",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"数量",prop:"Amount",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"日期",prop:"VisitDate",width:"120",align:"left"}})],1)],1),e._v("\n      总笔数："+e._s(e.zbs)+"     总金额： "+e._s(e.zje)+"\n")],1)},staticRenderFns:[]},le=a("VU/8")(ie,se,!1,null,null,null).exports,ne={methods:{handleClick:function(e){console.log(e)}},data:function(){return{tableData:[{date:"王小虎",name:"20",province:"20",city:"100",address:"200",zip:300}]}}},oe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("gao-el-container",[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("统计时间从:")]),e._v("   \n"),a("el-date-picker",{staticStyle:{width:"130px"},attrs:{type:"date",placeholder:"选择日期",size:"mini"}}),e._v(" "),a("el-time-picker",{staticStyle:{width:"130px"},attrs:{placeholder:"任意时间点",size:"mini"}}),e._v("\n\n \n"),a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("到:")]),e._v(" \n"),a("el-date-picker",{staticStyle:{width:"130px"},attrs:{type:"date",placeholder:"选择日期",size:"mini"}}),e._v(" "),a("el-time-picker",{staticStyle:{width:"130px"},attrs:{placeholder:"任意时间点",size:"mini"}}),e._v("  \n                 \n        \n    "),a("el-button",{staticStyle:{"margin-left":"3px"},attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:function(e){}}},[e._v("查询")]),e._v(" "),a("br"),a("br"),e._v(" "),a("font",{staticStyle:{"font-size":"15px","font-family":"'Microsoft YaHei'"}},[e._v("\n门诊医生工作量统计")]),e._v(" \n\n "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{prop:"date",label:"医生姓名",width:"100",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"看诊人数",width:"100",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"province",label:"发票数量",width:"100",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"city",label:"西药费",width:"100",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"address",label:"中成药",width:"100",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"zip",label:"中草药",width:"100",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"zip",label:"挂号费",width:"100",align:"center"}}),a("el-table-column",{attrs:{prop:"zip",label:"诊查费",width:"100",align:"center"}}),a("el-table-column",{attrs:{prop:"zip",label:"检查费",width:"100",align:"center"}}),a("el-table-column",{attrs:{prop:"zip",label:"检验费",width:"100",align:"center"}}),a("el-table-column",{attrs:{prop:"zip",label:"治疗费",align:"center"}})],1)],1)},staticRenderFns:[]};var re=a("VU/8")(ne,oe,!1,function(e){a("GFsh")},null,null).exports,ce={methods:{handleClick:function(e){console.log(e)}},data:function(){return{tableData:[{date:"骨外科",name:"20",province:"20",city:"100",address:"200",zip:300}]}}},de={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("gao-el-container",[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("统计时间从:")]),e._v("   \n"),a("el-date-picker",{staticStyle:{width:"130px"},attrs:{type:"date",placeholder:"选择日期",size:"mini"}}),e._v(" "),a("el-time-picker",{staticStyle:{width:"130px"},attrs:{placeholder:"任意时间点",size:"mini"}}),e._v("\n \n"),a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("到:")]),e._v(" \n"),a("el-date-picker",{staticStyle:{width:"130px"},attrs:{type:"date",placeholder:"选择日期",size:"mini"}}),e._v(" "),a("el-time-picker",{staticStyle:{width:"130px"},attrs:{placeholder:"任意时间点",size:"mini"}}),e._v("  \n                 \n        \n    "),a("el-button",{staticStyle:{"margin-left":"3px"},attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:function(e){}}},[e._v("查询")]),e._v(" "),a("br"),a("br"),e._v(" "),a("font",{staticStyle:{"font-size":"15px","font-family":"'Microsoft YaHei'"}},[e._v("\n开单科室工作量统计")]),e._v(" \n\n "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{prop:"date",label:"科室名称",width:"100",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"看诊人数",width:"100",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"province",label:"发票数量",width:"100",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"city",label:"西药费",width:"100",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"address",label:"中成药",width:"100",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"zip",label:"中草药",width:"100",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"zip",label:"挂号费",width:"100",align:"center"}}),a("el-table-column",{attrs:{prop:"zip",label:"诊查费",width:"100",align:"center"}}),a("el-table-column",{attrs:{prop:"zip",label:"检查费",width:"100",align:"center"}}),a("el-table-column",{attrs:{prop:"zip",label:"检验费",width:"100",align:"center"}}),a("el-table-column",{attrs:{prop:"zip",label:"治疗费",align:"center"}})],1)],1)},staticRenderFns:[]};var pe=a("VU/8")(ce,de,!1,function(e){a("wA21")},null,null).exports,ue={methods:{handleClick:function(e){console.log(e)}},data:function(){return{tableData:[{date:"化验科",name:"20",province:"20",city:"100",address:"200",zip:300}]}}},me={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("gao-el-container",[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("统计时间从:")]),e._v("   \n"),a("el-date-picker",{staticStyle:{width:"130px"},attrs:{type:"date",placeholder:"选择日期",size:"mini"}}),e._v(" "),a("el-time-picker",{staticStyle:{width:"130px"},attrs:{placeholder:"任意时间点",size:"mini"}}),e._v("\n\n \n"),a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("到:")]),e._v(" \n"),a("el-date-picker",{staticStyle:{width:"130px"},attrs:{type:"date",placeholder:"选择日期",size:"mini"}}),e._v(" "),a("el-time-picker",{staticStyle:{width:"130px"},attrs:{placeholder:"任意时间点",size:"mini"}}),e._v("  \n                 \n        \n    "),a("el-button",{staticStyle:{"margin-left":"3px"},attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:function(e){}}},[e._v("查询")]),e._v(" "),a("br"),a("br"),e._v(" "),a("font",{staticStyle:{"font-size":"15px","font-family":"'Microsoft YaHei'"}},[e._v("\n执行科室工作量统计")]),e._v(" \n\n "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{prop:"date",label:"科室名称",width:"100",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"看诊人数",width:"100",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"province",label:"发票数量",width:"100",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"city",label:"西药费",width:"100",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"address",label:"中成药",width:"100",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"zip",label:"中草药",width:"100",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"zip",label:"挂号费",width:"100",align:"center"}}),a("el-table-column",{attrs:{prop:"zip",label:"诊查费",width:"100",align:"center"}}),a("el-table-column",{attrs:{prop:"zip",label:"检查费",width:"100",align:"center"}}),a("el-table-column",{attrs:{prop:"zip",label:"检验费",width:"100",align:"center"}}),a("el-table-column",{attrs:{prop:"zip",label:"治疗费",align:"center"}})],1)],1)},staticRenderFns:[]};var ge=a("VU/8")(ue,me,!1,function(e){a("sLAE")},null,null).exports,he={methods:{addNewCate:function(){var e=this;null==this.ExpCode02||0==this.ExpCode02.length||null==this.ExpName02||0==this.ExpName02.length?e.$message({type:"info",message:"2数据不能为空!"}):(this.loading=!0,h("/neusys/expenseClass/add",{ExpCode:this.ExpCode02,ExpName:this.ExpName02}).then(function(t){if(200==t.status){var a=t.data;e.$message({type:a.status,message:a.msg}),e.ExpCode02="",e.ExpName02="",e.refresh()}e.loading=!1},function(t){403==t.response.status&&e.$message({type:"error",message:t.response.data}),e.loading=!1}))},currentChange:function(e){this.currentPage01=e,this.loading=!0,this.loadBlogs(e,this.pageSize)},currentChange202:function(e){this.currentPage202=e,this.loading=!0,this.loadBlogs202(e,this.pageSize202)},searchClick:function(){this.loadBlogs(1,this.pageSize)},loadBlogs:function(e,t){var a=this,i="/neusys/expenseClass/all?page="+e+"&count="+t+"&keywords="+this.keywords;b(i).then(function(t){a.loading=!1,200==t.status?(a.tableData=t.data.list,a.totalCount=t.data.totalCount,a.currentPage01=e):a.$message({type:"error",message:"数据加载失败!"})},function(e){a.loading=!1,403==e.response.status?a.$message({type:"error",message:e.response.data}):a.$message({type:"error",message:"数据加载失败!"})}).catch(function(e){a.loading=!1,a.$message({type:"error",message:"数据加载失败!"})})},deleteAll:function(){var e=this;this.$confirm("确认删除这 "+this.selItems.length+" 条数据?","提示",{type:"warning",confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){for(var t=e.selItems,a="",i=0;i<t.length;i++)a+=t[i].ID+",";e.deleteCate(a.substring(0,a.length-1))}).catch(function(){e.loading=!1})},handleSelectionChange:function(e){this.selItems=e},newDept:function(){this.ExpCode02="",this.ExpName02="",this.dialogFormVisible=!0},handleEdit2:function(e,t){this.dialogFormVisible2=!0,this.ExpCode02=t.ExpCode,this.ExpName02=t.ExpName,this.rowid02=t.ID},update:function(){var e=this;null==this.ExpCode02||0==this.ExpCode02.length||null==this.ExpName02||0==this.ExpName02.length?e.$message({type:"info",message:"2项数据不能为空!"}):(f("/neusys/expenseClass/update",{ID:this.rowid02,ExpCode:this.ExpCode02,ExpName:this.ExpName02}).then(function(t){var a=t.data;e.$message({type:a.status,message:a.msg})},function(t){403==t.response.status&&e.$message({type:"error",message:t.response.data}),e.loading=!1}),e.loading=!1,e.ExpCode02="",e.ExpName02="",e.refresh(),e.dialogFormVisible2=!1)},handleDelete:function(e,t){var a=this;this.$confirm('确认删除 "'+t.ExpName+'" ?',"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.deleteCate(t.ID)}).catch(function(){a.loading=!1})},deleteCate:function(e){var t=this;this.loading=!0,v("/neusys/expenseClass/"+e).then(function(e){var a=e.data;t.$message({type:a.status,message:a.msg}),t.refresh()},function(e){t.loading=!1,403==e.response.status?t.$message({type:"error",message:e.response.data}):500==e.response.status&&t.$message({type:"error",message:"该栏目下尚有文章，删除失败!"})})},refresh:function(){var e=this;e.loading=!1,b("/neusys/expenseClass/all").then(function(t){e.tableData=t.data.list,e.totalCount=t.data.totalCount,e.currentPage01=page},function(t){403==t.response.status&&e.$message({type:"error",message:t.response.data}),e.loading=!1})}},mounted:function(){this.loading=!0,this.refresh()},data:function(){return{totalCount:2,currentPage01:1,pageSize:10,ExpCode02:"",ExpName02:"",keywords:"",selItems:[],categories:[],tableData:[],loading:!1,dialogAddVisible:!1,dialogFormVisible:!1,dialogFormVisible2:!1,rowid02:""}}},fe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("gao-el-container",[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入费用科目编码或名称",size:"mini"},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}}),e._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"mini"},on:{click:e.searchClick}},[e._v("查询费用科目")]),e._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(t){return e.newDept()}}},[e._v("新增费用科目")]),e._v(" "),a("el-main",{staticClass:"gao_cate_mana_main"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"科目编码",prop:"ExpCode",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"科目名称",prop:"ExpName",width:"120",align:"left"}}),e._v(" "),e._e(),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit2(t.$index,t.row)}}},[e._v("编辑\n            ")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除\n            ")])]}}])})],1),e._v(" "),a("div",[a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:12}},[this.tableData.length>0?a("el-button",{staticStyle:{"margin-top":"10px",width:"100px"},attrs:{type:"danger",disabled:0==this.selItems.length,size:"mini"},on:{click:e.deleteAll}},[e._v("批量删除\n            ")]):e._e()],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:this.tableData.length>0,expression:"this.tableData.length>0"}],attrs:{background:"","page-size":e.pageSize,"current-page":e.currentPage01,layout:"prev, pager, next",total:e.totalCount},on:{"update:currentPage":function(t){e.currentPage01=t},"update:current-page":function(t){e.currentPage01=t},"current-change":e.currentChange}})],1)],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"新增费用科目",visible:e.dialogFormVisible,width:"550px",align:"center"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{staticClass:"demo-form-inline",attrs:{"label-position":e.labelPosition,"label-width":e.labelWidth,inline:!0,model:e.formEdit,size:"mini"}},[a("el-form-item",{attrs:{label:"科目编码"}},[a("el-input",{attrs:{placeholder:"科目编码",size:"mini"},model:{value:e.ExpCode02,callback:function(t){e.ExpCode02=t},expression:"ExpCode02"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"科目名称"}},[a("el-input",{attrs:{placeholder:"科目名称",size:"mini"},model:{value:e.ExpName02,callback:function(t){e.ExpName02=t},expression:"ExpName02"}})],1)],1),e._v(" "),a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.addNewCate()}}},[e._v("保 存")])],1),e._v(" "),a("el-dialog",{attrs:{title:"修改费用科目",visible:e.dialogFormVisible2,width:"550px",align:"center"},on:{"update:visible":function(t){e.dialogFormVisible2=t}}},[a("el-form",{staticClass:"demo-form-inline",attrs:{"label-position":e.labelPosition,"label-width":e.labelWidth,inline:!0,model:e.formEdit,size:"mini"}},[a("el-form-item",{attrs:{label:"科目编码"}},[a("el-input",{attrs:{placeholder:"科目编码",size:"mini"},model:{value:e.ExpCode02,callback:function(t){e.ExpCode02=t},expression:"ExpCode02"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"科目名称"}},[a("el-input",{attrs:{placeholder:"科目名称",size:"mini"},model:{value:e.ExpName02,callback:function(t){e.ExpName02=t},expression:"ExpName02"}})],1)],1),e._v(" "),a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(t){e.dialogFormVisible2=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.update()}}},[e._v("保 存")])],1)],1)},staticRenderFns:[]},ve=a("VU/8")(he,fe,!1,null,null,null).exports,be={mounted:function(){},methods:{showConfirm:function(e){D(this,e)},showMsg:function(e){_(this,e)},showDialog:function(e){this.loading=!0,this.loadDatas(1,this.pageSize,e),"1"==e?this.dialog01Visible=!0:"2"==e&&(this.dialog02Visible=!0),this.keywords01=e},handleSelectionChange:function(e){this.selItems=e},deleteDisa:function(e){if("1"==e)for(var t=0;t<this.selItems.length;t++)for(var a=this.medicalRecord.MedicalDisease01.length-1;a>=0;a--)this.medicalRecord.MedicalDisease01[a].ID==this.selItems[t].ID&&this.medicalRecord.MedicalDisease01.splice(a,1);else if("2"==e)for(var i=0;i<this.selItems.length;i++)for(var s=this.medicalRecord.MedicalDisease02.length-1;s>=0;s--)this.medicalRecord.MedicalDisease02[s].ID==this.selItems[i].ID&&this.medicalRecord.MedicalDisease02.splice(s,1)},showInnerDialog:function(e,t,a){"1"==a?this.innerVisible01=!0:"2"==a&&(this.innerVisible02=!0),this.MedicalDisease=t},addDiseaseDetailed:function(e){void 0===this.MedicalDisease.GetSiskDate?this.MedicalDisease.GetSiskDate=this.$options.filters.formatDateTime(new Date):this.MedicalDisease.GetSiskDate=this.$options.filters.formatDateTime(this.MedicalDisease.GetSiskDate),"1"==e?(this.innerVisible01=!1,this.medicalRecord.MedicalDisease01.push(this.MedicalDisease)):"2"==e&&(this.innerVisible02=!1,this.medicalRecord.MedicalDisease02.push(this.MedicalDisease))},stageCheck:function(){this.stageOrSave("1")},saveCheck:function(){this.isSaved=!0,this.stageOrSave("2"),this.$store.state.Register.VisitState="2",sessionStorage.setItem("medicalRecord",S()(this.sessionPatient))},stageOrSave:function(e){if(this.loadSessionPatient()){if(this.medicalRecodTo01(),this.medicalRecord.RegistID=this.$store.state.Register.ID,this.medicalRecord.CaseNumber=this.sessionPatient.CaseNumber,this.medicalRecord.CaseState=e,null!=this.medicalRecord.MedicalDisease01&&this.medicalRecord.MedicalDisease01.length>0){this.medicalRecord.MedicalDisease=[];for(var t=0;t<this.medicalRecord.MedicalDisease01.length;t++)this.medicalRecord.MedicalDisease.push({MedicalID:this.medicalRecord.ID,RegistID:this.$store.state.Register.ID,DiseaseID:this.medicalRecord.MedicalDisease01[t].ID,DiagnoseType:"1",GetSiskDate:this.medicalRecord.MedicalDisease01[t].GetSiskDate,DiagnoseCate:e})}else if(null!=this.medicalRecord.MedicalDisease02&&this.medicalRecord.MedicalDisease02.length>0){this.medicalRecord.MedicalDisease=[];for(var a=0;a<this.medicalRecord.MedicalDisease02.length;a++)this.medicalRecord.MedicalDisease.push({MedicalID:this.medicalRecord.ID,RegistID:this.$store.state.Register.ID,DiseaseID:this.medicalRecord.MedicalDisease02[a].ID,DiagnoseType:"2",GetSiskDate:this.medicalRecord.MedicalDisease02[a].GetSiskDate,DiagnoseCate:e})}this.medicalRecord.MedicalDisease=S()(this.medicalRecord.MedicalDisease);var i=this;h("/neudoc/medical/saveCheck",this.medicalRecord).then(function(e){if(200==e.status){var t=e.data;i.$message({type:t.status,message:t.msg})}})}else this.isSaved=!1},cleanCheck:function(){this.medicalRecord01={},this.medicalRecord.MedicalDisease01=[],this.medicalRecord.MedicalDisease02=[]},nodeClick:function(e){this.form03.data02=e.label},setMsgToMain:function(){this.form02.data01=this.form03.data01,this.form02.data02=this.form03.data02,this.form02.data05=this.form03.data03,this.form02.data06=this.form03.data04},cleanMain:function(e){this.form02={},_(this,e)},searchDis:function(e){var t="/neudoc/disease/getPage?DicaType="+e+"&keywords01="+this.inputSearchDis,a=this;null==this.inputSearchDis||""==this.inputSearchDis?this.loadDatas(1,this.pageSize,e):b(t).then(function(t){200==t.status?1==e?(a.dialog01Table=t.data.list,a.dialog02Table=[]):(a.dialog02Table=t.data.list,a.dialog01Table=[]):a.$message({type:"error",message:"数据加载失败!"})},function(e){a.loading=!1,403==e.response.status?a.$message({type:"error",message:e.response.data}):a.$message({type:"error",message:"数据加载失败!"})}).catch(function(e){a.loading=!1,a.$message({type:"error",message:"数据加载失败!"})})},currentChange:function(e){this.currentPage01=e,this.loadDatas(e,this.pageSize,this.keywords01)},loadDatas:function(e,t,a){var i=this;b("/neudoc/disease/listPage?pageNumber="+e+"&pageSize="+t+"&keywords01="+a).then(function(t){i.loading=!1,200==t.status?1==a?(i.dialog01Table=t.data.list,i.totalCount=t.data.totalCount,i.currentPage01=e):(i.dialog02Table=t.data.list,i.totalCount=t.data.totalCount,i.currentPage01=e):i.$message({type:"error",message:"数据加载失败!"})},function(e){i.loading=!1,403==e.response.status?i.$message({type:"error",message:e.response.data}):i.$message({type:"error",message:"数据加载失败!"})}).catch(function(e){i.loading=!1,i.$message({type:"error",message:"数据加载失败!"})})},refMedicalRecord:function(){this.loadSessionPatient()&&this.loadMedicalRecord(this.$store.state.Register.ID)},loadMedicalRecord:function(e,t){var a=this,i=this;null!=e&&""!=e||(e=this.$store.state.Register.ID),null!=t&&""!=t||(t="1"),b("/neudoc/medical/getDataByCaseNumber?keywords01="+e+"&keywords02="+t).then(function(e){if(200==e.status){if(i.medicalRecord01=e.data,null!=e.data.MedicalDisease&&e.data.MedicalDisease.length>0&&"1"==e.data.MedicalDisease[0].DiagnoseType){i.medicalRecord.MedicalDisease01=e.data.MedicalDisease,i.medicalRecord.MedicalDisease02=[];for(var t=0;t<i.medicalRecord.MedicalDisease01.length;t++)i.medicalRecord.MedicalDisease01[t].GetSiskDate=a.$options.filters.formatDateTime(i.medicalRecord.MedicalDisease01[t].GetSiskDate)}else if(null!=e.data.MedicalDisease&&e.data.MedicalDisease.length>0&&"2"==e.data.MedicalDisease[0].DiagnoseType){i.medicalRecord.MedicalDisease02=e.data.MedicalDisease,i.medicalRecord.MedicalDisease01=[];for(var s=0;s<i.medicalRecord.MedicalDisease02.length;s++)i.medicalRecord.MedicalDisease02[s].GetSiskDate=a.$options.filters.formatDateTime(i.medicalRecord.MedicalDisease02[s].GetSiskDate)}else a.medicalRecord.MedicalDisease01=[],a.medicalRecord.MedicalDisease02=[];null!=a.medicalRecord01&&"2"==a.medicalRecord01.CaseState?(a.isSaved=!0,sessionStorage.setItem("medicalRecord",S()(a.medicalRecord01))):(a.isSaved=!1,sessionStorage.setItem("medicalRecord","{}"))}else i.$message({type:"error",message:"数据加载失败01!"})},function(e){403==e.response.status?i.$message({type:"error",message:e.response.data}):i.$message({type:"error",message:"数据加载失败02!"})}).catch(function(e){a.medicalRecord.MedicalDisease01=[],a.medicalRecord.MedicalDisease02=[],i.$message({type:"error",message:"产生异常："+e})})},loadSessionPatient:function(){var e=this.$store.state.Register;return null!=this.$store.state.Register.ID?(this.sessionPatient=e,!0):(this.sessionPatient={},this.$message({type:"info",message:"请选择患者"}),!1)},medicalRecodTo01:function(){this.medicalRecord.ID=this.medicalRecord01.ID,this.medicalRecord.Readme=this.medicalRecord01.Readme,this.medicalRecord.Present=this.medicalRecord01.Present,this.medicalRecord.PresentTreat=this.medicalRecord01.PresentTreat,this.medicalRecord.History=this.medicalRecord01.History,this.medicalRecord.Allergy=this.medicalRecord01.Allergy,this.medicalRecord.Proposal=this.medicalRecord01.Proposal,this.medicalRecord.Careful=this.medicalRecord01.Careful,this.medicalRecord.Physique=this.medicalRecord01.Physique}},data:function(){return{loading:!1,currentPage01:1,pageSize:10,totalCount:0,keywords01:"",inputSearchDis:"",dialog01Table:[],dialog02Table:[],selItems:[],MedicalDisease:{DiseaseName:"",MedicalID:"",DiseaseID:"",DiagnoseType:"",GetSiskDate:"",DiagnoseCate:"1"},sessionPatient:{ID:"",CaseNumber:"",RegistID:"",Readme:"",Present:"",PresentTreat:"",History:"",Allergy:"",Physique:"",Proposal:"",Careful:"",CheckResult:"",Diagnosis:"",Handling:"",CaseState:""},sessionCheck:{},medicalRecord:{ID:"",CaseNumber:"",RegistID:"",Readme:"",Present:"",PresentTreat:"",History:"",Allergy:"",Physique:"",Proposal:"",Careful:"",CheckResult:"",Diagnosis:"",Handling:"",CaseState:"",MedicalDisease:[{ID:"",MedicalID:"",RegistID:"",DiseaseID:"",DiagnoseType:"",GetSiskDate:"",DiagnoseCate:""}],MedicalDisease01:[],MedicalDisease02:[]},medicalRecord01:{ID:"",CaseNumber:"",RegistID:"",Readme:"",Present:"",PresentTreat:"",History:"",Allergy:"",Physique:"",Proposal:"",Careful:"",CheckResult:"",Diagnosis:"",Handling:"",CaseState:""},isSaved:!1,dialog01Visible:!1,innerVisible01:!1,dialog02Visible:!1,innerVisible02:!1,eltab01:"first",eltab02:"first",dialogRadio01:"1",selectData02:[{keshi:"内科病历"},{keshi:"门诊病历"},{keshi:"融合病历"}],form02:{data01:"",data02:"",data03:"",data04:"",data05:"",data06:""},form03:{data01:"",data02:"",data03:"",data04:""},WesternDiagnosis01:[{icd:"A28.051",name:"巴斯德菌病",baddate:"2018-3-12"},{icd:"A23.052",name:"地中海热",baddate:"2018-7-5"},{icd:"A23.052",name:"地中海热",baddate:"2018-10-23"}],WesternDiagnosis02:[{icd:"ZBFM21",name:"风湿化热证",baddate:"2018-3-12"},{icd:"ZBHM40",name:"寒湿瘀郁证",baddate:"2018-7-5"},{icd:"ZBHM40",name:"寒湿瘀郁证",baddate:"2018-10-23"}],treeData:[{id:1,label:"病历模板",children:[{id:11,label:"内科病历模板",children:[{id:111,label:"慢性咽炎病历"},{id:112,label:"哮喘病历"}]},{id:12,label:"门诊病历模板",children:[{id:121,label:"感冒病历"},{id:122,label:"滑囊炎病历"}]},{id:13,label:"融合病历模板",children:[{id:131,label:"免疫力低下"},{id:132,label:"放射损伤"}]}]}],tableData4:[{name:"巴斯德菌病"},{name:"感冒"},{name:"咽炎"}],tableData5:[{name:"风湿化热证"},{name:"寒湿瘀郁证"},{name:"巴斯德菌病"}]}}},ye={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("el-dialog",{attrs:{title:"添加西医诊断",visible:e.dialog01Visible,width:"50%"},on:{"update:visible":function(t){e.dialog01Visible=t}}},[a("el-input",{staticClass:"input-with-select",staticStyle:{width:"100%"},attrs:{placeholder:"请输入疾病名称或ICD查询"},model:{value:e.inputSearchDis,callback:function(t){e.inputSearchDis=t},expression:"inputSearchDis"}},[a("template",{slot:"prepend"},[e._v("疾病名称：")]),e._v(" "),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(t){return e.searchDis("1")}},slot:"append"})],2),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.dialog01Table,size:"mini"}},[a("el-table-column",{attrs:{prop:"DiseaseICD",label:"ICD编码",width:"100px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"DiseaseName",label:"疾病名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"DicaName",label:"疾病类型"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.showInnerDialog(t.$index,t.row,"1")}}},[e._v("选择\n            ")])]}}])},[e._v(" "),a("el-dialog",{attrs:{width:"30%",title:"添加疾病详情",visible:e.innerVisible01,"append-to-body":"",center:"center"},on:{"update:visible":function(t){e.innerVisible01=t}}},[a("el-form",{staticClass:"demo-form-inline",attrs:{"label-width":"100px",model:e.MedicalDisease,size:"mini"}},[a("el-form-item",{attrs:{label:"疾病名称"}},[a("el-input",{attrs:{placeholder:"疾病名称",readonly:"readonly"},model:{value:e.MedicalDisease.DiseaseName,callback:function(t){e.$set(e.MedicalDisease,"DiseaseName",t)},expression:"MedicalDisease.DiseaseName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"发病日期"}},[a("div",{staticClass:"block"},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间，不选择默认为当前时间"},model:{value:e.MedicalDisease.GetSiskDate,callback:function(t){e.$set(e.MedicalDisease,"GetSiskDate",t)},expression:"MedicalDisease.GetSiskDate"}})],1)]),e._v(" "),a("el-form-item",[a("el-button",{staticStyle:{width:"100px"},attrs:{type:"danger"},on:{click:function(t){return e.addDiseaseDetailed("1")}}},[e._v("添加\n                ")])],1)],1)],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:24,align:"right"}},[a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:this.WesternDiagnosis01.length>0&&""==this.inputSearchDis,expression:"this.WesternDiagnosis01.length>0 && this.inputSearchDis==''"}],attrs:{background:"","page-size":e.pageSize,"current-page":e.currentPage01,layout:"prev, pager, next",total:e.totalCount},on:{"update:currentPage":function(t){e.currentPage01=t},"update:current-page":function(t){e.currentPage01=t},"current-change":e.currentChange}})],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.dialog01Visible=!1}}},[e._v("关闭")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"添加中医诊断",visible:e.dialog02Visible,width:"50%"},on:{"update:visible":function(t){e.dialog02Visible=t}}},[a("el-input",{staticClass:"input-with-select",staticStyle:{width:"100%"},attrs:{placeholder:"请输入疾病名称或ICD查询"},model:{value:e.inputSearchDis,callback:function(t){e.inputSearchDis=t},expression:"inputSearchDis"}},[a("template",{slot:"prepend"},[e._v("疾病名称：")]),e._v(" "),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(t){return e.searchDis("2")}},slot:"append"})],2),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.dialog02Table,size:"mini"}},[a("el-table-column",{attrs:{prop:"DiseaseICD",label:"ICD编码",width:"100px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"DiseaseName",label:"疾病名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"DicaName",label:"疾病类型"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.showInnerDialog(t.$index,t.row,"2")}}},[e._v("选择\n            ")])]}}])},[e._v(" "),a("el-dialog",{attrs:{width:"30%",title:"添加疾病详情",visible:e.innerVisible02,"append-to-body":"",center:"center"},on:{"update:visible":function(t){e.innerVisible02=t}}},[a("el-form",{staticClass:"demo-form-inline",attrs:{"label-width":"100px",model:e.MedicalDisease,size:"mini"}},[a("el-form-item",{attrs:{label:"疾病名称"}},[a("el-input",{attrs:{placeholder:"疾病名称",readonly:"readonly"},model:{value:e.MedicalDisease.DiseaseName,callback:function(t){e.$set(e.MedicalDisease,"DiseaseName",t)},expression:"MedicalDisease.DiseaseName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"发病日期"}},[a("div",{staticClass:"block"},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间，不选择默认为当前时间"},model:{value:e.MedicalDisease.GetSiskDate,callback:function(t){e.$set(e.MedicalDisease,"GetSiskDate",t)},expression:"MedicalDisease.GetSiskDate"}})],1)]),e._v(" "),a("el-form-item",[a("el-button",{staticStyle:{width:"100px"},attrs:{type:"danger"},on:{click:function(t){return e.addDiseaseDetailed("2")}}},[e._v("添加\n                ")])],1)],1)],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:24,align:"right"}},[a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:this.WesternDiagnosis02.length>0,expression:"this.WesternDiagnosis02.length>0"}],attrs:{background:"","page-size":e.pageSize,"current-page":e.currentPage01,layout:"prev, pager, next",total:e.totalCount},on:{"update:currentPage":function(t){e.currentPage01=t},"update:current-page":function(t){e.currentPage01=t},"current-change":e.currentChange}})],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialog02Visible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialog02Visible=!1}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-main",{staticStyle:{width:"100%",background:"#fff",height:"800px","overflow-y":"auto"}},[a("el-form",{ref:"form",attrs:{model:e.medicalRecord01,"label-width":"80px","label-position":"left",size:"mini"}},[a("el-row",{staticStyle:{"background-color":"#EAF1F5","margin-top":"-20px"}},[a("el-col",{staticStyle:{"margin-top":"4px"},attrs:{span:8}}),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-button",{staticClass:"el-icon-tickets",attrs:{type:"text",size:"small"},on:{click:e.stageCheck}},[e._v("暂存")])],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-button",{staticClass:"el-icon-success",attrs:{type:"text",size:"small"},on:{click:e.saveCheck}},[e._v("提交")])],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-button",{staticClass:"el-icon-printer",attrs:{type:"text",size:"small",disabled:e.isSaved},on:{click:e.cleanCheck}},[e._v("清空所有")])],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-button",{staticClass:"el-icon-circle-plus-outline",attrs:{type:"text",size:"small"},on:{click:e.refMedicalRecord}},[e._v("刷新")])],1)],1),e._v(" "),a("el-tag",[e._v("病史内容：")]),e._v(" "),a("el-form-item",{attrs:{label:"主诉"}},[a("el-input",{attrs:{type:"textarea",rows:1,disabled:e.isSaved},model:{value:e.medicalRecord01.Readme,callback:function(t){e.$set(e.medicalRecord01,"Readme",t)},expression:"medicalRecord01.Readme"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"现病史"}},[a("el-input",{attrs:{type:"textarea",rows:2,disabled:e.isSaved},model:{value:e.medicalRecord01.Present,callback:function(t){e.$set(e.medicalRecord01,"Present",t)},expression:"medicalRecord01.Present"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"现病治疗情况"}},[a("el-input",{attrs:{type:"textarea",rows:2,disabled:e.isSaved},model:{value:e.medicalRecord01.PresentTreat,callback:function(t){e.$set(e.medicalRecord01,"PresentTreat",t)},expression:"medicalRecord01.PresentTreat"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"既往史"}},[a("el-input",{attrs:{type:"textarea",rows:2,disabled:e.isSaved},model:{value:e.medicalRecord01.History,callback:function(t){e.$set(e.medicalRecord01,"History",t)},expression:"medicalRecord01.History"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"过敏史"}},[a("el-input",{attrs:{type:"textarea",rows:2,disabled:e.isSaved},model:{value:e.medicalRecord01.Allergy,callback:function(t){e.$set(e.medicalRecord01,"Allergy",t)},expression:"medicalRecord01.Allergy"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"体格检查"}},[a("el-input",{attrs:{type:"textarea",rows:2,disabled:e.isSaved},model:{value:e.medicalRecord01.Physique,callback:function(t){e.$set(e.medicalRecord01,"Physique",t)},expression:"medicalRecord01.Physique"}})],1),e._v(" "),a("el-tag",[e._v("评估/诊断：")]),e._v(" "),a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("西医诊断")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:"2"!=e.medicalRecord01.CaseState,expression:"medicalRecord01.CaseState!='2'"}]},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:this.medicalRecord.MedicalDisease02.length<1,expression:"this.medicalRecord.MedicalDisease02.length<1"}],staticStyle:{float:"right",padding:"0px 3px"},attrs:{type:"text"},on:{click:function(t){return e.showDialog("1")}}},[e._v("增加")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:this.medicalRecord.MedicalDisease02.length<1,expression:"this.medicalRecord.MedicalDisease02.length<1"}],staticStyle:{float:"right",padding:"0px 10px"},attrs:{type:"text",disabled:0==this.selItems.length},on:{click:function(t){return e.deleteDisa("1")}}},[e._v("删除")])],1)]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.medicalRecord.MedicalDisease01,size:"mini"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"DiseaseICD",label:"ICD编码",width:"150px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"DiseaseName",label:"名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"GetSiskDate",label:"发病时间",width:"130px"}})],1)],1),e._v(" "),a("el-card",{staticClass:"box-card"},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("中医诊断")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:"2"!=e.medicalRecord01.CaseState,expression:"medicalRecord01.CaseState!='2'"}]},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:this.medicalRecord.MedicalDisease01.length<1,expression:"this.medicalRecord.MedicalDisease01.length<1"}],staticStyle:{float:"right",padding:"0px 3px"},attrs:{type:"text"},on:{click:function(t){return e.showDialog("2")}}},[e._v("增加")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:this.medicalRecord.MedicalDisease01.length<1,expression:"this.medicalRecord.MedicalDisease01.length<1"}],staticStyle:{float:"right",padding:"0px 10px"},attrs:{type:"text",disabled:0==this.selItems.length},on:{click:function(t){return e.deleteDisa("2")}}},[e._v("删除")])],1)]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.medicalRecord.MedicalDisease02,size:"mini"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"DiseaseICD",label:"ICD编码",width:"150px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"DiseaseName",label:"名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"GetSiskDate",label:"发病时间",width:"130px"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"检查建议"}},[a("el-input",{attrs:{type:"textarea",rows:2,disabled:e.isSaved},model:{value:e.medicalRecord01.Proposal,callback:function(t){e.$set(e.medicalRecord01,"Proposal",t)},expression:"medicalRecord01.Proposal"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"注意事项"}},[a("el-input",{attrs:{type:"textarea",rows:2,disabled:e.isSaved},model:{value:e.medicalRecord01.Careful,callback:function(t){e.$set(e.medicalRecord01,"Careful",t)},expression:"medicalRecord01.Careful"}})],1)],1),e._v(" "),a("el-button",{staticClass:"el-icon-success",attrs:{type:"text",size:"small"},on:{click:e.saveCheck}},[e._v("提交")])],1)],1)},staticRenderFns:[]};var _e={mounted:function(){this.loadApply(this.$store.state.Register.ID,"",1),this.loadTemplateByDoc(this.$store.state.Register.UserID,1,""),this.loadSessionPatient()},methods:{refApply:function(){this.loadApply(this.$store.state.Register.ID,"",1),this.loadTemplateByDoc(this.$store.state.Register.UserID,1,""),this.loadSessionPatient()},showConfirm:function(e){D(this,e)},showMsg:function(e){_(this,e)},showFme:function(){if(!this.loadSessionPatient())return this.$message({type:"warning",message:"请选择已经提交病历的患者"}),!1;this.dialogFormVisible=!0,this.loadFmeDatas(1,10,"",1)},searchData:function(){},currentChange:function(e){this.currentPage01=e,this.loading=!0,this.loadFmeDatas(e,this.pageSize,this.keywords01,1)},loadFmeDatas:function(e,t,a,i){var s=this;b("/neuski/fme/listPageByRecordtype?pageNumber="+e+"&pageSize="+t+"&MnemonicCode="+a+"&RecordType="+i).then(function(t){s.loading=!1,200==t.status?(s.categories=t.data.list,s.totalCount=t.data.totalCount,s.currentPage01=e):s.$message({type:"error",message:"数据加载失败!"})})},showInnerDialog:function(e,t){this.innerVisible=!0,this.templateToApply(t)},templateToApply:function(e){this.formEdit02=e,this.formEdit02.CreationTime=new Date,this.Temp.TempItemName=e.ItemName,this.formEdit02.MedicalID=this.sessionPatient.ID,this.formEdit02.RegistID=this.sessionPatient.RegistID,this.formEdit02.ItemID=e.ID,this.formEdit02.DoctorID=1,this.formEdit02.CheckOperID=2,this.formEdit02.ResultOperID=2},applyDialog01:function(e){this.formEdit02.Num=e},addCheckDetailed:function(){var e=this,t=this;this.formEdit02.State="1",this.formEdit02.RecordType="1",h("/neudoc/apply/check",this.formEdit02).then(function(a){if(200==a.status){var i=a.data;t.$message({type:i.status,message:i.msg}),e.loadApply(e.$store.state.Register.ID,"",1)}}),this.innerVisible=!1},handleSelectionChange:function(e){this.selItems=e,this.sumPrice=0;for(var t=0;t<e.length;t++)this.sumPrice+=e[t].Price},deleteAll:function(){for(var e=this,t=(this.tableData02,this.selItems),a=0;a<t.length;a++)if(1!=t[a].State)return this.$message({type:"warning",message:"只能删除暂存状态的检查单，请重新选择"}),!1;this.$confirm("确认删除这 "+this.selItems.length+" 条数据?","提示",{type:"warning",confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){for(var a="",i=0;i<t.length;i++)a+=t[i].ID+",";e.deleteData(a)}).catch(function(){e.$message({type:"info",message:"取消"})})},deleteData:function(e){var t=this,a=this;this.loading=!0,v("/neudoc/apply/check/"+e).then(function(e){if(200==e.status){var i=e.data;a.$message({type:i.status,message:i.msg}),a.loadApply(t.$store.state.Register.ID,"",1)}else a.$message({type:"error",message:"数据加载失败!"})})},upToSaved:function(){var e=this,t=this.selItems;this.$confirm("确认开立这 "+this.selItems.length+" 条数据?","提示",{type:"warning",confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){e.updateData(t,2)}).catch(function(){e.$message({type:"info",message:"取消"})})},upToBad:function(){for(var e=this,t=this.selItems,a=0;a<t.length;a++)if(2!=t[a].State)return this.$message({type:"warning",message:"只能作废已开立状态的检查单，请重新选择"}),!1;this.$confirm("确认作废这 "+this.selItems.length+" 条数据?","提示",{type:"warning",confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){e.updateData(t,0)}).catch(function(){e.$message({type:"info",message:"取消"})})},updateData:function(e,t){for(var a=this,i=this,s="",l=0;l<e.length;l++)s+=e[l].ID+",";b("/neudoc/apply/check?ids="+s+"&state="+t).then(function(e){if(200==e.status){var t=e.data;i.$message({type:t.status,message:t.msg}),i.loadApply(a.$store.state.Register.ID,"",1)}else i.$message({type:"error",message:"数据加载失败!"})})},loadApply:function(e,t,a){var i=this;b("/neudoc/apply/listCheck?RegistID="+e+"&State="+t+"&RecordType="+a).then(function(e){i.loading=!1,200==e.status?i.tableData02=e.data.list:i.$message({type:"error",message:"数据加载失败!"})})},loadTemplateByDoc:function(e,t,a){var i=this;b("/neupha/template/check/listTemplateByDoc?UserID="+e+"&RecordType="+t+"&Name="+a).then(function(e){i.loading=!1,200==e.status?i.tableData04=e.data.list:i.$message({type:"error",message:"数据加载失败!"})})},loadSessionPatient:function(){var e=sessionStorage.getItem("medicalRecord");return null!=e&&e.length>0&&"{}"!=e?(this.sessionPatient=JSON.parse(e),!0):(this.sessionPatient={ID:"",CaseNumber:"",RegistID:"",Readme:"",Present:"",PresentTreat:"",History:"",Allergy:"",Physique:"",Proposal:"",Careful:"",CheckResult:"",Diagnosis:"",Handling:"",CaseState:""},this.$message({type:"info",message:"请选择患者"}),!1)},addTmplChecks:function(e){var t=this,a=this;this.$confirm("添加模板中的检查申请,是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){b("/neupha/templateDetaile/listTemplateChecks?keywords01="+e.ID).then(function(i){if(200==i.status){if(t.categories02=i.data.list,null!=t.categories02)for(var s=0;s<t.categories02.length;s++)t.templateToApply(t.categories02[s]),t.formEdit02.Name="模板："+e.Name,t.formEdit02.ItemID=t.categories02[s].CheckProjID,t.formEdit02.Num=1,t.formEdit02.State="1",t.formEdit02.RecordType="1",h("/neudoc/apply/check",t.formEdit02).then(function(e){if(200==e.status){var i=e.data;a.$message({type:i.status,message:i.msg}),t.loadApply(t.$store.state.Register.ID,"",1)}else t.$message({type:"warning",message:"添加失败!"})})}else a.$message({type:"warm",message:"后台数据错误！"})})}).catch(function(){t.$message({type:"info",message:"已取消"})})},showTmplChecks:function(e){console.log(e.ID),this.applyDialogShow=!0,this.listTmplChecks(e.ID)},listTmplChecks:function(e){var t=this,a=this;b("/neupha/templateDetaile/listTemplateChecks?keywords01="+e).then(function(e){200==e.status?t.categories02=e.data.list:a.$message({type:"warm",message:"后台数据错误！"})})}},data:function(){return{loading:!1,dialogTableVisible:!1,dialogFormVisible:!1,innerVisible:!1,applyDialogShow:!1,categories:[],categories02:[],pageSize:10,totalCount:0,currentPage01:1,keywords01:"",formEdit02:{ID:"",MedicalID:"",RegistID:"",ItemID:"",Name:"",Objective:"",Position:"",IsUrgent:!1,Num:1,CreationTime:new Date,DoctorID:"",CheckOperID:"",ResultOperID:"",CheckTime:new Date,Result:"",ResultTime:new Date,State:"1",RecordType:"1"},tableData02:[],tableData04:[],selItems:[],sessionPatient:{ID:"",CaseNumber:"",RegistID:"",Readme:"",Present:"",PresentTreat:"",History:"",Allergy:"",Physique:"",Proposal:"",Careful:"",CheckResult:"",Diagnosis:"",Handling:"",CaseState:""},Temp:{TempItemName:""},sumPrice:0,formEdit03:{ID:"",Name:"",Scope:"",UserID:"1",CreationTime:new Date,RecordType:""},dialogForm01:{ID:"",Name:"",Scope:"1",UserID:"1",CreationTime:"2019-03-08 10:18",RecordType:"1"},searchForm01:{Name:"",Scope:"",RecordType:""},templateData01:[]}},filters:{showState:function(e){return"1"==e?"暂存":"2"==e?"已开立":"3"==e?"已交费":"4"==e?"已登记":"5"==e?"执行完":"6"==e?"已退费":"已作废"}}},De={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("el-container",{attrs:{direction:"horizontal"}},[a("el-dialog",{attrs:{title:"新增医技",visible:e.dialogFormVisible,width:"80%"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-row",[a("el-col",{attrs:{span:18}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-input",{attrs:{placeholder:"请输入医技助记码",size:"mini"},model:{value:e.keywords01,callback:function(t){e.keywords01=t},expression:"keywords01"}})],1)]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"mini",icon:"el-icon-view"},on:{click:e.searchData}},[e._v("查询")])],1)])],1),e._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{stripe:"",size:"mini",data:e.categories,"tooltip-effect":"dark"}},[a("el-table-column",{attrs:{label:"项目编码",prop:"ItemCode",width:"140",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"项目名称",prop:"ItemName",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"项目规格",prop:"Format",width:"80",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"项目单价",prop:"Price",width:"80",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"拼音助记码",prop:"MnemonicCode",width:"180",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.showInnerDialog(t.$index,t.row)}}},[e._v("选择\n            ")])]}}])},[e._v(" "),a("el-dialog",{attrs:{width:"30%",title:"添加详情",visible:e.innerVisible,"append-to-body":"",center:"center"},on:{"update:visible":function(t){e.innerVisible=t}}},[a("el-form",{staticClass:"demo-form-inline",attrs:{"label-width":"100px",model:e.formEdit02,size:"mini"}},[a("el-form-item",{attrs:{label:"申请名称"}},[a("el-input",{attrs:{placeholder:"申请名称"},model:{value:e.formEdit02.Name,callback:function(t){e.$set(e.formEdit02,"Name",t)},expression:"formEdit02.Name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"项目名称"}},[a("el-tag",{attrs:{type:"info"}},[e._v(e._s(e.Temp.TempItemName))])],1),e._v(" "),a("el-form-item",{attrs:{label:"目的要求"}},[a("el-input",{attrs:{placeholder:"检查部位"},model:{value:e.formEdit02.Objective,callback:function(t){e.$set(e.formEdit02,"Objective",t)},expression:"formEdit02.Objective"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"检查部位"}},[a("el-input",{attrs:{placeholder:"检查部位"},model:{value:e.formEdit02.Position,callback:function(t){e.$set(e.formEdit02,"Position",t)},expression:"formEdit02.Position"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否加急"}},[a("el-switch",{attrs:{"active-text":"是","inactive-text":"否"},model:{value:e.formEdit02.IsUrgent,callback:function(t){e.$set(e.formEdit02,"IsUrgent",t)},expression:"formEdit02.IsUrgent"}})],1),e._v(" "),a("el-form-item",[a("el-button",{staticStyle:{width:"100px"},attrs:{type:"primary"},on:{click:e.addCheckDetailed}},[e._v("添加\n                ")])],1)],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24,align:"right"}},[a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:this.categories.length>0,expression:"this.categories.length>0"}],attrs:{background:"","page-size":e.pageSize,"current-page":e.currentPage01,layout:"prev, pager, next",total:e.totalCount},on:{"update:currentPage":function(t){e.currentPage01=t},"update:current-page":function(t){e.currentPage01=t},"current-change":e.currentChange}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("关闭")])],1)],1),e._v(" "),a("el-aside",{staticStyle:{width:"700px",height:"500px"}},[a("el-row",{staticStyle:{"background-color":"#EAF1F5"}},[a("el-col",{staticStyle:{"margin-top":"4px"},attrs:{span:6}}),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-button",{staticClass:"el-icon-circle-plus",attrs:{type:"text",size:"mini"},on:{click:e.showFme}},[e._v("新增项目")])],1),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-button",{staticClass:"el-icon-remove",attrs:{type:"text",size:"mini",disabled:0==this.selItems.length},on:{click:e.deleteAll}},[e._v("删除项目")])],1),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-button",{staticClass:"el-icon-success",attrs:{type:"text",size:"mini",disabled:0==this.selItems.length},on:{click:e.upToSaved}},[e._v("开立项目")])],1),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-button",{staticClass:"el-icon-delete",attrs:{type:"text",size:"mini",disabled:0==this.selItems.length},on:{click:e.upToBad}},[e._v("作废项目")])],1),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-button",{staticClass:"el-icon-circle-plus-outline",attrs:{type:"text",size:"mini",disabled:0==this.selItems.length}},[e._v("存为组套*")])],1),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-button",{staticClass:"el-icon-circle-plus-outline",attrs:{type:"text",size:"small"},on:{click:e.refApply}},[e._v("刷新")])],1)],1),e._v(" "),a("el-row",[a("el-col",[a("el-tag",{attrs:{size:"mini"}},[e._v("本项目金额合计：")]),e._v(" "),a("el-tag",{attrs:{type:"warning",size:"mini"}},[e._v(e._s(e.sumPrice)+"元")])],1)],1),e._v(" "),a("el-row",[a("el-col",{staticStyle:{"margin-top":"4px"},attrs:{span:22}},[a("el-table",{ref:"singleTable",staticStyle:{width:"100%",margin:"0px",padding:"0px"},attrs:{data:e.tableData02,"show-header":!0,size:"mini"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection"}}),e._v(" "),a("el-table-column",{attrs:{property:"Name",label:"申请名称",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{property:"ItemName",label:"项目名称"}}),e._v(" "),a("el-table-column",{attrs:{property:"DeptName",label:"执行科室",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{property:"State",label:"执行状态",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(e._f("showState")(t.row.State))+"\n              ")]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"Price",label:"单价",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{property:"Result",label:"检查结果",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{placement:"right",width:"400",content:t.row.Result,trigger:"click"}},[a("el-button",{attrs:{slot:"reference",type:"text",size:"mini"},slot:"reference"},[e._v("查看详细")])],1)]}}])})],1)],1)],1)],1),e._v(" "),a("el-main",{staticStyle:{"margin-top":"-20px"}},[a("el-tabs",{attrs:{type:"card"}},[a("el-tab-pane",{attrs:{label:"常用模板"}},[a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData04,size:"mini"}},[a("el-table-column",{attrs:{prop:"Name",label:"名称"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),e.addTmplChecks(t.row)}}},[e._v("\n\t\t\t\t          \t使用\n\t\t\t\t        ")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),e.showTmplChecks(t.row)}}},[e._v("\n\t\t\t\t          \t详细\n\t\t\t\t        ")])]}}])})],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"模板详细",visible:e.applyDialogShow,width:"40%"},on:{"update:visible":function(t){e.applyDialogShow=t}}},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{stripe:"",size:"mini",data:e.categories02,"tooltip-effect":"dark"}},[a("el-table-column",{attrs:{label:"项目编码",prop:"ItemCode",width:"140",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"项目名称",prop:"ItemName",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"项目规格",prop:"Format",width:"80",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"检查部位",prop:"Position",width:"80",align:"left"}})],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.applyDialogShow=!1}}},[e._v("关闭")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var we={methods:{showConfirm:function(e){D(this,e)},showMsg:function(e){_(this,e)}},data:function(){return{dialog01Visible:!1,switch01:!1,msg01:"检验项目",tableData02:[{feilei:"尿常规",xiangmu:"尿蛋白指标",keshi:"检验科",jiaji:"是",zhuangtai:"已开立",danjia:"20.00"},{feilei:"血常规",xiangmu:"白细胞指标",keshi:"检验科",jiaji:"否",zhuangtai:"新建",danjia:"36.00"},{feilei:"心电图",xiangmu:"心电图",keshi:"外科",jiaji:"是",zhuangtai:"已完成",danjia:"10.00"}],tableData03:[{name:"尿常规检验单"},{name:"血常规检验单"},{name:"心率检验单"}],tableData04:[{name:"尿常规"},{name:"血常规"},{name:"心电图"}],selectData01:[{keshi:"心电图科"},{keshi:"放射科"},{keshi:"超声诊断科"},{keshi:"医学影像科"}],activeName:"second"}}},xe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("el-container",{attrs:{direction:"horizontal"}},[a("el-dialog",{attrs:{title:"新增检验申请",visible:e.dialog01Visible,width:"30%"},on:{"update:visible":function(t){e.dialog01Visible=t}}},[a("el-form",{attrs:{size:"mini"}},[a("el-form-item",[a("el-input",{staticClass:"input-with-select",staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容"}},[a("template",{slot:"prepend"},[e._v("检验名称：")]),e._v(" "),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},slot:"append"})],2)],1),e._v(" "),a("el-form-item",[a("el-table",{attrs:{border:"",data:e.tableData02,size:"mini"}},[a("el-table-column",{attrs:{prop:"choose02",label:"",width:"30px"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("input",{attrs:{type:"radio",name:"chooseOne02"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"feilei",label:"分类",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{property:"xiangmu",label:"项目"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"检验科室"}},[a("el-select",{attrs:{placeholder:"请选择"}},e._l(e.selectData01,function(e){return a("el-option",{key:e.keshi,attrs:{label:e.keshi,value:e.keshi}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"是否加急："}},[a("el-switch",{attrs:{"active-color":"#13ce66"},model:{value:e.switch01,callback:function(t){e.switch01=t},expression:"switch01"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialog01Visible=!1}}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialog01Visible=!1}}},[e._v("取 消")])],1)],1)],1),e._v(" "),a("el-aside",{staticStyle:{width:"700px",height:"500px"}},[a("el-row",{staticStyle:{"background-color":"#EAF1F5"}},[a("el-col",{staticStyle:{"margin-top":"4px"},attrs:{span:8}},[a("el-tag",{attrs:{size:"mini"}},[e._v("本项目金额合计：")]),e._v(" "),a("el-tag",{attrs:{type:"warning",size:"mini"}},[e._v("235.00元")])],1),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-button",{staticClass:"el-icon-circle-plus",attrs:{type:"text",size:"mini"},on:{click:function(t){e.dialog01Visible=!0}}},[e._v("新增项目")])],1),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-button",{staticClass:"el-icon-remove",attrs:{type:"text",size:"mini"},on:{click:function(t){return e.showConfirm("删除选择的检验项目")}}},[e._v("删除项目")])],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{staticClass:"el-icon-tickets",attrs:{type:"text",size:"mini"},on:{click:function(t){return e.showMsg("暂存")}}},[e._v("暂存")])],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{staticClass:"el-icon-success",attrs:{type:"text",size:"mini"},on:{click:function(t){return e.showConfirm("使科室收到开立的检验项目")}}},[e._v("开立")])],1),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-button",{staticClass:"el-icon-delete",attrs:{type:"text",size:"mini"},on:{click:function(t){return e.showConfirm("已经开立的检验项目作废")}}},[e._v("作废")])],1),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-button",{staticClass:"el-icon-circle-plus-outline",attrs:{type:"text",size:"mini"},on:{click:function(t){return e.showConfirm("选择的检验项设为常用")}}},[e._v("存为常用")])],1)],1),e._v(" "),a("el-form",{ref:"form",attrs:{"label-width":"80px"}},[a("el-row",[a("el-col",{staticStyle:{"margin-top":"40px"},attrs:{span:2}},[a("el-input",{staticStyle:{width:"45px"},attrs:{type:"textarea",rows:4,disabled:!0},model:{value:e.msg01,callback:function(t){e.msg01=t},expression:"msg01"}})],1),e._v(" "),a("el-col",{staticStyle:{"margin-top":"4px"},attrs:{span:22}},[a("el-table",{ref:"singleTable",staticStyle:{width:"100%",margin:"0px",padding:"0px"},attrs:{data:e.tableData02,"show-header":!0}},[a("el-table-column",{attrs:{type:"selection"}}),e._v(" "),a("el-table-column",{attrs:{property:"feilei",label:"分类",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{property:"xiangmu",label:"项目"}}),e._v(" "),a("el-table-column",{attrs:{property:"keshi",label:"执行科室",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{property:"jiaji",label:"加急",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{property:"zhuangtai",label:"状态",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{property:"danjia",label:"单价",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{property:"jieguo",label:"检验结果",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{placement:"right",width:"400",trigger:"click"}},[a("img",{attrs:{src:"static/imgs/img01.jpg"}}),e._v(" "),a("el-button",{attrs:{slot:"reference",type:"text",size:"mini"},slot:"reference"},[e._v("查看")])],1)]}}])})],1)],1)],1),e._v(" "),a("el-row",[a("el-form-item",{attrs:{label:"目的要求"}},[a("el-input",{attrs:{type:"textarea",rows:4,placeholder:"【检验目的：】【患者主诉：】【现病史：】"}})],1)],1)],1)],1),e._v(" "),a("el-main",{staticStyle:{"margin-top":"-20px"}},[a("el-tabs",{attrs:{type:"card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"常用项目",name:"second"}},[a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData04}},[a("el-table-column",{attrs:{prop:"name",label:"名称"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(t){return t.preventDefault(),e.showConfirm("添加该项目")}}},[e._v("\n                  使用\n                ")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(t){return t.preventDefault(),e.showConfirm("从常用中删除该项目")}}},[e._v("\n                  移除\n                ")])]}}])})],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var Ce={methods:{showMsg:function(e){_(this,e)}},data:function(){return{form01:{},selected01:"男"}}},ke={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("el-form",{ref:"form",attrs:{"label-width":"80px"},model:{value:e.form01,callback:function(t){e.form01=t},expression:"form01"}},[a("el-row",{staticStyle:{"background-color":"#EAF1F5","margin-top":"5px"}},[a("el-col",{attrs:{span:15}},[a("el-tag",{attrs:{size:"small"}},[e._v("患者病历填写：")])],1),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-button",{staticClass:"el-icon-success",attrs:{type:"text",size:"small"},on:{click:function(t){return e.showMsg("保存")}}},[e._v("保存")])],1),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-button",{staticClass:"el-icon-delete",attrs:{type:"text",size:"small"},on:{click:function(t){return e.showMsg("作废")}}},[e._v("作废")])],1),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-button",{staticClass:"el-icon-delete",attrs:{type:"text",size:"small"},on:{click:function(t){return e.showMsg("刷新")}}},[e._v("刷新")])],1)],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"2px"}},[a("el-form-item",{attrs:{label:"病历号"}},[a("el-input")],1)],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"2px"}},[a("el-form-item",{attrs:{label:"患者姓名"}},[a("el-input",{model:{value:this.$store.state.Register.RealName,callback:function(t){e.$set(this.$store.state.Register,"RealName",t)},expression:"this.$store.state.Register.RealName"}})],1)],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"2px"}},[a("el-form-item",{attrs:{label:"性别"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.selected01,callback:function(t){e.selected01=t},expression:"selected01"}},[a("el-option",{attrs:{label:"男",value:"男"}}),e._v(" "),a("el-option",{attrs:{label:"女",value:"女"}})],1)],1)],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"2px"}},[a("el-form-item",{attrs:{label:"年龄"}},[a("el-input")],1)],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"2px"}},[a("el-form-item",{attrs:{label:"检查"}},[a("el-input",{attrs:{type:"textarea",rows:5,placeholder:"请输入检查结果"}})],1)],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"2px"}},[a("el-form-item",{attrs:{label:"诊断"}},[a("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请输入诊断结果"}})],1)],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"2px"}},[a("el-form-item",{attrs:{label:"处理意见"}},[a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入处理意见"}})],1)],1)],1)],1)},staticRenderFns:[]};var Se={methods:{showConfirm:function(e){D(this,e)},showMsg:function(e){_(this,e)}},data:function(){return{dialog01Visible:!1,switch01:!1,msg01:"检验项目",tableData02:[{feilei:"引流",xiangmu:"药线引流治疗",keshi:"外科",jiaji:"是",zhuangtai:"已开立",danjia:"80.00"},{feilei:"针灸",xiangmu:"梅花针",keshi:"中医科",jiaji:"否",zhuangtai:"新建",danjia:"65.00"},{feilei:"洗胃",xiangmu:"洗胃",keshi:"外科",jiaji:"是",zhuangtai:"已完成",danjia:"90.00"},{feilei:"推拿",xiangmu:"小儿捏脊治疗",keshi:"中医科",jiaji:"是",zhuangtai:"已完成",danjia:"30.00"}],tableData03:[{name:"洗胃"},{name:"引流"},{name:"推拿"}],tableData04:[{name:"洗胃"},{name:"引流"},{name:"推拿"}],selectData01:[{keshi:"中医骨科"},{keshi:"中医外科"},{keshi:"骨科"},{keshi:"急诊科"}],activeName:"second"}}},Ie={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("el-container",{attrs:{direction:"horizontal"}},[a("el-dialog",{attrs:{title:"新增检验申请",visible:e.dialog01Visible,width:"30%"},on:{"update:visible":function(t){e.dialog01Visible=t}}},[a("el-form",{attrs:{size:"mini"}},[a("el-form-item",[a("el-input",{staticClass:"input-with-select",staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容"}},[a("template",{slot:"prepend"},[e._v("处置单名称：")]),e._v(" "),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},slot:"append"})],2)],1),e._v(" "),a("el-form-item",[a("el-table",{attrs:{border:"",data:e.tableData02,size:"mini"}},[a("el-table-column",{attrs:{prop:"choose02",label:"",width:"30px"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("input",{attrs:{type:"radio",name:"chooseOne02"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"feilei",label:"分类",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{property:"xiangmu",label:"项目"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"处置科室"}},[a("el-select",{attrs:{placeholder:"请选择"}},e._l(e.selectData01,function(e){return a("el-option",{key:e.keshi,attrs:{label:e.keshi,value:e.keshi}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"是否加急："}},[a("el-switch",{attrs:{"active-color":"#13ce66"},model:{value:e.switch01,callback:function(t){e.switch01=t},expression:"switch01"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialog01Visible=!1}}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialog01Visible=!1}}},[e._v("取 消")])],1)],1)],1),e._v(" "),a("el-aside",{staticStyle:{width:"700px",height:"500px"}},[a("el-row",{staticStyle:{"background-color":"#EAF1F5"}},[a("el-col",{staticStyle:{"margin-top":"4px"},attrs:{span:8}},[a("el-tag",{attrs:{size:"mini"}},[e._v("本项目金额合计：")]),e._v(" "),a("el-tag",{attrs:{type:"warning",size:"mini"}},[e._v("680.00元")])],1),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-button",{staticClass:"el-icon-circle-plus",attrs:{type:"text",size:"mini"},on:{click:function(t){e.dialog01Visible=!0}}},[e._v("新增项目")])],1),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-button",{staticClass:"el-icon-remove",attrs:{type:"text",size:"mini"},on:{click:function(t){return e.showConfirm("删除选择的处置项目")}}},[e._v("删除项目")])],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{staticClass:"el-icon-tickets",attrs:{type:"text",size:"mini"},on:{click:function(t){return e.showMsg("暂存")}}},[e._v("暂存")])],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{staticClass:"el-icon-success",attrs:{type:"text",size:"mini"},on:{click:function(t){return e.showConfirm("使科室收到开立的处置项目")}}},[e._v("开立")])],1),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-button",{staticClass:"el-icon-delete",attrs:{type:"text",size:"mini"},on:{click:function(t){return e.showConfirm("已经开立的处置项目作废")}}},[e._v("作废")])],1),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-button",{staticClass:"el-icon-circle-plus-outline",attrs:{type:"text",size:"mini"},on:{click:function(t){return e.showConfirm("选择的处置项设为常用")}}},[e._v("存为常用")])],1)],1),e._v(" "),a("el-form",{ref:"form",attrs:{"label-width":"80px"}},[a("el-row",[a("el-col",{staticStyle:{"margin-top":"40px"},attrs:{span:2}},[a("el-input",{staticStyle:{width:"45px"},attrs:{type:"textarea",rows:4,disabled:!0},model:{value:e.msg01,callback:function(t){e.msg01=t},expression:"msg01"}})],1),e._v(" "),a("el-col",{staticStyle:{"margin-top":"4px"},attrs:{span:22}},[a("el-table",{ref:"singleTable",staticStyle:{width:"100%",margin:"0px",padding:"0px"},attrs:{data:e.tableData02,"show-header":!0}},[a("el-table-column",{attrs:{type:"selection"}}),e._v(" "),a("el-table-column",{attrs:{property:"feilei",label:"分类",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{property:"xiangmu",label:"项目"}}),e._v(" "),a("el-table-column",{attrs:{property:"keshi",label:"执行科室",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{property:"jiaji",label:"加急",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{property:"zhuangtai",label:"状态",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{property:"danjia",label:"单价",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{property:"jieguo",label:"检验结果",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{placement:"right",width:"400",trigger:"click"}},[a("img",{attrs:{src:"static/imgs/img01.jpg"}}),e._v(" "),a("el-button",{attrs:{slot:"reference",type:"text",size:"mini"},slot:"reference"},[e._v("查看")])],1)]}}])})],1)],1)],1),e._v(" "),a("el-row",[a("el-form-item",{attrs:{label:"目的要求"}},[a("el-input",{attrs:{type:"textarea",rows:4,placeholder:"【处置目的：】【患者主诉：】【现病史：】"}})],1)],1)],1)],1),e._v(" "),a("el-main",{staticStyle:{"margin-top":"-20px"}},[a("el-tabs",{attrs:{type:"card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"常用项目",name:"second"}},[a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData04}},[a("el-table-column",{attrs:{prop:"name",label:"名称"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(t){return t.preventDefault(),e.showConfirm("添加该项目")}}},[e._v("\n                  使用\n                ")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(t){return t.preventDefault(),e.showConfirm("从常用中删除该项目")}}},[e._v("\n                  移除\n                ")])]}}])})],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var ze={mounted:function(){this.loadSessionPatient(),this.loadDrugTemplates("",""),this.loadApply(this.$store.state.Register.ID,"")},methods:{refApply:function(){this.loadSessionPatient(),this.loadDrugTemplates("",""),this.loadApply(this.$store.state.Register.ID,""),this.selItems={}},showFormatConstants:function(e,t,a,i){return y(0,0,a)},closeAddDrugs:function(){this.loadPrescriptionDetail(this.selItems.ID),this.dialogDrugsVisible=!1},showConfirm:function(e){D(this,e)},showMsg:function(e){_(this,e)},handleCurrentChange01:function(e){console.log(e.ID),this.Temp.selectTemp=!1,this.showTmplDrugs(e.ID),this.selItemTempls=e},useSelectTempl:function(){var e=this;this.$confirm("确认使用该模板："+this.selItemTempls.ID+":"+this.selItemTempls.Name,"提示",{type:"warning",confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){var t=e;e.dialogAddForm.TemplID=e.selItemTempls.ID,e.dialogAddForm.MedicalID=e.sessionPatient.ID,e.dialogAddForm.RegistID=e.sessionPatient.RegistID;h("/neudoc/prescription/savePredByTempl",e.dialogAddForm).then(function(e){var a=e.data;200==e.status?(t.$message({type:a.status,message:a.msg}),t.refApply()):t.$message({type:a.status,message:a.msg})})}).catch(function(){})},addPres:function(){var e=this;null!=this.dialogAddForm.PrescriptionName&&""!=this.dialogAddForm.PrescriptionName||(this.dialogAddForm.PrescriptionName="新增处方"+this.Temp.nameNum,this.Temp.nameNum++);var t=this;this.dialogAddForm.MedicalID=this.sessionPatient.ID,this.dialogAddForm.RegistID=this.sessionPatient.RegistID,h("/neudoc/prescription/",this.dialogAddForm).then(function(a){if(200==a.status){var i=a.data;t.$message({type:i.status,message:i.msg}),e.loadApply(e.$store.state.Register.ID,"",1),e.dialogAddForm.PrescriptionName=""}}),this.dialogAddPres=!1},handleSelectionChange:function(e,t){this.selItems=t,this.loadPrescriptionDetail(t.ID)},handleSelectionChange01:function(e){this.selItemDrugs=e},deleteAll:function(){var e=this;null==this.selItems||null==this.selItems.PrescriptionName||null==this.selItems.ID?this.$message({type:"warning",message:"请选择要删除的处方"}):this.$confirm('确认删除 "'+this.selItems.PrescriptionName+'" 处方?',"提示",{type:"warning",confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){var t=e.selItems.ID+",";e.deleteData(t)}).catch(function(){e.$message({type:"info",message:"取消"})})},deleteData:function(e){var t=this,a=this;v("/neudoc/prescription/"+e).then(function(e){if(200==e.status){var i=e.data;a.$message({type:i.status,message:i.msg}),a.loadApply(t.$store.state.Register.ID,"",1)}else a.$message({type:"warning",message:"数据加载失败!"})})},upToSaved:function(){var e=this,t=this.tableData01;this.$confirm("确认发送所有处方?","提示",{type:"warning",confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){e.updateData(t,2)}).catch(function(){e.$message({type:"info",message:"取消"})})},upToBad:function(){var e=this,t=[];null==this.selItems||null==this.selItems.ID?this.$message({type:"warning",message:"请选择处方"}):(t.push(this.selItems),this.$confirm("确认作废处方： "+this.selItems.PrescriptionName+"提示",{type:"warning",confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){e.updateData(t,0)}).catch(function(){e.$message({type:"info",message:"取消"})}))},updateData:function(e,t){for(var a=this,i=this,s="",l=0;l<e.length;l++)s+=e[l].ID+",";b("/neudoc/prescription/upToSaved?ids="+s+"&state="+t).then(function(e){if(200==e.status){var t=e.data;i.$message({type:t.status,message:t.msg}),i.loadApply(a.$store.state.Register.ID,"",1)}else i.$message({type:"error",message:"数据加载失败!"})})},showTmplDrugs:function(e){var t=this;b("/neupha/templateDetaile/listTemplateDrugs?keywords01="+e).then(function(e){200==e.status?t.templateDrugs=e.data:t.templateData01.Name="没有数据"}).catch(function(e){t.$message({type:"error",message:"数据加载失败！"})})},loadApply:function(e,t){var a=this;b("/neudoc/prescription/listPres?RegistID="+e+"&PrescriptionState="+t).then(function(e){a.loading=!1,200==e.status?a.tableData01=e.data.list:a.$message({type:"error",message:"数据加载失败!"})})},loadPrescriptionDetail:function(e){var t=this;this.Temp.sumPrice=0,b("/neudoc/prescriptionDetailed/listDetail?PrescriptionID="+e).then(function(e){if(t.loading=!1,200==e.status){t.tableData03=e.data.list;for(var a=0;a<t.tableData03.length;a++)t.Temp.sumPrice+=t.tableData03[a].DrugsPrice*t.tableData03[a].Amount;t.Temp.sumPrice=parseFloat(t.Temp.sumPrice).toFixed(2)}else t.$message({type:"error",message:"数据加载失败!"})})},searchTemplate:function(){this.loadDrugTemplates("",this.searchForm01.Name)},loadDrugTemplates:function(e,t){var a=this;b("/neupha/template/drug/listTemplateByDoc?ID="+e+"&Name="+t).then(function(e){200==e.status?a.templateData01=e.data.list:a.templateData01.Name="没有数据"}).catch(function(e){a.$message({type:"error",message:"数据加载失败！"})})},showDrugsList:function(){null==this.selItems||null==this.selItems.ID?this.$message({type:"error",message:"请选择要添加药品的处方!"}):1!=this.selItems.PrescriptionState?this.$message({type:"warning",message:"已开立的处方，不能添加药品"}):(this.loadDrugs(1,this.pageSize,this.keywords01),this.dialogDrugsVisible=!0)},loadDrugs:function(e,t,a){var i=this;b("/neupha/drug/listPage?pageNumber="+e+"&pageSize="+t+"&keywords01="+a).then(function(t){i.loading=!1,200==t.status?(i.categories=t.data.list,i.totalCount=t.data.totalCount,i.currentPage01=e):i.$message({type:"error",message:"数据加载失败!"})})},currentChange:function(e){this.currentPage01=e,this.loading=!0,this.loadDrugs(e,this.pageSize,this.keywords01)},searchData:function(){null==this.keywords01||""==this.keywords01?this.loadDrugs(1,this.pageSize,""):this.loadDrugs(1,this.pageSize,this.keywords01)},showInnerDialog:function(e,t){this.innerVisible=!0,this.formEdit02=t,this.formEdit02.PrescriptionID=this.selItems.ID,this.formEdit02.DrugsID=t.ID},addDrugsDetailed:function(){var e=this,t=this;this.tableData03.length>=5?this.$message({type:"warm",message:"一个处方只能开立 5 种药品，请新建处方"}):h("/neudoc/prescriptionDetailed/",this.formEdit02).then(function(a){if(200==a.status){var i=a.data;t.$message({type:i.status,message:i.msg}),t.formEdit02={},t.loadPrescriptionDetail(e.selItems.ID),e.innerVisible=!1}else t.$message({type:"warm",message:"添加失败！"})})},deleteDrugsDetailed:function(){var e=this,t=this;1!=this.selItems.PrescriptionState?this.$message({type:"warning",message:"已开立的处方，不能删除药品"}):this.$confirm("确认删除这 "+this.selItemDrugs.length+" 条数据?","提示",{type:"warning",confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){for(var a=t.selItemDrugs,i="",s=0;s<a.length;s++)i+=a[s].ID+",";e.deleteDrugsByIds(i),e.$message({type:"success",message:"删除"+e.selItemDrugs.length+" 条数据成功！"})}).catch(function(){})},deleteDrugsByIds:function(e){var t=this,a=this;v("/neudoc/prescriptionDetailed/"+e).then(function(e){var i=e.data;a.$message({type:i.status,message:i.msg}),t.loadPrescriptionDetail(t.selItems.ID)},function(e){a.$message({type:"error",message:"删除失败!"})})},loadSessionPatient:function(){var e=sessionStorage.getItem("medicalRecord");return null!=e&&e.length>0&&"{}"!=e?(this.sessionPatient=JSON.parse(e),!0):(this.sessionPatient={ID:"",CaseNumber:"",RegistID:"",Readme:"",Present:"",PresentTreat:"",History:"",Allergy:"",Physique:"",Proposal:"",Careful:"",CheckResult:"",Diagnosis:"",Handling:"",CaseState:""},this.$message({type:"info",message:"请选择患者"}),!1)}},data:function(){return{dialogAddPres:!1,dialogDrugsVisible:!1,innerVisible:!1,currentPage01:1,pageSize:10,totalCount:0,keywords01:"",dialogAddForm:{MedicalID:"",PrescriptionName:""},sessionPatient:{ID:"",CaseNumber:"",RegistID:"",Readme:"",Present:"",PresentTreat:"",History:"",Allergy:"",Physique:"",Proposal:"",Careful:"",CheckResult:"",Diagnosis:"",Handling:"",CaseState:""},Temp:{nameNum:"1",sumPrice:"",selectTemp:!0},selItems:{},selItemTempls:{ID:""},selItemDrugs:[],tableData01:[{PrescriptionName:"新增处方1",PrescriptionState:"已发送"},{PrescriptionName:"新增处方2",PrescriptionState:"暂存"}],tableData03:[{DrugsCode:"",DrugsName:"",DrugsFormat:"",DrugsUnit:"",Manufacturer:"",DrugsPrice:"",DrugsUsage:"",Dosage:"",Frequency:"",Amount:""}],activeName:"first",searchForm01:{Name:"",Scope:""},templateData01:[],templateDrugs:[{ID:"",DrugstempId:"",DrugsId:"",DrugsName:"",DrugsFormat:"",DrugsUnit:"",DrugsUsage:"",DrugsDosage:"",DrugsFrequency:""}],categories:[],labelPosition:"",formEdit02:{},tableData07:[{datetime:"2018-10-11 10:02:23",name01:"病毒性感冒",name02:"新建处方03"},{datetime:"2018-10-11 10:00:03",name01:"病毒性感冒",name02:"新建处方02"}]}},filters:{showState:function(e){return"1"==e?"暂存":"2"==e?"已开立":"3"==e?"已交费":"4"==e?"已取药":"5"==e?"已退药":"6"==e?"已退费":"已作废"},showScope:function(e){return 1==e?"个人":2==e?"科室":"全院"}}},Ne={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-dialog",{attrs:{title:"增加处方",visible:e.dialogAddPres,width:"30%"},on:{"update:visible":function(t){e.dialogAddPres=t}}},[a("el-form",{attrs:{size:"mini",model:e.dialogAddForm}},[a("el-form-item",[a("el-input",{staticClass:"input-with-select",staticStyle:{width:"100%"},attrs:{placeholder:"默认名为‘新增处方’"},model:{value:e.dialogAddForm.PrescriptionName,callback:function(t){e.$set(e.dialogAddForm,"PrescriptionName",t)},expression:"dialogAddForm.PrescriptionName"}},[a("template",{slot:"PrescriptionName"},[e._v("处方名称：")])],2)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.addPres}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialogAddPres=!1}}},[e._v("取 消")])],1)],1)],1),e._v(" "),a("el-header",[a("el-row",[a("el-tag",[e._v("门诊诊断：")]),e._v(" "),a("el-tag",{attrs:{type:"info"}},[e._v("【西医诊断】流行性腮腺炎并心肌炎")])],1),e._v(" "),a("el-row",{staticStyle:{"background-color":"#EAF1F5"}},[a("el-col",{staticStyle:{"margin-top":"4px"},attrs:{span:7}}),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{staticClass:"el-icon-circle-plus",attrs:{type:"text"},on:{click:function(t){e.dialogAddPres=!0}}},[e._v("增方")])],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{staticClass:"el-icon-remove",attrs:{type:"text"},on:{click:e.deleteAll}},[e._v("删方")])],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{staticClass:"el-icon-success",attrs:{type:"text"},on:{click:e.upToSaved}},[e._v("开立")])],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{staticClass:"el-icon-delete",attrs:{type:"text"},on:{click:e.upToBad}},[e._v("作废")])],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{staticClass:"el-icon-circle-plus-outline",attrs:{type:"text"},on:{click:e.refApply}},[e._v("刷新")])],1),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-button",{attrs:{type:"text"}})],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{staticClass:"el-icon-circle-plus-outline",attrs:{type:"text"},on:{click:e.showDrugsList}},[e._v("增药")])],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{staticClass:"el-icon-remove-outline",attrs:{type:"text",disabled:0==this.selItemDrugs.length},on:{click:e.deleteDrugsDetailed}},[e._v("删药")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"处方增加药品",visible:e.dialogDrugsVisible,top:"10px",width:"80%"},on:{"update:visible":function(t){e.dialogDrugsVisible=t}}},[a("el-row",[a("el-col",{attrs:{span:18}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-input",{attrs:{placeholder:"请输入药品助记码",size:"mini"},model:{value:e.keywords01,callback:function(t){e.keywords01=t},expression:"keywords01"}})],1)]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"mini",icon:"el-icon-view"},on:{click:e.searchData}},[e._v("查询药品")])],1)])],1),e._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{stripe:"",size:"mini",data:e.categories,"tooltip-effect":"dark"}},[a("el-table-column",{attrs:{label:"药品编码",prop:"DrugsCode",width:"140",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"药品名称",prop:"DrugsName",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"药品规格",prop:"DrugsFormat",width:"140",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"药品单位",prop:"DrugsUnit",width:"80",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"药品单价",prop:"DrugsPrice",width:"80",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"药品剂型",prop:"DrugsDosageID",formatter:e.showFormatConstants,width:"80",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"药品类型",prop:"DrugsTypeID",formatter:e.showFormatConstants,width:"80",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.showInnerDialog(t.$index,t.row)}}},[e._v("选择\n              ")])]}}])},[e._v(" "),a("el-dialog",{attrs:{width:"30%",title:"添加处方中的药品详情",visible:e.innerVisible,"append-to-body":"",center:"center"},on:{"update:visible":function(t){e.innerVisible=t}}},[a("el-form",{staticClass:"demo-form-inline",attrs:{"label-position":e.labelPosition,"label-width":"100px",model:e.formEdit02,size:"mini"}},[a("el-form-item",{attrs:{label:"药品编码"}},[a("el-input",{attrs:{placeholder:"药品编码",readonly:"readonly"},model:{value:e.formEdit02.DrugsCode,callback:function(t){e.$set(e.formEdit02,"DrugsCode",t)},expression:"formEdit02.DrugsCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"药品名称"}},[a("el-input",{attrs:{placeholder:"药品名称",readonly:"readonly"},model:{value:e.formEdit02.DrugsName,callback:function(t){e.$set(e.formEdit02,"DrugsName",t)},expression:"formEdit02.DrugsName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"药品规格"}},[a("el-input",{attrs:{placeholder:"药品规格",readonly:"readonly"},model:{value:e.formEdit02.DrugsFormat,callback:function(t){e.$set(e.formEdit02,"DrugsFormat",t)},expression:"formEdit02.DrugsFormat"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"药品单位"}},[a("el-input",{attrs:{placeholder:"药品单位",readonly:"readonly"},model:{value:e.formEdit02.DrugsUnit,callback:function(t){e.$set(e.formEdit02,"DrugsUnit",t)},expression:"formEdit02.DrugsUnit"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"药品用法"}},[a("el-input",{attrs:{placeholder:"药品用法"},model:{value:e.formEdit02.DrugsUsage,callback:function(t){e.$set(e.formEdit02,"DrugsUsage",t)},expression:"formEdit02.DrugsUsage"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"药品用量"}},[a("el-input",{attrs:{placeholder:"药品用量"},model:{value:e.formEdit02.Dosage,callback:function(t){e.$set(e.formEdit02,"Dosage",t)},expression:"formEdit02.Dosage"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"使用频次"}},[a("el-input",{attrs:{placeholder:"使用频次"},model:{value:e.formEdit02.Frequency,callback:function(t){e.$set(e.formEdit02,"Frequency",t)},expression:"formEdit02.Frequency"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"数量"}},[a("el-input",{attrs:{placeholder:"数量"},model:{value:e.formEdit02.Amount,callback:function(t){e.$set(e.formEdit02,"Amount",t)},expression:"formEdit02.Amount"}})],1),e._v(" "),a("el-form-item",[a("el-button",{staticStyle:{width:"100px"},attrs:{type:"danger"},on:{click:e.addDrugsDetailed}},[e._v("添加\n                  ")])],1)],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8,align:"left"}},[a("el-button",{staticStyle:{"margin-top":"10px",width:"100px"},attrs:{type:"danger",size:"mini"},on:{click:e.closeAddDrugs}},[e._v("关闭\n            ")])],1),e._v(" "),a("el-col",{attrs:{span:16,align:"right"}},[a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:this.categories.length>0,expression:"this.categories.length>0"}],attrs:{background:"","page-size":e.pageSize,"current-page":e.currentPage01,layout:"prev, pager, next",total:e.totalCount},on:{"update:currentPage":function(t){e.currentPage01=t},"update:current-page":function(t){e.currentPage01=t},"current-change":e.currentChange}})],1)],1)],1)],1),e._v(" "),a("el-container",[a("el-aside",{attrs:{width:"300px"}},[a("el-card",{staticClass:"box-card"},[a("el-tag",{staticStyle:{width:"100px"},attrs:{type:"info",size:"mini"}},[e._v("门诊处方：")]),e._v(" "),a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData01,size:"mini"}},[a("el-table-column",{attrs:{width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-radio",{attrs:{label:t.$index},nativeOn:{change:function(a){return e.handleSelectionChange(t.$index,t.row)}},model:{value:e.tableData01.index,callback:function(t){e.$set(e.tableData01,"index",t)},expression:"tableData01.index"}},[e._v(" ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"PrescriptionName",label:"名称"}}),e._v(" "),a("el-table-column",{attrs:{property:"PrescriptionState",label:"状态",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e._f("showState")(t.row.PrescriptionState))+"\n          ")]}}])})],1)],1)],1),e._v(" "),a("el-main",[a("div",[a("el-tag",{attrs:{size:"mini"}},[e._v("本处方金额合计：")]),e._v(" "),a("el-tag",{attrs:{type:"warning",size:"mini"}},[e._v(e._s(e.Temp.sumPrice)+"元")])],1),e._v(" "),a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData03,"show-header":!0,size:"mini"},on:{"selection-change":e.handleSelectionChange01}},[a("el-table-column",{attrs:{type:"selection"}}),e._v(" "),a("el-table-column",{attrs:{property:"DrugsName",label:"药品名称"}}),e._v(" "),a("el-table-column",{attrs:{property:"DrugsFormat",label:"规格",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{property:"DrugsPrice",label:"单价",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{property:"DrugsUsage",label:"用法",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{property:"Dosage",label:"用量",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{property:"Frequency",label:"频次",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{property:"Amount",label:"数量",width:"50"}})],1)],1)],1),e._v(" "),a("el-footer",{staticStyle:{height:"500px"}},[a("el-tabs",{attrs:{type:"card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"处方模板",name:"first"}},[a("el-container",{attrs:{direction:"horizontal"}},[a("el-aside",{attrs:{width:"400px"}},[a("el-card",{staticClass:"box-card"},[a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchForm01,size:"mini"}},[a("el-form-item",{attrs:{label:"名称："}},[a("el-input",{attrs:{placeholder:"输入模板名称"},model:{value:e.searchForm01.Name,callback:function(t){e.$set(e.searchForm01,"Name",t)},expression:"searchForm01.Name"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.searchTemplate}},[e._v("查询")])],1)],1)],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:e.templateData01,"highlight-current-row":"",size:"mini"},on:{"current-change":e.handleCurrentChange01}},[a("el-table-column",{attrs:{property:"Name",label:"模板名称"}}),e._v(" "),a("el-table-column",{attrs:{property:"Scope",label:"范围",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                      "+e._s(e._f("showScope")(t.row.Scope))+"\n                    ")]}}])})],1)],1)],1)],1),e._v(" "),a("el-main",[a("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"-20px","margin-left":"-20px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticStyle:{"font-size":"small"}},[e._v("模板明细")]),e._v(" "),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text",disabled:this.Temp.selectTemp},on:{click:e.useSelectTempl}},[e._v("使用该模板")])],1),e._v(" "),a("el-row",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.templateDrugs,size:"mini"}},[a("el-table-column",{attrs:{property:"DrugsName",label:"药品名称"}}),e._v(" "),a("el-table-column",{attrs:{property:"DrugsFormat",label:"规格"}}),e._v(" "),a("el-table-column",{attrs:{property:"DrugsUnit",label:"单位",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{property:"DrugsUsage",label:"用法",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{property:"DrugsDosage",label:"用量",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{property:"DrugsFrequency",label:"频次",width:"100"}})],1)],1)],1)],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"常用药品*",name:"second"}},[a("el-tag",{attrs:{type:"success",closable:""},on:{close:function(t){return e.showConfirm("删除该常用药品")}}},[a("span",{on:{click:function(t){return e.showConfirm("在处方中添加该药品")}}},[e._v("5%葡萄糖注射液 250ml*1袋")])]),e._v(" "),a("el-tag",{attrs:{type:"success",closable:""},on:{close:function(t){return e.showConfirm("删除该常用药品")}}},[a("span",{on:{click:function(t){return e.showConfirm("在处方中添加该药品")}}},[e._v("5%葡萄糖注射液 250ml*1袋")])]),e._v(" "),a("el-tag",{attrs:{type:"success",closable:""},on:{close:function(t){return e.showConfirm("删除该常用药品")}}},[a("span",{on:{click:function(t){return e.showConfirm("在处方中添加该药品")}}},[e._v("5%葡萄糖注射液 250ml*1袋")])])],1),e._v(" "),a("el-tab-pane",{attrs:{label:"建议方案*",name:"third"}},[a("el-tag",{attrs:{type:"warning"}},[e._v("暂时不完成。。。")]),e._v(" "),a("div",{staticStyle:{"font-size":"small","font-family":"'仿宋'"}},[e._v("\n\t\t    \t建议方案是事先根据一些常用的疾病的治疗方案，已经制定完成的处方方案；"),a("br"),e._v("\n\t\t    \t当医生开立诊断后选择，系统可以根据诊断结果列出该疾病的病因、注意事项、针对该疾病的用药方案及相应的方案的说明及注意事项；"),a("br"),e._v("\n\t\t    \t主要目的是用来辅助医生诊疗。\n\t\t    \t")])],1),e._v(" "),a("el-tab-pane",{attrs:{label:"历史处方*",name:"fourth"}},[a("el-container",{attrs:{direction:"horizontal"}},[a("el-aside",{attrs:{width:"400px"}},[a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData07,"highlight-current-row":"","show-header":!1}},[a("el-table-column",{attrs:{prop:"choose02",label:"",width:"30px"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("input",{attrs:{type:"radio",name:"chooseOne01"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"160px",prop:"datetime",label:"处方时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name01",label:"诊断结果"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name02",label:"处方名称"}})],1)],1),e._v(" "),a("el-main",[a("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"-20px","margin-left":"-20px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticStyle:{"font-size":"small"}},[e._v("处方明细")]),e._v(" "),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:function(t){return e.showConfirm("使用该历史处方")}}},[e._v("使用该处方")])],1),e._v(" "),a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData03}},[a("el-table-column",{attrs:{property:"mingcheng",label:"药品名称"}}),e._v(" "),a("el-table-column",{attrs:{property:"guige",label:"规格"}}),e._v(" "),a("el-table-column",{attrs:{property:"yongliang",label:"用量",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{property:"danwei",label:"单位",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{property:"pinci",label:"频次",width:"50"}})],1)],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var $e={methods:{showConfirm:function(e){D(this,e)},showMsg:function(e){_(this,e)},handleCurrentChange:function(){}},data:function(){return{dialog01Visible:!1,dialog02Visible:!1,dialog03Visible:!1,dialogRadio01:"1",tableData03:[],selectData01:[],selectData02:[],selectData03:[],selectData04:[],select01:[],select02:[],select03:[],select04:[],tableData01:[{name:"新增处方01",state:"已发送"},{name:"新增处方02",state:"暂存"},{name:"新增处方03",state:""}],tableData06:[{name:"病毒性感冒处方"},{name:"寒湿瘀郁证处方"},{name:"细菌炎症处方"}],tableData08:[{mingcheng:"三七",yongliang:"一次5克",danwei:"克",jiaozhu:"研粉末吞服",danjia:"2元"},{mingcheng:"肉桂",yongliang:"一次2克",danwei:"克",jiaozhu:"后下",danjia:"0.5元"},{mingcheng:"五灵脂",yongliang:"一次1克",danwei:"克",jiaozhu:"包煎",danjia:"1元"},{mingcheng:"阿胶",yongliang:"一次2克",danwei:"克",jiaozhu:"冲服",danjia:"1.5元"}],tableData07:[{datetime:"2018-10-11 10:02:23",name01:"病毒性感冒",name02:"新建处方03"},{datetime:"2018-10-11 10:00:03",name01:"病毒性感冒",name02:"新建处方02"},{datetime:"2018-10-11 09:52:23",name01:"病毒性感冒",name02:"新建处方01"},{datetime:"2018-10-11 09:42:23",name01:"咽炎",name02:"新建处方02"},{datetime:"2018-10-11 09:40:23",name01:"咽炎",name02:"新建处方01"}],radio01:"3",activeName:"first"}}},Te={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-dialog",{attrs:{title:"保存为常用模板",visible:e.dialog01Visible,width:"30%"},on:{"update:visible":function(t){e.dialog01Visible=t}}},[a("el-form",{attrs:{size:"mini"}},[a("el-form-item",[a("el-input",{staticClass:"input-with-select",staticStyle:{width:"100%"},attrs:{placeholder:"请输入药品助记码"}},[a("template",{slot:"prepend"},[e._v("药品名称：")])],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"已选择药品"}},[a("el-table",{attrs:{border:"",data:e.tableData03,size:"mini"}},[a("el-table-column",{attrs:{prop:"choose02",label:"",width:"30px"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("input",{attrs:{type:"radio",name:"chooseOne01"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"mingcheng",label:"名称"}}),e._v(" "),a("el-table-column",{attrs:{property:"guige",label:"规格"}}),e._v(" "),a("el-table-column",{attrs:{property:"danwei",label:"单位",width:"60"}})],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialog01Visible=!1}}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialog01Visible=!1}}},[e._v("取 消")])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"保存为常用模板",visible:e.dialog02Visible,width:"30%"},on:{"update:visible":function(t){e.dialog02Visible=t}}},[a("el-form",{attrs:{size:"mini"}},[a("el-form-item",[a("el-input",{staticClass:"input-with-select",staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容"}},[a("template",{slot:"prepend"},[e._v("模板名称：")])],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"模板范围"}},[a("el-radio",{attrs:{label:"1"},model:{value:e.dialogRadio01,callback:function(t){e.dialogRadio01=t},expression:"dialogRadio01"}},[e._v("个人")]),e._v(" "),a("el-radio",{attrs:{label:"2"},model:{value:e.dialogRadio01,callback:function(t){e.dialogRadio01=t},expression:"dialogRadio01"}},[e._v("科室")]),e._v(" "),a("el-radio",{attrs:{label:"3"},model:{value:e.dialogRadio01,callback:function(t){e.dialogRadio01=t},expression:"dialogRadio01"}},[e._v("全院")])],1),e._v(" "),a("el-form-item",{attrs:{label:"已选择药品"}},[a("el-table",{attrs:{border:"",data:e.tableData03,size:"mini"}},[a("el-table-column",{attrs:{prop:"choose02",label:"",width:"30px"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("input",{attrs:{type:"radio",name:"chooseOne01"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"mingcheng",label:"名称"}}),e._v(" "),a("el-table-column",{attrs:{property:"guige",label:"规格"}}),e._v(" "),a("el-table-column",{attrs:{property:"danwei",label:"单位",width:"60"}})],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialog02Visible=!1}}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialog02Visible=!1}}},[e._v("取 消")])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"增加处方",visible:e.dialog03Visible,width:"30%"},on:{"update:visible":function(t){e.dialog03Visible=t}}},[a("el-form",{attrs:{size:"mini"}},[a("el-form-item",[a("el-input",{staticClass:"input-with-select",staticStyle:{width:"100%"},attrs:{placeholder:"默认名为‘新增处方’"}},[a("template",{slot:"prepend"},[e._v("处方名称：")])],2)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialog03Visible=!1}}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialog03Visible=!1}}},[e._v("取 消")])],1)],1)],1),e._v(" "),a("el-header",[a("el-row",[a("el-tag",[e._v("门诊诊断：")]),e._v(" "),a("el-tag",{attrs:{type:"info"}},[e._v("【中医诊断】风湿化热证")])],1),e._v(" "),a("el-row",{staticStyle:{"background-color":"#EAF1F5"}},[a("el-col",{staticStyle:{"margin-top":"4px"},attrs:{span:7}},[a("el-tag",[e._v("门诊处方：")])],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{staticClass:"el-icon-circle-plus",attrs:{type:"text"},on:{click:function(t){e.dialog03Visible=!0}}},[e._v("增方")])],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{staticClass:"el-icon-remove",attrs:{type:"text"},on:{click:function(t){return e.showConfirm("删除选择处方")}}},[e._v("删方")])],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{staticClass:"el-icon-tickets",attrs:{type:"text"},on:{click:function(t){return e.showMsg("暂存选择处方")}}},[e._v("保存")])],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{staticClass:"el-icon-success",attrs:{type:"text"},on:{click:function(t){return e.showConfirm("发送选择处方")}}},[e._v("发送")])],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{staticClass:"el-icon-delete",attrs:{type:"text"},on:{click:function(t){return e.showConfirm("作废已经发送处方")}}},[e._v("作废")])],1),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-button",{attrs:{type:"text"}})],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{staticClass:"el-icon-circle-plus-outline",attrs:{type:"text"},on:{click:function(t){e.dialog01Visible=!0}}},[e._v("增药")])],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{staticClass:"el-icon-remove-outline",attrs:{type:"text"},on:{click:function(t){return e.showConfirm("在处方中删除选择的药品")}}},[e._v("删药")])],1)],1)],1),e._v(" "),a("el-container",[a("el-aside",{attrs:{width:"250px"}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("处方")]),e._v(" "),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:function(t){e.dialog02Visible=!0}}},[e._v("存为模板")])],1),e._v(" "),a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData01,"highlight-current-row":"","show-header":!1},on:{"current-change":e.handleCurrentChange}},[a("el-table-column",{attrs:{prop:"choose02",label:"",width:"30px"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("input",{attrs:{type:"radio",name:"chooseOne01"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"name",label:"名称",width:"110"}}),e._v(" "),a("el-table-column",{attrs:{property:"state",label:"状态",width:"80"}})],1)],1)],1),e._v(" "),a("el-main",[a("el-row",[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content "},[e._v("\n\t\t\t  \t处方类型：\n\t\t  \t\t"),a("el-select",{staticStyle:{width:"80px"},attrs:{size:"mini",placeholder:"请选择"},model:{value:e.select01,callback:function(t){e.select01=t},expression:"select01"}},e._l(e.selectData01,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content "},[e._v("\n\t\t\t  \t付数："),a("el-input",{staticStyle:{width:"80px"},attrs:{type:"number",size:"mini"}})],1)]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content "},[e._v("\n\t\t\t  \t频次：\n\t\t  \t\t"),a("el-select",{staticStyle:{width:"100px"},attrs:{size:"mini",placeholder:"请选择"},model:{value:e.select03,callback:function(t){e.select03=t},expression:"select03"}},e._l(e.selectData03,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content "},[e._v("\n\t\t\t  \t用法：\n\t\t  \t\t"),a("el-select",{staticStyle:{width:"100px"},attrs:{size:"mini",placeholder:"请选择"},model:{value:e.select04,callback:function(t){e.select04=t},expression:"select04"}},e._l(e.selectData04,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[e._v("\n\t\t\t\t\t治法："),a("el-input",{staticStyle:{width:"80px"},attrs:{size:"mini"}})],1),e._v(" "),a("el-col",{staticStyle:{"margin-top":"4px"},attrs:{span:3}},[a("span",[e._v("治法详细：")])]),e._v(" "),a("el-col",{attrs:{span:15}},[a("el-input",{staticStyle:{width:"95%"},attrs:{size:"mini"}})],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[e._v("\n\t\t\t\t\t医嘱："),a("el-input",{staticStyle:{width:"90%"},attrs:{size:"mini"}})],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[e._v("\n\t\t  \t\t处方金额：250.00元\n\t\t  \t")])],1),e._v(" "),a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData08,"show-header":!0}},[a("el-table-column",{attrs:{type:"selection"}}),e._v(" "),a("el-table-column",{attrs:{property:"mingcheng",label:"药品名称*"}}),e._v(" "),a("el-table-column",{attrs:{property:"yongliang",label:"用量*",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{property:"danwei",label:"单位",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{property:"jiaozhu",label:"脚注",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{property:"danjia",label:"单价",width:"80"}})],1)],1)],1),e._v(" "),a("el-footer",{staticStyle:{height:"500px"}},[a("el-tabs",{attrs:{type:"card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"处方模板",name:"first"}},[a("el-container",{attrs:{direction:"horizontal"}},[a("el-aside",{attrs:{width:"400px"}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticStyle:{"font-size":"small"}},[e._v("处方模板列表")]),e._v("\n\t\t\t\t\t\t        \n\t\t\t\t\t\t\t    "),a("el-radio",{attrs:{label:"3"},model:{value:e.radio01,callback:function(t){e.radio01=t},expression:"radio01"}},[e._v("全院")]),e._v(" "),a("el-radio",{attrs:{label:"6"},model:{value:e.radio01,callback:function(t){e.radio01=t},expression:"radio01"}},[e._v("科室")]),e._v(" "),a("el-radio",{attrs:{label:"9"},model:{value:e.radio01,callback:function(t){e.radio01=t},expression:"radio01"}},[e._v("个人")])],1),e._v(" "),a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData06,"highlight-current-row":"","show-header":!1}},[a("el-table-column",{attrs:{prop:"choose02",label:"",width:"30px"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("input",{attrs:{type:"radio",name:"chooseOne01"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"名称"}})],1)],1)],1),e._v(" "),a("el-main",[a("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"-20px","margin-left":"-20px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticStyle:{"font-size":"small"}},[e._v("模板明细")]),e._v(" "),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:function(t){return e.showConfirm("使用选择的模板作为处方")}}},[e._v("使用该模板")])],1),e._v(" "),a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData08}},[a("el-table-column",{attrs:{property:"mingcheng",label:"药品名称*"}}),e._v(" "),a("el-table-column",{attrs:{property:"yongliang",label:"用量*",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{property:"danwei",label:"单位",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{property:"jiaozhu",label:"脚注",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{property:"danjia",label:"单价",width:"80"}})],1)],1)],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"常用药品",name:"second"}},[a("el-tag",{attrs:{type:"success",closable:""},on:{close:function(t){return e.showConfirm("删除该常用药品")}}},[a("span",{on:{click:function(t){return e.showConfirm("在处方中添加该药品")}}},[e._v("5%葡萄糖注射液 250ml*1袋")])]),e._v(" "),a("el-tag",{attrs:{type:"success",closable:""},on:{close:function(t){return e.showConfirm("删除该常用药品")}}},[a("span",{on:{click:function(t){return e.showConfirm("在处方中添加该药品")}}},[e._v("5%葡萄糖注射液 250ml*1袋")])]),e._v(" "),a("el-tag",{attrs:{type:"success",closable:""},on:{close:function(t){return e.showConfirm("删除该常用药品")}}},[a("span",{on:{click:function(t){return e.showConfirm("在处方中添加该药品")}}},[e._v("5%葡萄糖注射液 250ml*1袋")])])],1),e._v(" "),a("el-tab-pane",{attrs:{label:"建议方案",name:"third"}},[a("el-tag",{attrs:{type:"warning"}},[e._v("暂时不完成。。。")]),e._v(" "),a("div",{staticStyle:{"font-size":"small","font-family":"'仿宋'"}},[e._v("\n\t\t\t    \t建议方案是事先根据一些常用的疾病的治疗方案，已经制定完成的处方方案；"),a("br"),e._v("\n\t\t\t    \t当医生开立诊断后选择，系统可以根据诊断结果列出该疾病的病因、注意事项、针对该疾病的用药方案及相应的方案的说明及注意事项；"),a("br"),e._v("\n\t\t\t    \t主要目的是用来辅助医生诊疗。\n\t\t\t    \t")])],1),e._v(" "),a("el-tab-pane",{attrs:{label:"历史处方",name:"fourth"}},[a("el-container",{attrs:{direction:"horizontal"}},[a("el-aside",{attrs:{width:"400px"}},[a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData07,"highlight-current-row":"","show-header":!1}},[a("el-table-column",{attrs:{prop:"choose02",label:"",width:"30px"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("input",{attrs:{type:"radio",name:"chooseOne01"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"160px",prop:"datetime",label:"处方时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name01",label:"诊断结果"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name02",label:"处方名称"}})],1)],1),e._v(" "),a("el-main",[a("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"-20px","margin-left":"-20px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticStyle:{"font-size":"small"}},[e._v("处方明细")]),e._v(" "),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:function(t){return e.showConfirm("使用该历史处方")}}},[e._v("使用该处方")])],1),e._v(" "),a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData08}},[a("el-table-column",{attrs:{property:"mingcheng",label:"药品名称*"}}),e._v(" "),a("el-table-column",{attrs:{property:"yongliang",label:"用量*",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{property:"danwei",label:"单位",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{property:"jiaozhu",label:"脚注",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{property:"danjia",label:"单价",width:"80"}})],1)],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var Re={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("el-row",{staticStyle:{"background-color":"#EAF1F5"}},[a("el-tag",{attrs:{size:"mini"}},[e._v("患者账单明细：")])],1),e._v(" "),a("el-row",{staticStyle:{margin:"5px"}},[a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData01}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{property:"mingcheng",label:"名称"}}),e._v(" "),a("el-table-column",{attrs:{property:"guige",label:"规格",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{property:"shuliang",label:"数量",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{property:"fushu",label:"付数",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{property:"danjia",label:"单价",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{property:"jiner",label:"金额",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{property:"zhuangtai",label:"收费状态",width:"100"}})],1)],1),e._v(" "),a("el-row",{staticStyle:{margin:"5px"}},[a("el-tag",{attrs:{size:"mini"}},[e._v("金额合计：")]),a("span",[e._v("215.00元")])],1)],1)},staticRenderFns:[]};var Fe={name:"tabpage",components:{vDoctorA:a("VU/8")(be,ye,!1,function(e){a("RNxk")},null,null).exports,vDoctorB:a("VU/8")(_e,De,!1,function(e){a("H6bT")},null,null).exports,vDoctorC:a("VU/8")(we,xe,!1,function(e){a("kbYv")},"data-v-733b1d9b",null).exports,vDoctorD:a("VU/8")(Ce,ke,!1,function(e){a("nuBv")},null,null).exports,vDoctorE:a("VU/8")(Se,Ie,!1,function(e){a("e1OT")},"data-v-2cb22f2c",null).exports,vDoctorF:a("VU/8")(ze,Ne,!1,function(e){a("IA/M")},null,null).exports,vDoctorG:a("VU/8")($e,Te,!1,function(e){a("ZAaK")},null,null).exports,vDoctorH:a("VU/8")({data:function(){return{tableData01:[{mingcheng:"挂号费",guige:"",shuliang:"1",fushu:"1",danjia:"5.00",jiner:"5.00",zhuangtai:"已收费"},{mingcheng:"B超常规检查",guige:"",shuliang:"1",fushu:"1",danjia:"200.00",jiner:"200.00",zhuangtai:"划价"},{mingcheng:"呋喃妥因肠溶片",guige:"50mg*100片",shuliang:"2",fushu:"2",danjia:"5.00",jiner:"10.00",zhuangtai:"划价"}]}}},Re,!1,function(e){a("leEU")},null,null).exports},mounted:function(){this.showFirstStateRegisters(),this.showSecondStateRegisters(),sessionStorage.removeItem("patientsObj")},methods:{toTab:function(e,t){if(e>0){if(null==this.$store.state.Register||""==this.$store.state.Register)return this.$message({type:"error",message:"需要先选择要诊治的患者"}),!1;var a=this.$store.state.Register.VisitState;if(null==a||""==a||"2"!=a)return this.$message({type:"error",message:"需要先将 病历首页 提交后，进行操作"}),!1}},endRegister:function(){var e=this;this.$confirm("确认诊毕："+this.$store.state.Register.RealName,"提示",{type:"warning",confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){var t=e,a="/neudoc/medical/endCheck?registID="+e.$store.state.Register.ID+"&visitState=3&caseState=3";b(a).then(function(a){200==a.status&&(t.reloadUser(),t.$message({type:a.data.status,message:e.$store.state.Register.RealName+"诊毕"}))}).catch(function(e){t.$message({type:"error",message:"数据加载失败！"})})}).catch(function(){e.$message({type:"info",message:"取消"})})},reloadUser:function(){this.showFirstStateRegisters(),this.showSecondStateRegisters(),sessionStorage.removeItem("patientsObj"),this.showPatientsTop=""},showHideMenu:function(){this.showMenu=!this.showMenu,this.showMenu?this.patientsButtonText="隐藏患者栏":this.patientsButtonText="显示患者栏"},handleCurrentChange01:function(e,t,a){this.showPatientsTop="患者姓名："+e.RealName+"  病历号："+e.CaseNumber+"  年龄："+e.Age+"  性别："+this.$options.filters.formatConstant(e.Gender),this.$store.state.Register=e,this.$refs.doc01.loadMedicalRecord(e.ID,1),this.showStop=!0},handleCurrentChange02:function(e,t,a){this.showPatientsTop="患者姓名："+e.RealName+"  病历号："+e.CaseNumber+"  年龄："+e.Age+"  性别："+this.$options.filters.formatConstant(e.Gender),sessionStorage.setItem("patientsObj",S()(e)),this.$store.state.Register=e,this.$refs.doc01.loadMedicalRecord(e.ID,2),this.showStop=!0},showFirstStateRegisters:function(){var e=this;b("/neureg/register/listStateRegisters?keywords02=1").then(function(t){200==t.status?e.RegistersTable01=t.data:e.RegistersTable01.RealName="没有数据"}).catch(function(t){e.$message({type:"error",message:"数据加载失败！"})})},showSecondStateRegisters:function(){var e=this;b("/neureg/register/listStateRegisters?keywords02=2").then(function(t){200==t.status?e.RegistersTable02=t.data:e.RegistersTable02.RealName="没有数据"}).catch(function(t){e.$message({type:"error",message:"数据加载失败！"})})}},data:function(){return{RegistersTable01:[{ID:"",RealName:"",Gender:"",IDnumber:"",BirthDate:"",Age:"",AgeType:"",HomeAddress:"",CaseNumber:"",VisitDate:"",Noon:"",DeptId:"",UserId:"",RegistLeID:"",SettleId:"",IsBook:"",RegistTime:"",RegisterID:"",VisitState:""}],RegistersTable02:[{ID:"",RealName:"",Gender:"",IDnumber:"",BirthDate:"",Age:"",AgeType:"",HomeAddress:"",CaseNumber:"",VisitDate:"",Noon:"",DeptId:"",UserId:"",RegistLeID:"",SettleId:"",IsBook:"",RegistTime:"",RegisterID:"",VisitState:""}],inputPatient:"",showStop:!1,showMenu:!0,patientsButtonText:"隐藏患者栏",showPatientsTop:"请选择患者",MyPatientsData01:[{CaseNumber:"01212124545",RealName:"易慧丹",Age:"32"},{CaseNumber:"01212124546",RealName:"桂龙成",Age:"45"},{CaseNumber:"01212124547",RealName:"董晨发",Age:"21"}],MyPatientsData02:[{CaseNumber:"01212124542",RealName:"张金龙",Age:"45"},{CaseNumber:"01212124543",RealName:"王玉荣",Age:"47"},{CaseNumber:"01212124544",RealName:"邓桂英",Age:"29"}],form01:{MedicalNo:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""},form02:{MedicalNo:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""},defaultProps:{children:"children",label:"label"}}}},Ee={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticStyle:{height:"950px",border:"1px solid #eee"}},[e.showMenu?a("el-aside",{attrs:{width:"350px"}},[a("el-container",[a("el-header",{staticStyle:{padding:"0",margin:"0"}},[a("el-row",[a("el-col",{staticStyle:{"text-align":"left"},attrs:{span:12}},[a("el-tag",{staticStyle:{width:"100%"},attrs:{size:"mini"}},[e._v("患者选择：")])],1),e._v(" "),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:12}},[a("el-button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",icon:"el-icon-refresh",size:"mini"},on:{click:e.reloadUser}})],1)],1),e._v(" "),a("el-row",[a("el-input",{staticClass:"input-with-select",staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容",size:"mini"},model:{value:e.inputPatient,callback:function(t){e.inputPatient=t},expression:"inputPatient"}},[a("template",{slot:"prepend"},[e._v("患者名：")]),e._v(" "),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},slot:"append"})],2)],1)],1),e._v(" "),a("el-main",{staticStyle:{height:"800px",padding:"0",margin:"0"}},[a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"本人"}},[a("el-tag",{staticStyle:{width:"100%"},attrs:{size:"mini"}},[e._v("未诊患者：")]),e._v(" "),a("el-table",{ref:"singleTable",staticStyle:{width:"100%",height:"50%"},attrs:{data:e.RegistersTable01,"highlight-current-row":"","show-header":!1,"max-height":"400",size:"mini"},on:{"row-click":e.handleCurrentChange01}},[a("el-table-column",{attrs:{property:"CaseNumber",label:"病历号",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{property:"RealName",label:"姓名"}}),e._v(" "),a("el-table-column",{attrs:{property:"Age",label:"年龄",width:"50"}})],1),a("br"),a("br"),e._v(" "),a("el-tag",{staticStyle:{width:"100%"},attrs:{size:"mini"}},[e._v("已诊患者：")]),e._v(" "),a("el-table",{ref:"singleTable",staticStyle:{width:"100%",height:"50%"},attrs:{data:e.RegistersTable02,"show-header":!1,size:"mini"},on:{"row-click":e.handleCurrentChange02}},[a("el-table-column",{attrs:{property:"CaseNumber",label:"病历号",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{property:"RealName",label:"姓名"}}),e._v(" "),a("el-table-column",{attrs:{property:"Age",label:"年龄",width:"50"}})],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"科室*"}},[a("el-tag",[e._v("未诊患者：")]),e._v(" "),a("el-table",{ref:"singleTable",staticStyle:{width:"100%",height:"50%"},attrs:{data:e.MyPatientsData01,"highlight-current-row":"","show-header":!1,size:"mini"}},[a("el-table-column",{attrs:{property:"CaseNumber",label:"病历号",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{property:"RealName",label:"姓名"}}),e._v(" "),a("el-table-column",{attrs:{property:"Age",label:"年龄",width:"50"}})],1),e._v(" "),a("el-tag",[e._v("已诊患者：")]),e._v(" "),a("el-table",{ref:"singleTable",staticStyle:{width:"100%",height:"50%"},attrs:{data:e.MyPatientsData02,"show-header":!1,size:"mini"}},[a("el-table-column",{attrs:{property:"CaseNumber",label:"病历号",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{property:"RealName",label:"姓名"}}),e._v(" "),a("el-table-column",{attrs:{property:"Age",label:"年龄",width:"50"}})],1)],1)],1)],1)],1)],1):e._e(),e._v(" "),a("el-container",{staticStyle:{height:"950px"},attrs:{direction:"vertical"}},[a("el-row",[a("el-button",{attrs:{type:"primary",plain:"",span:2,size:"mini"},on:{click:function(t){return e.showHideMenu(!1)}}},[e._v("\n\t\t\t          \t"+e._s(e.patientsButtonText)+"\n\t\t\t")]),e._v(" "),a("span",{staticStyle:{"margin-left":"20px","font-size":"small"},attrs:{span:20}},[e._v(e._s(e.showPatientsTop))]),e._v(" "),e.showStop?a("el-button",{staticStyle:{float:"right","margin-right":"20px"},attrs:{type:"text",size:"small",span:2},on:{click:e.endRegister}},[e._v("诊毕")]):e._e()],1),e._v(" "),a("el-tabs",{attrs:{type:"border-card","before-leave":e.toTab}},[a("el-tab-pane",{attrs:{label:"病历首页"}},[a("vDoctorA",{ref:"doc01"})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"检查申请",lazy:!0}},[a("vDoctorB")],1),e._v(" "),a("el-tab-pane",{attrs:{label:"检验申请*",lazy:!0}},[a("vDoctorC")],1),e._v(" "),a("el-tab-pane",{attrs:{label:"门诊确诊*",lazy:!0}},[a("vDoctorD")],1),e._v(" "),a("el-tab-pane",{attrs:{label:"处置申请*",lazy:!0}},[a("vDoctorE")],1),e._v(" "),a("el-tab-pane",{attrs:{label:"成药处方",lazy:!0}},[a("vDoctorF")],1),e._v(" "),a("el-tab-pane",{attrs:{label:"草药处方*",lazy:!0}},[a("vDoctorG")],1),e._v(" "),a("el-tab-pane",{attrs:{label:"费用查询*",lazy:!0}},[a("vDoctorH")],1)],1)],1)],1)},staticRenderFns:[]};var Me=a("VU/8")(Fe,Ee,!1,function(e){a("7dlD")},null,null).exports,Pe=a("bOdI"),Ve=a.n(Pe),Ae={methods:{nodeClick:function(e){this.siteName=e.label},onSubmit:function(){this.dialogTableVisible=!1}},data:function(){var e;return e={siteName:"",radio01:1,dialogTableVisible:!1,eltab01:"first",eltab02:""},Ve()(e,"radio01","3"),Ve()(e,"tableData01",[{leixing:"内科病历",mingcheng:"慢性咽炎",shijian:"2019-01-05"},{leixing:"内科病历",mingcheng:"哮喘",shijian:"2019-01-05"},{leixing:"门诊病历",mingcheng:"感冒",shijian:"2019-01-05"},{leixing:"门诊病历",mingcheng:"滑膜炎",shijian:"2019-01-05"},{leixing:"融合病历",mingcheng:"免疫力低下",shijian:"2019-01-05"},{leixing:"融合病历",mingcheng:"放射损伤",shijian:"2019-01-05"}]),e}},He={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-aside",{staticStyle:{width:"40%",background:"#fff"}},[a("el-row",{staticStyle:{"background-color":"#EAF1F5"}},[a("el-col",{staticStyle:{"margin-top":"4px"},attrs:{span:6}},[a("el-tag",{attrs:{size:"small"}},[e._v("病历模板：")])],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-button",{staticClass:"el-icon-circle-plus",attrs:{type:"text",size:"small"},on:{click:function(t){e.dialogTableVisible=!0}}},[e._v("新建模板")]),e._v(" "),a("el-dialog",{attrs:{title:"创建模板",visible:e.dialogTableVisible,"label-width":"80px"},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[a("el-form",{ref:"form"},[a("el-form-item",{attrs:{label:"模板类型"}},[a("el-select",{attrs:{placeholder:"请选择模板类型"},model:{value:e.eltab02,callback:function(t){e.eltab02=t},expression:"eltab02"}},[a("el-option",{attrs:{label:"内科病历模板",value:"neike"}}),e._v(" "),a("el-option",{attrs:{label:"门诊病历模板",value:"menzen"}}),e._v(" "),a("el-option",{attrs:{label:"融合病历模板",value:"ronghe"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"模板名称"}},[a("el-input")],1),e._v(" "),a("el-form-item",{attrs:{label:"模板范围"}},[a("el-radio",{attrs:{label:"3"},model:{value:e.radio01,callback:function(t){e.radio01=t},expression:"radio01"}},[e._v("全院")]),e._v(" "),a("el-radio",{attrs:{label:"6"},model:{value:e.radio01,callback:function(t){e.radio01=t},expression:"radio01"}},[e._v("科室")]),e._v(" "),a("el-radio",{attrs:{label:"9"},model:{value:e.radio01,callback:function(t){e.radio01=t},expression:"radio01"}},[e._v("个人")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("立即创建")]),e._v(" "),a("el-button",{on:{click:e.onSubmit}},[e._v("取消")])],1)],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-button",{staticClass:"el-icon-edit",attrs:{type:"text",size:"small"}},[e._v("修改名称")])],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-button",{staticClass:"el-icon-delete",attrs:{type:"text",size:"small"}},[e._v("删除模板")])],1)],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[e._v("\n\t\t\t\t模板范围：\n\t    \t\t"),a("el-radio",{attrs:{label:"1"},model:{value:e.radio01,callback:function(t){e.radio01=t},expression:"radio01"}},[e._v("全院")]),e._v(" "),a("el-radio",{attrs:{label:"2"},model:{value:e.radio01,callback:function(t){e.radio01=t},expression:"radio01"}},[e._v("科室")]),e._v(" "),a("el-radio",{attrs:{label:"3"},model:{value:e.radio01,callback:function(t){e.radio01=t},expression:"radio01"}},[e._v("个人")])],1),e._v(" "),a("el-row",[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"输入模板名称"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},slot:"append"})],1)],1),e._v(" "),a("el-row",[a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData01,"show-header":!0}},[a("el-table-column",{attrs:{prop:"choose02",label:"",width:"30px"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("input",{attrs:{type:"radio",name:"chooseOne01"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"leixing",label:"模板类型",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{property:"mingcheng",label:"模板名称"}}),e._v(" "),a("el-table-column",{attrs:{property:"shijian",label:"创建时间",width:"120"}})],1)],1)],1),e._v(" "),a("el-main",{staticStyle:{width:"60%",background:"#fff",height:"1200px"}},[a("el-form",{ref:"form",attrs:{"label-width":"80px"}},[a("el-row",{staticStyle:{"background-color":"#EAF1F5"}},[a("el-col",{staticStyle:{"margin-top":"4px"},attrs:{span:18}},[a("el-tag",{attrs:{size:"small"}},[e._v("模板内容：")])],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-button",{staticClass:"el-icon-circle-plus-outline",attrs:{type:"primary",size:"mini",plain:""}},[e._v("保存模板")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"主诉"}},[a("el-input",{attrs:{type:"textarea",rows:2}})],1),e._v(" "),a("el-form-item",{attrs:{label:"现病史"}},[a("el-input",{attrs:{type:"textarea",rows:2},model:{value:e.siteName,callback:function(t){e.siteName=t},expression:"siteName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"体格检查"}},[a("el-input",{attrs:{type:"textarea",rows:2}})],1),e._v(" "),a("el-form-item",{attrs:{label:"辅助检查"}},[a("el-input",{attrs:{type:"textarea",rows:2}})],1)],1)],1)],1)},staticRenderFns:[]};a("VU/8")(Ae,He,!1,function(e){a("kKdy")},null,null).exports;var Be={mounted:function(){this.loadDatas("","","")},methods:{handleCurrentChange01:function(e){this.formEdit03.ID=e.ID,this.formEdit03.Name=e.Name,this.formEdit03.CreationTime=e.CreationTime,this.formEdit03.Scope=e.Scope+"",this.formEdit03.RecordType=e.RecordType+"",this.showTmplChecks(e.ID)},showTmplChecks:function(e){var t=this,a=this;b("/neupha/templateDetaile/listTemplateChecks?keywords01="+e).then(function(e){200==e.status?t.categories02=e.data.list:a.$message({type:"warm",message:"后台数据错误！"})})},showInnerDialog:function(e,t){this.innerVisible=!0,this.formEdit02=t,this.formEdit02.CheckProjID=t.ID,this.formEdit02.CheckTempID=this.formEdit03.ID},addCheckDetailed:function(){var e=this,t=this;h("/neupha/templateDetaile/check",this.formEdit02).then(function(a){if(200==a.status){var i=a.data;t.$message({type:i.status,message:i.msg}),t.formEdit02={},e.innerVisible=!1,t.showTmplChecks(t.formEdit03.ID)}else t.$message({type:"warm",message:"添加失败！"})})},handleDelete:function(e,t){var a=this;this.$confirm("删除该项目 ,是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){v("/neupha/templateDetaile/checks/"+t.ID).then(function(e){if(200==e.status){var t=e.data;a.$message({type:t.status,message:t.msg}),a.showTmplChecks(a.formEdit03.ID)}})}).catch(function(){a.$message({type:"info",message:"已取消"})})},updataTemplate:function(){var e=this,t=this;this.$confirm("此操作将修改模板信息 ,是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){f("/neupha/template/check",e.formEdit03).then(function(e){if(200==e.status){var a=e.data;t.$message({type:a.status,message:a.msg}),t.loadDatas("","","")}})}).catch(function(){t.$message({type:"info",message:"已取消"})})},deleteTemplate:function(){var e=this,t=this;this.$confirm("此操作将删除模板信息 ,是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){v("/neupha/template/check/"+e.formEdit03.ID).then(function(e){if(200==e.status){var a=e.data;t.$message({type:a.status,message:a.msg}),t.formEdit03={CreationTime:new Date},t.categories02=[],t.loadDatas("","","")}})}).catch(function(){t.$message({type:"info",message:"已取消"})})},searchTemplate:function(){this.loadDatas(this.searchForm01.Name,this.searchForm01.Scope,this.searchForm01.RecordType)},addNewData:function(){var e=this,t=this;h("/neupha/template/check",this.dialogForm01).then(function(a){if(200==a.status){var i=a.data;t.$message({type:i.status,message:i.msg}),e.dialogForm01.Name="",t.loadDatas("","","")}}),t.dialogTableVisible=!1},loadDatas:function(e,t,a){var i=this;b("/neupha/template/listCheckTemplate?keywords01="+e+"&keywords02="+t+"&keywords03="+a).then(function(e){200==e.status?i.templateData01=e.data:i.templateData01.Name="没有数据"}).catch(function(e){i.$message({type:"error",message:"数据加载失败！"})})},searchData:function(){this.loadFmeDatas(1,this.pageSize,this.keywords01)},showFme:function(){this.dialogFormVisible=!0,this.loadFmeDatas(1,10,"")},currentChange:function(e){this.currentPage01=e,this.loading=!0,this.loadFmeDatas(e,this.pageSize,this.keywords01)},loadFmeDatas:function(e,t,a){var i=this;b("/neuski/fme/listPage?pageNumber="+e+"&pageSize="+t+"&keywords01="+a).then(function(t){i.loading=!1,200==t.status?(i.categories=t.data.list,i.totalCount=t.data.totalCount,i.currentPage01=e):i.$message({type:"error",message:"数据加载失败!"})},function(e){i.loading=!1,403==e.response.status?i.$message({type:"error",message:e.response.data}):i.$message({type:"error",message:"数据加载失败!"})}).catch(function(e){i.loading=!1,i.$message({type:"error",message:"数据加载失败!"})})}},data:function(){return{dialogTableVisible:!1,dialogFormVisible:!1,innerVisible:!1,categories:[],categories02:[],pageSize:10,totalCount:0,currentPage01:1,keywords01:"",formEdit02:{CheckProjID:"",CheckTempID:"",Position:""},formEdit03:{ID:"",Name:"",Scope:"",UserID:"1",CreationTime:new Date,RecordType:""},dialogForm01:{ID:"",Name:"",Scope:"1",UserID:"1",CreationTime:"2019-03-08 10:18",RecordType:"1"},searchForm01:{Name:"",Scope:"",RecordType:""},templateData01:[],selItems:[],labelPosition:"right"}},filters:{showScope:function(e){return 1==e?"个人":2==e?"科室":"全院"},showType:function(e){return 1==e?"检查":2==e?"检验":"处置"}}},Ue={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-aside",{staticStyle:{width:"40%",background:"#fff"}},[a("el-row",{staticStyle:{"background-color":"#EAF1F5"}},[a("el-col",{attrs:{span:18}},[a("el-tag",{attrs:{size:"small"}},[e._v("医技模板：")])],1),e._v(" "),a("el-col",{staticStyle:{"text-align":"center"},attrs:{span:5}},[a("el-button",{staticClass:"el-icon-circle-plus",attrs:{type:"text",size:"mini"},on:{click:function(t){e.dialogTableVisible=!0}}},[e._v("新建模板")])],1),e._v(" "),a("el-dialog",{attrs:{title:"创建模板",visible:e.dialogTableVisible,width:"30%"},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[a("el-form",{ref:"form01",attrs:{model:e.dialogForm01,"label-width":"80px",size:"mini"}},[a("el-form-item",{attrs:{label:"模板范围"}},[a("el-select",{attrs:{placeholder:"请选择模板范围"},model:{value:e.dialogForm01.Scope,callback:function(t){e.$set(e.dialogForm01,"Scope",t)},expression:"dialogForm01.Scope"}},[a("el-option",{attrs:{label:"全院",value:"3"}}),e._v(" "),a("el-option",{attrs:{label:"科室",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"个人",value:"1"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"模板名称"}},[a("el-input",{attrs:{placeholder:"输入模板名称"},model:{value:e.dialogForm01.Name,callback:function(t){e.$set(e.dialogForm01,"Name",t)},expression:"dialogForm01.Name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"模板类型"}},[a("el-select",{attrs:{placeholder:"请选择模板类型"},model:{value:e.dialogForm01.RecordType,callback:function(t){e.$set(e.dialogForm01,"RecordType",t)},expression:"dialogForm01.RecordType"}},[a("el-option",{attrs:{label:"处置",value:"3"}}),e._v(" "),a("el-option",{attrs:{label:"检验",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"检查",value:"1"}})],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"warning"},on:{click:function(t){e.dialogTableVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.addNewData}},[e._v("创建")])],1)],1)],1)],1),e._v(" "),a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchForm01,size:"mini"}},[a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-form-item",{attrs:{label:"名称："}},[a("el-input",{attrs:{placeholder:"输入模板名称"},model:{value:e.searchForm01.Name,callback:function(t){e.$set(e.searchForm01,"Name",t)},expression:"searchForm01.Name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"  范围："}},[a("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"范围"},model:{value:e.searchForm01.Scope,callback:function(t){e.$set(e.searchForm01,"Scope",t)},expression:"searchForm01.Scope"}},[a("el-option",{attrs:{label:"所有",value:""}}),e._v(" "),a("el-option",{attrs:{label:"全院",value:"3"}}),e._v(" "),a("el-option",{attrs:{label:"科室",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"个人",value:"1"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-form-item",{attrs:{label:"记录类型："}},[a("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"类型"},model:{value:e.searchForm01.RecordType,callback:function(t){e.$set(e.searchForm01,"RecordType",t)},expression:"searchForm01.RecordType"}},[a("el-option",{attrs:{label:"所有",value:""}}),e._v(" "),a("el-option",{attrs:{label:"处置",value:"3"}}),e._v(" "),a("el-option",{attrs:{label:"检验",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"检查",value:"1"}})],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.searchTemplate}},[e._v("查询")])],1)],1)],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:e.templateData01,"highlight-current-row":"",size:"mini"},on:{"current-change":e.handleCurrentChange01}},[a("el-table-column",{attrs:{property:"Name",label:"模板名称"}}),e._v(" "),a("el-table-column",{attrs:{property:"CreationTime",label:"创建时间",width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e._f("formatDateTime")(t.row.CreationTime))+"\n          ")]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"Scope",label:"范围",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e._f("showScope")(t.row.Scope))+"\n          ")]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"RecordType",label:"类型",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e._f("showType")(t.row.RecordType))+"\n          ")]}}])})],1)],1)],1),e._v(" "),a("el-main",{staticStyle:{width:"60%",height:"1200px"}},[a("el-row",{staticStyle:{"background-color":"#EAF1F5"}},[a("el-col",{attrs:{span:14}},[a("el-tag",{attrs:{type:"info"}},[e._v("操作：")])],1),e._v(" "),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:5}},[a("el-button",{staticClass:"el-icon-check",attrs:{type:"text",size:"small"},on:{click:e.updataTemplate}},[e._v("修改模板")])],1),e._v(" "),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:5}},[a("el-button",{staticClass:"el-icon-delete",attrs:{type:"text",size:"small"},on:{click:e.deleteTemplate}},[e._v("删除模板")])],1)],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",[a("el-tag",{staticStyle:{width:"100%","text-align":"center"},attrs:{size:"mini"}},[e._v("模板明细：")])],1)],1),e._v(" "),a("el-form",{staticStyle:{"margin-top":"10px"},attrs:{model:e.formEdit03,"label-width":"200px"}},[a("el-form-item",{attrs:{label:"模板名称"}},[a("el-input",{model:{value:e.formEdit03.Name,callback:function(t){e.$set(e.formEdit03,"Name",t)},expression:"formEdit03.Name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"创建时间"}},[a("el-tag",{attrs:{type:"info"}},[e._v(e._s(e._f("formatDateTime")(e.formEdit03.CreationTime)))])],1),e._v(" "),a("el-form-item",{attrs:{label:"模板范围"}},[a("el-select",{attrs:{placeholder:"范围"},model:{value:e.formEdit03.Scope,callback:function(t){e.$set(e.formEdit03,"Scope",t)},expression:"formEdit03.Scope"}},[a("el-option",{attrs:{label:"全院",value:"3"}},[e._v("全院")]),e._v(" "),a("el-option",{attrs:{label:"科室",value:"2"}},[e._v("科室")]),e._v(" "),a("el-option",{attrs:{label:"个人",value:"1"}},[e._v("个人")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"记录类型"}},[a("el-select",{attrs:{placeholder:"类型"},model:{value:e.formEdit03.RecordType,callback:function(t){e.$set(e.formEdit03,"RecordType",t)},expression:"formEdit03.RecordType"}},[a("el-option",{attrs:{label:"处置",value:"3"}}),e._v(" "),a("el-option",{attrs:{label:"检验",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"检查",value:"1"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-button",{attrs:{type:"primary"},on:{click:e.showFme}},[e._v("增加检验项目")])],1),e._v(" "),a("el-dialog",{attrs:{title:"新增医技",visible:e.dialogFormVisible,width:"80%"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-row",[a("el-col",{attrs:{span:18}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-input",{attrs:{placeholder:"请输入医技助记码",size:"mini"},model:{value:e.keywords01,callback:function(t){e.keywords01=t},expression:"keywords01"}})],1)]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"mini",icon:"el-icon-view"},on:{click:e.searchData}},[e._v("查询")])],1)])],1),e._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{stripe:"",size:"mini",data:e.categories,"tooltip-effect":"dark"}},[a("el-table-column",{attrs:{label:"项目编码",prop:"ItemCode",width:"140",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"项目名称",prop:"ItemName",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"项目规格",prop:"Format",width:"80",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"项目单价",prop:"Price",width:"80",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"拼音助记码",prop:"MnemonicCode",width:"180",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.showInnerDialog(t.$index,t.row)}}},[e._v("选择\n            ")])]}}])},[e._v(" "),a("el-dialog",{attrs:{width:"30%",title:"添加详情",visible:e.innerVisible,"append-to-body":"",center:"center"},on:{"update:visible":function(t){e.innerVisible=t}}},[a("el-form",{staticClass:"demo-form-inline",attrs:{"label-position":e.labelPosition,"label-width":"100px",model:e.formEdit02,size:"mini"}},[a("el-form-item",{attrs:{label:"项目名称"}},[a("el-input",{attrs:{placeholder:"项目名称",readonly:"readonly"},model:{value:e.formEdit02.ItemName,callback:function(t){e.$set(e.formEdit02,"ItemName",t)},expression:"formEdit02.ItemName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"检查部位"}},[a("el-input",{attrs:{placeholder:"检查部位"},model:{value:e.formEdit02.Position,callback:function(t){e.$set(e.formEdit02,"Position",t)},expression:"formEdit02.Position"}})],1),e._v(" "),a("el-form-item",[a("el-button",{staticStyle:{width:"100px"},attrs:{type:"danger"},on:{click:e.addCheckDetailed}},[e._v("添加\n                ")])],1)],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24,align:"right"}},[a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:this.categories.length>0,expression:"this.categories.length>0"}],attrs:{background:"","page-size":e.pageSize,"current-page":e.currentPage01,layout:"prev, pager, next",total:e.totalCount},on:{"update:currentPage":function(t){e.currentPage01=t},"update:current-page":function(t){e.currentPage01=t},"current-change":e.currentChange}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("关闭")])],1)],1),e._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{stripe:"",size:"mini",data:e.categories02,"tooltip-effect":"dark"}},[a("el-table-column",{attrs:{label:"项目编码",prop:"ItemCode",width:"140",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"项目名称",prop:"ItemName",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"项目规格",prop:"Format",width:"80",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"检查部位",prop:"Position",width:"80",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1)],1)],1)},staticRenderFns:[]};var Ye=a("VU/8")(Be,Ue,!1,function(e){a("GEck")},null,null).exports,qe={mounted:function(){this.loadDatas("","")},methods:{onSubmit:function(){this.dialogTableVisible=!1},showFormatConstants:function(e,t,a,i){return y(0,0,a)},handleSelectionChange01:function(e){this.selItems=e},handleCurrentChange01:function(e){this.formEdit03.ID=e.ID,this.formEdit03.Name=e.Name,this.formEdit03.Scope=e.Scope+"",this.showTmplDrugs(e.ID)},updataTemplate:function(){var e=this,t=this;this.$confirm("此操作将修改模板信息 ,是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){f("/neupha/template/",e.formEdit03).then(function(e){if(200==e.status){var a=e.data;t.$message({type:a.status,message:a.msg}),t.loadDatas("","")}})}).catch(function(){t.$message({type:"info",message:"已取消"})})},deleteTemplate:function(){var e=this,t=this;this.$confirm("此操作将删除模板信息 ,是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){v("/neupha/template/drug/"+e.formEdit03.ID).then(function(a){if(200==a.status){var i=a.data;t.$message({type:i.status,message:i.msg}),t.formEdit03={},t.loadDatas("",""),t.showTmplDrugs(e.formEdit03.ID)}})}).catch(function(){t.$message({type:"info",message:"已取消"})})},closeDrugsDialog:function(){this.dialogDrugsVisible=!1,this.showTmplDrugs(this.formEdit03.ID)},showTmplDrugs:function(e){var t=this;b("/neupha/templateDetaile/listTemplateDrugs?keywords01="+e).then(function(e){200==e.status?t.templateDrugs=e.data:t.templateData01.Name="没有数据"}).catch(function(e){t.$message({type:"error",message:"数据加载失败！"})})},searchTemplate:function(){this.loadDatas(this.searchForm01.Name,this.searchForm01.Scope)},showDrugsList:function(){null==this.formEdit03.ID||""==this.formEdit03.ID?this.$message({type:"error",message:"请选择要添加药品的模板!"}):(this.loadDrugs(1,this.pageSize,this.keywords01),this.dialogDrugsVisible=!0)},addNewData:function(e){var t=this;h("/neupha/template/",this.dialogForm01).then(function(e){if(200==e.status){var a=e.data;t.$message({type:a.status,message:a.msg}),t.dialogForm01={},t.loadDatas("","")}}),t.dialogTableVisible=!1},loadDatas:function(e,t){var a=this;b("/neupha/template/listDrugTemplate?keywords01="+e+"&keywords02="+t).then(function(e){200==e.status?a.templateData01=e.data:a.templateData01.Name="没有数据"}).catch(function(e){a.$message({type:"error",message:"数据加载失败！"})})},loadDrugs:function(e,t,a){var i=this;b("/neupha/drug/listPage?pageNumber="+e+"&pageSize="+t+"&keywords01="+a).then(function(t){i.loading=!1,200==t.status?(i.categories=t.data.list,i.totalCount=t.data.totalCount,i.currentPage01=e):i.$message({type:"error",message:"数据加载失败!"})},function(e){i.loading=!1,403==e.response.status?i.$message({type:"error",message:e.response.data}):i.$message({type:"error",message:"数据加载失败!"})}).catch(function(e){i.loading=!1,i.$message({type:"error",message:"数据加载失败!"})})},currentChange:function(e){this.currentPage01=e,this.loading=!0,this.loadDrugs(e,this.pageSize,this.keywords01)},searchData:function(){null==this.keywords01||""==this.keywords01?this.loadDrugs(1,this.pageSize,""):this.loadDrugs(1,this.pageSize,this.keywords01)},showInnerDialog:function(e,t){this.innerVisible=!0,this.formEdit02=t,this.formEdit02.DrugsDosage=t.Dosage,this.formEdit02.DrugtempId=this.formEdit03.ID,this.formEdit02.DrugsId=t.ID,this.formEdit02.Usage="",this.formEdit02.Dosage="",this.formEdit02.Frequency=""},addDrugsDetailed:function(){var e=this,t=this;h("/neupha/templateDetaile/drugs",this.formEdit02).then(function(a){if(200==a.status){var i=a.data;t.$message({type:i.status,message:i.msg}),t.formEdit02={},e.innerVisible=!1}else t.$message({type:"warm",message:"添加失败！"})})},deleteTmplDrugs:function(){var e=this,t=this;this.$confirm("确认删除这 "+this.selItems.length+" 条数据?","提示",{type:"warning",confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){for(var a=t.selItems,i="",s=0;s<a.length;s++)i+=a[s].ID+",";e.deleteTmplDrug(i),e.$message({type:"success",message:"删除"+e.selItems.length+" 条数据成功！"})}).catch(function(){})},deleteTmplDrug:function(e){var t=this,a=this;v("/neupha/templateDetaile/drugs/"+e).then(function(e){var i=e.data;a.$message({type:i.status,message:i.msg}),t.showTmplDrugs(t.formEdit03.ID)},function(e){a.loading=!1,403==e.response.status?a.$message({type:"error",message:e.response.data}):500==e.response.status&&a.$message({type:"error",message:"删除失败!"})})}},data:function(){return{dialogTableVisible:!1,dialogDrugsVisible:!1,innerVisible:!1,selItems:[],labelPosition:"right",dialogForm01:{Name:"",Scope:"1",UserID:"1",CreationTime:"2019-03-08 10:18"},searchForm01:{Name:"",Scope:""},templateData01:[],currentPage01:1,pageSize:10,totalCount:0,keywords01:"",categories:[{MnemonicCode:"ZSYJAZZ",DrugsCode:"242413242",DrugsName:"注射用甲氨喋呤",Format:"1g×1支",Unit:"支",Price:"15.73",Dosage:"针剂",DrugsType:"西药"}],formEdit02:{ID:"",DrugtempId:"",DrugsId:"",DrugsName:"",Format:"",Unit:"",Usage:"",Dosage:"",Frequency:"",DrugsDosage:"",DrugsCode:""},templateDrugs:[{ID:"",DrugstempId:"",DrugsId:"",DrugsName:"",DrugsFormat:"",DrugsUnit:"",DrugsUsage:"",DrugsDosage:"",DrugsFrequency:""}],formEdit03:{ID:"",Name:"",Scope:""},siteName:"",radio01:1,eltab01:"first",eltab02:"",tableData03:[]}},filters:{showScope:function(e){return 1==e?"个人":2==e?"科室":"全院"}}},je={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-aside",{staticStyle:{width:"40%",background:"#fff"}},[a("el-row",{staticStyle:{"background-color":"#EAF1F5"}},[a("el-col",{attrs:{span:18}},[a("el-tag",{attrs:{size:"small"}},[e._v("西药处方模板：")])],1),e._v(" "),a("el-col",{staticStyle:{"text-align":"center"},attrs:{span:5}},[a("el-button",{staticClass:"el-icon-circle-plus",attrs:{type:"text",size:"mini"},on:{click:function(t){e.dialogTableVisible=!0}}},[e._v("新建模板")])],1),e._v(" "),a("el-dialog",{attrs:{title:"创建模板",visible:e.dialogTableVisible,width:"30%"},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[a("el-form",{ref:"form01",attrs:{model:e.dialogForm01,"label-width":"80px",size:"mini"}},[a("el-form-item",{attrs:{label:"模板范围"}},[a("el-select",{attrs:{placeholder:"请选择模板范围"},model:{value:e.dialogForm01.Scope,callback:function(t){e.$set(e.dialogForm01,"Scope",t)},expression:"dialogForm01.Scope"}},[a("el-option",{attrs:{label:"全院",value:"3"}}),e._v(" "),a("el-option",{attrs:{label:"科室",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"个人",value:"1"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"模板名称"}},[a("el-input",{attrs:{placeholder:"输入模板名称"},model:{value:e.dialogForm01.Name,callback:function(t){e.$set(e.dialogForm01,"Name",t)},expression:"dialogForm01.Name"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"warning"},on:{click:function(t){e.dialogTableVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addNewData("form01")}}},[e._v("创建")])],1)],1)],1)],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchForm01,size:"mini"}},[a("el-form-item",{attrs:{label:"名称："}},[a("el-input",{attrs:{placeholder:"输入模板名称"},model:{value:e.searchForm01.Name,callback:function(t){e.$set(e.searchForm01,"Name",t)},expression:"searchForm01.Name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"  范围："}},[a("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"范围"},model:{value:e.searchForm01.Scope,callback:function(t){e.$set(e.searchForm01,"Scope",t)},expression:"searchForm01.Scope"}},[a("el-option",{attrs:{label:"所有",value:""}}),e._v(" "),a("el-option",{attrs:{label:"全院",value:"3"}}),e._v(" "),a("el-option",{attrs:{label:"科室",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"个人",value:"1"}})],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.searchTemplate}},[e._v("查询")])],1)],1)],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:e.templateData01,"highlight-current-row":"",size:"mini"},on:{"current-change":e.handleCurrentChange01}},[a("el-table-column",{attrs:{property:"Name",label:"模板名称"}}),e._v(" "),a("el-table-column",{attrs:{property:"CreationTime",label:"创建时间",width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e._f("formatDateTime")(t.row.CreationTime))+"\n          ")]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"Scope",label:"范围",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e._f("showScope")(t.row.Scope))+"\n          ")]}}])})],1)],1)],1),e._v(" "),a("el-main",{staticStyle:{width:"60%",height:"1200px"}},[a("el-row",{staticStyle:{"background-color":"#EAF1F5"}},[a("el-col",{attrs:{span:4}},[a("el-tag",{attrs:{type:"info"}},[e._v("操作：")])],1),e._v(" "),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:5}},[a("el-button",{staticClass:"el-icon-circle-plus-outline",attrs:{type:"text",size:"small"},on:{click:e.showDrugsList}},[e._v("增加药品")])],1),e._v(" "),a("el-dialog",{attrs:{title:"模板增加药品",visible:e.dialogDrugsVisible,top:"10px",width:"80%"},on:{"update:visible":function(t){e.dialogDrugsVisible=t}}},[a("el-row",[a("el-col",{attrs:{span:18}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-input",{attrs:{placeholder:"请输入药品助记码",size:"mini"},model:{value:e.keywords01,callback:function(t){e.keywords01=t},expression:"keywords01"}})],1)]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"mini",icon:"el-icon-view"},on:{click:e.searchData}},[e._v("查询药品")])],1)])],1),e._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{stripe:"",size:"mini",data:e.categories,"tooltip-effect":"dark"}},[a("el-table-column",{attrs:{label:"药品编码",prop:"DrugsCode",width:"140",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"药品名称",prop:"DrugsName",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"药品规格",prop:"DrugsFormat",width:"140",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"药品单位",prop:"DrugsUnit",width:"80",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"药品单价",prop:"DrugsPrice",width:"80",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"药品剂型",prop:"DrugsDosageID",formatter:e.showFormatConstants,width:"80",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"药品类型",prop:"DrugsTypeID",formatter:e.showFormatConstants,width:"80",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.showInnerDialog(t.$index,t.row)}}},[e._v("选择\n                ")])]}}])},[e._v(" "),a("el-dialog",{attrs:{width:"30%",title:"添加模板中的药品详情",visible:e.innerVisible,"append-to-body":"",center:"center"},on:{"update:visible":function(t){e.innerVisible=t}}},[a("el-form",{staticClass:"demo-form-inline",attrs:{"label-position":e.labelPosition,"label-width":"100px",model:e.formEdit02,size:"mini"}},[a("el-form-item",{attrs:{label:"药品编码"}},[a("el-input",{attrs:{placeholder:"药品编码",readonly:"readonly"},model:{value:e.formEdit02.DrugsCode,callback:function(t){e.$set(e.formEdit02,"DrugsCode",t)},expression:"formEdit02.DrugsCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"药品名称"}},[a("el-input",{attrs:{placeholder:"药品名称",readonly:"readonly"},model:{value:e.formEdit02.DrugsName,callback:function(t){e.$set(e.formEdit02,"DrugsName",t)},expression:"formEdit02.DrugsName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"药品规格"}},[a("el-input",{attrs:{placeholder:"药品规格",readonly:"readonly"},model:{value:e.formEdit02.DrugsFormat,callback:function(t){e.$set(e.formEdit02,"DrugsFormat",t)},expression:"formEdit02.DrugsFormat"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"药品单位"}},[a("el-input",{attrs:{placeholder:"药品单位",readonly:"readonly"},model:{value:e.formEdit02.DrugsUnit,callback:function(t){e.$set(e.formEdit02,"DrugsUnit",t)},expression:"formEdit02.DrugsUnit"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"药品用法"}},[a("el-input",{attrs:{placeholder:"药品用法"},model:{value:e.formEdit02.Usage,callback:function(t){e.$set(e.formEdit02,"Usage",t)},expression:"formEdit02.Usage"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"药品用量"}},[a("el-input",{attrs:{placeholder:"药品用量"},model:{value:e.formEdit02.Dosage,callback:function(t){e.$set(e.formEdit02,"Dosage",t)},expression:"formEdit02.Dosage"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"使用频次"}},[a("el-input",{attrs:{placeholder:"使用频次"},model:{value:e.formEdit02.Frequency,callback:function(t){e.$set(e.formEdit02,"Frequency",t)},expression:"formEdit02.Frequency"}})],1),e._v(" "),a("el-form-item",[a("el-button",{staticStyle:{width:"100px"},attrs:{type:"danger"},on:{click:e.addDrugsDetailed}},[e._v("添加\n                    ")])],1)],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8,align:"left"}},[a("el-button",{staticStyle:{"margin-top":"10px",width:"100px"},attrs:{type:"danger",size:"mini"},on:{click:e.closeDrugsDialog}},[e._v("关闭\n              ")])],1),e._v(" "),a("el-col",{attrs:{span:16,align:"right"}},[a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:this.categories.length>0,expression:"this.categories.length>0"}],attrs:{background:"","page-size":e.pageSize,"current-page":e.currentPage01,layout:"prev, pager, next",total:e.totalCount},on:{"update:currentPage":function(t){e.currentPage01=t},"update:current-page":function(t){e.currentPage01=t},"current-change":e.currentChange}})],1)],1)],1),e._v(" "),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:5}},[a("el-button",{staticClass:"el-icon-close",attrs:{type:"text",size:"small",disabled:0==this.selItems.length},on:{click:e.deleteTmplDrugs}},[e._v("删除药品")])],1),e._v(" "),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:5}},[a("el-button",{staticClass:"el-icon-check",attrs:{type:"text",size:"small"},on:{click:e.updataTemplate}},[e._v("修改模板")])],1),e._v(" "),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:5}},[a("el-button",{staticClass:"el-icon-delete",attrs:{type:"text",size:"small"},on:{click:e.deleteTemplate}},[e._v("删除模板")])],1)],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",[a("el-tag",{staticStyle:{width:"100%","text-align":"center"},attrs:{size:"mini"}},[e._v("模板明细：")])],1)],1),e._v(" "),a("el-form",{attrs:{inline:"inline",model:e.formEdit03,size:"small"}},[a("el-tag",{attrs:{type:"info"}},[e._v("模板名称：")]),e._v(" "),a("el-form-item",{staticStyle:{width:"50%"}},[a("el-input",{staticStyle:{width:"200px"},model:{value:e.formEdit03.Name,callback:function(t){e.$set(e.formEdit03,"Name",t)},expression:"formEdit03.Name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"模板范围"}},[a("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"范围"},model:{value:e.formEdit03.Scope,callback:function(t){e.$set(e.formEdit03,"Scope",t)},expression:"formEdit03.Scope"}},[a("el-option",{attrs:{label:"全院",value:"3"}},[e._v("全院")]),e._v(" "),a("el-option",{attrs:{label:"科室",value:"2"}},[e._v("科室")]),e._v(" "),a("el-option",{attrs:{label:"个人",value:"1"}},[e._v("个人")])],1)],1)],1),e._v(" "),a("el-row",[a("el-table",{ref:"multipleTable02",staticStyle:{width:"100%"},attrs:{data:e.templateDrugs,size:"mini"},on:{"selection-change":e.handleSelectionChange01}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{property:"DrugsName",label:"药品名称"}}),e._v(" "),a("el-table-column",{attrs:{property:"DrugsFormat",label:"规格"}}),e._v(" "),a("el-table-column",{attrs:{property:"DrugsUnit",label:"单位",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{property:"DrugsUsage",label:"用法",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{property:"DrugsDosage",label:"用量",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{property:"DrugsFrequency",label:"频次",width:"100"}})],1)],1)],1)],1)},staticRenderFns:[]};var Xe=a("VU/8")(qe,je,!1,function(e){a("tXaw")},null,null).exports,Le={methods:{nodeClick:function(e){this.siteName=e.label},onSubmit:function(){this.dialogTableVisible=!1}},data:function(){var e,t,a;return{siteName:"",radio01:1,dialogTableVisible:!1,eltab01:"first",eltab02:"",treeData:[{id:1,label:"病历模板",children:[{id:11,label:"西药处方模板",children:[{id:111,label:"慢性咽炎"},{id:112,label:"哮喘"}]},{id:12,label:"中药处方模板",children:[{id:121,label:"感冒"},{id:122,label:"滑囊炎"}]},{id:13,label:"中西医处方模板",children:[{id:131,label:"免疫力低下处方"},{id:132,label:"放射损伤处方"}]}]}],tableData03:[(e={mingcheng:"头孢拉定注射液",guige:"0.25ml*10支",danjia:"10/支",yongliang:"0.25",danwei:"ml",pinci:"一天一次",tianshu:"3",cishu:"3",shuliang:"3"},Ve()(e,"danwei","支"),Ve()(e,"zhutuo","需要皮试"),Ve()(e,"jieguo","查看"),e),(t={mingcheng:"5%葡萄糖注射液",guige:"250ml*1袋",danjia:"2/袋",yongliang:"250",danwei:"ml",pinci:"一天一次",tianshu:"3",cishu:"3",shuliang:"3"},Ve()(t,"danwei","袋"),Ve()(t,"zhutuo",""),Ve()(t,"jieguo","查看"),t),(a={mingcheng:"5%葡萄糖注射液",guige:"250ml*1袋",danjia:"2/袋",yongliang:"250",danwei:"ml",pinci:"一天一次",tianshu:"3",cishu:"3",shuliang:"3"},Ve()(a,"danwei","袋"),Ve()(a,"zhutuo",""),Ve()(a,"jieguo","查看"),a)]}}},Oe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-aside",{staticStyle:{width:"40%",background:"#fff"}},[a("el-row",{staticStyle:{"background-color":"#EAF1F5"}},[a("el-col",{staticStyle:{"margin-top":"4px"},attrs:{span:12}},[a("el-tag",{attrs:{size:"small"}},[e._v("中医处方模板：")])],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-button",{staticClass:"el-icon-circle-plus",attrs:{type:"text",size:"small"},on:{click:function(t){e.dialogTableVisible=!0}}},[e._v("新建模板")]),e._v(" "),a("el-dialog",{attrs:{title:"创建模板",visible:e.dialogTableVisible,"label-width":"80px"},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[a("el-form",{ref:"form"},[a("el-form-item",{attrs:{label:"上级菜单"}},[a("el-select",{attrs:{placeholder:"请选择上级菜单"},model:{value:e.eltab02,callback:function(t){e.eltab02=t},expression:"eltab02"}},[a("el-option",{attrs:{label:"西药处方模板",value:"neike"}}),e._v(" "),a("el-option",{attrs:{label:"中药处方模板",value:"menzen"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"模板名称"}},[a("el-input")],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("立即创建")]),e._v(" "),a("el-button",{on:{click:e.onSubmit}},[e._v("取消")])],1)],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-button",{staticClass:"el-icon-edit",attrs:{type:"text",size:"small"}},[e._v("修改名称")])],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-button",{staticClass:"el-icon-delete",attrs:{type:"text",size:"small"}},[e._v("删除模板")])],1)],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[e._v("\n        模板范围：\n        "),a("el-radio",{attrs:{label:"1"},model:{value:e.radio01,callback:function(t){e.radio01=t},expression:"radio01"}},[e._v("全院")]),e._v(" "),a("el-radio",{attrs:{label:"2"},model:{value:e.radio01,callback:function(t){e.radio01=t},expression:"radio01"}},[e._v("科室")]),e._v(" "),a("el-radio",{attrs:{label:"3"},model:{value:e.radio01,callback:function(t){e.radio01=t},expression:"radio01"}},[e._v("个人")])],1),e._v(" "),a("el-row",[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"输入模板名称"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},slot:"append"})],1)],1),e._v(" "),a("el-row",[a("el-tree",{attrs:{data:e.treeData,"default-expanded-keys":[1],"node-key":"id","expand-on-click-node":!1},on:{"node-click":e.nodeClick},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.node;return t.data,a("span",{staticClass:"custom-tree-node"},[a("span",[e._v(e._s(i.label)+"\n                        ")])])}}])})],1)],1),e._v(" "),a("el-main",{staticStyle:{width:"60%",background:"#fff",height:"1200px"}},[a("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"-20px","margin-left":"-20px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticStyle:{"font-size":"small"}},[e._v("处方明细")]),e._v(" "),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"}},[e._v("保存处方")]),e._v(" "),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"}},[e._v("删除药品")]),e._v(" "),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"}},[e._v("增加药品")])],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData03,"row-class-name":e.tableRowClassName}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{property:"mingcheng",label:"药品名称"}}),e._v(" "),a("el-table-column",{attrs:{property:"guige",label:"规格"}}),e._v(" "),a("el-table-column",{attrs:{property:"yongliang",label:"用量",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{property:"danwei",label:"单位",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{property:"pinci",label:"频次",width:"100"}})],1)],1)],1)],1)},staticRenderFns:[]};var Ge=a("VU/8")(Le,Oe,!1,function(e){a("IiNB")},null,null).exports,We={name:"tabpage",data:function(){return{dialog01Visible:!1,fileList01:[{name:"food.jpeg",url:"https://localhost:8080/his/upload01/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100"},{name:"food2.jpeg",url:"https://localhost:8080/his/upload01/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100"}],form01:{text01:"",text02:"",text03:"",text04:"",text05:"",text06:"",text07:"",text08:"",text09:""},MyPatientsData01:[{text01:"01212124545",text02:"易慧丹",text03:"3322"},{text01:"01212124546",text02:"桂龙成",text03:"41315"},{text01:"01212124547",text02:"董晨发",text03:"213211"}],MyPatientsData02:[{MedicalNo:"01212124542",name:"张金龙",age:"432135"},{MedicalNo:"01212124543",name:"王玉荣",age:"43217"},{MedicalNo:"01212124544",name:"邓桂英",age:"232139"}],tableData01:[{text01:"血细胞分析",text02:"",text03:"1",text04:"次",text05:"12",text06:"12",text07:"未检"},{text01:"尿糖定量测定",text02:"",text03:"1",text04:"次",text05:"5",text06:"5",text07:"未检"},{text01:"细胞周期分析",text02:"",text03:"1",text04:"次",text05:"220",text06:"220",text07:"未检"}]}},methods:{submitUpload:function(){this.$refs.upload.submit(),this.dialog01Visible=!1,_(this,"填写结果")},handleRemove:function(e,t){_(this,"移除图片"+e.name)},handleCurrentChange01:function(e){this.form01.text01=e.text01,this.form01.text02=e.text02,this.form01.text03="31",this.form01.text04="自费",this.form01.text07=F((new Date).getTime()),this.form01.text09=e.text03},showConfirm:function(e){D(this,e)},showMsg:function(e){_(this,e)}}},Qe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticStyle:{height:"950px",border:"1px solid #eee"}},[a("el-dialog",{attrs:{title:"添加检验结果",visible:e.dialog01Visible,width:"30%"},on:{"update:visible":function(t){e.dialog01Visible=t}}},[a("span",[e._v("添加检验结果")]),e._v(" "),a("el-input",{staticClass:"input-with-select",staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容",type:"textarea",rows:"3"}},[a("template",{slot:"prepend"},[e._v("疾病名称：")]),e._v(" "),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},slot:"append"})],2),e._v(" "),a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"https://localhost:8080/his/upload01","on-remove":e.handleRemove,"file-list":e.fileList01,"auto-upload":!1}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")]),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("选择检查结果图像，可以上传多张；只能上传jpg/png文件，且不超过500kb")])],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialog01Visible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:e.submitUpload}},[e._v("提交")])],1)],1),e._v(" "),a("el-aside",{attrs:{width:"350px"}},[a("el-container",[a("el-header",[a("el-input",{staticClass:"input-with-select",staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容"}},[a("template",{slot:"prepend"},[e._v("患者名：")]),e._v(" "),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},slot:"append"})],2)],1),e._v(" "),a("el-main",{staticStyle:{height:"700px",border:"1px solid #eee",padding:"0",margin:"0"}},[a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"医技检验"}},[a("el-tag",[e._v("患者：")]),e._v(" "),a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:e.MyPatientsData01,"highlight-current-row":"","show-header":!1,size:"mini"},on:{"current-change":e.handleCurrentChange01}},[a("el-table-column",{attrs:{property:"text01",label:"病历号"}}),e._v(" "),a("el-table-column",{attrs:{property:"text02",label:"姓名",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{property:"text03",label:"发票号",width:"100"}})],1),a("br"),a("br")],1)],1)],1)],1)],1),e._v(" "),a("el-container",{staticStyle:{height:"950px"},attrs:{direction:"vertical"}},[a("el-row",{staticStyle:{"background-color":"#EAF1F5"}},[a("el-col",{staticStyle:{"margin-top":"4px"},attrs:{span:9}},[a("el-tag",{attrs:{size:"mini"}},[e._v("检验明细信息：")])],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-button",{staticClass:"el-icon-success",attrs:{type:"text",size:"small"},on:{click:function(t){return e.showConfirm("执行检查项")}}},[e._v("执行确认")])],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-button",{staticClass:"el-icon-success",attrs:{type:"text",size:"small"},on:{click:function(t){return e.showConfirm("取消检查项目")}}},[e._v("取消执行")])],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-button",{staticClass:"el-icon-success",attrs:{type:"text",size:"small"},on:{click:function(t){e.dialog01Visible=!0}}},[e._v("填写结果")])],1)],1),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.form01,"label-width":"80px",size:"mini",inline:!0}},[a("el-row",[a("div",{staticStyle:{"font-size":"large","text-align":"center"}},[e._v("检验明细单")]),e._v(" "),a("hr")]),e._v(" "),a("el-row",[a("el-form-item",{attrs:{label:"病历号:"}},[a("el-input",{attrs:{type:"text",size:"mini",span:8},model:{value:e.form01.text01,callback:function(t){e.$set(e.form01,"text01",t)},expression:"form01.text01"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"患者姓名:"}},[a("el-input",{attrs:{type:"text",size:"mini",span:8},model:{value:e.form01.text02,callback:function(t){e.$set(e.form01,"text02",t)},expression:"form01.text02"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"年龄:"}},[a("el-input",{attrs:{type:"text",size:"mini",span:8},model:{value:e.form01.text03,callback:function(t){e.$set(e.form01,"text03",t)},expression:"form01.text03"}})],1)],1),e._v(" "),a("el-row",[a("el-form-item",{attrs:{label:"结算类别:"}},[a("el-input",{attrs:{type:"text",size:"mini",rows:8},model:{value:e.form01.text04,callback:function(t){e.$set(e.form01,"text04",t)},expression:"form01.text04"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"就诊科室:"}},[a("el-input",{attrs:{type:"text",size:"mini",rows:8},model:{value:e.form01.text05,callback:function(t){e.$set(e.form01,"text05",t)},expression:"form01.text05"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"处方状态:"}},[a("el-input",{attrs:{type:"text",size:"mini",rows:8},model:{value:e.form01.text06,callback:function(t){e.$set(e.form01,"text06",t)},expression:"form01.text06"}})],1)],1),e._v(" "),a("el-row",[a("el-form-item",{attrs:{label:"收费日期"}},[a("el-input",{attrs:{type:"text",size:"mini",rows:8},model:{value:e.form01.text07,callback:function(t){e.$set(e.form01,"text07",t)},expression:"form01.text07"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"开单医生"}},[a("el-input",{attrs:{type:"text",size:"mini",rows:8},model:{value:e.form01.text08,callback:function(t){e.$set(e.form01,"text08",t)},expression:"form01.text08"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"发票号"}},[a("el-input",{attrs:{type:"text",size:"mini",rows:8},model:{value:e.form01.text09,callback:function(t){e.$set(e.form01,"text09",t)},expression:"form01.text09"}})],1)],1),e._v(" "),a("el-row",{staticStyle:{"background-color":"#EAF1F5"}},[a("el-col",{staticStyle:{"margin-top":"4px"},attrs:{span:24}},[a("el-tag",{attrs:{size:"mini"}},[e._v("检验信息：")])],1)],1),e._v(" "),a("el-row",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData01}},[a("el-table-column",{attrs:{prop:"choose01",label:"",width:"30px"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("input",{attrs:{type:"radio",name:"chooseOne01"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"text01",label:"检验名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"text02",label:"检验部位"}}),e._v(" "),a("el-table-column",{attrs:{prop:"text03",label:"数量",width:"50px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"text04",label:"单位",width:"50px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"text05",label:"单价",width:"50px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"text06",label:"总金额",width:"70px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"text07",label:"状态",width:"100px"}})],1)],1)],1)],1)],1)},staticRenderFns:[]};var Ze=a("VU/8")(We,Qe,!1,function(e){a("f5KG")},"data-v-629839b4",null).exports,Ke={name:"tabpage",data:function(){return{dialog01Visible:!1,fileList01:[{name:"food.jpeg",url:"https://localhost:8080/his/upload01/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100"},{name:"food2.jpeg",url:"https://localhost:8080/his/upload01/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100"}],form01:{text01:"",text02:"",text03:"",text04:"",text05:"",text06:"",text07:"",text08:"",text09:""},MyPatientsData01:[{text01:"01212124545",text02:"易慧丹",text03:"3322"},{text01:"01212124546",text02:"桂龙成",text03:"41315"},{text01:"01212124547",text02:"董晨发",text03:"213211"}],MyPatientsData02:[{MedicalNo:"01212124542",name:"张金龙",age:"432135"},{MedicalNo:"01212124543",name:"王玉荣",age:"43217"},{MedicalNo:"01212124544",name:"邓桂英",age:"232139"}],tableData01:[{text01:"B超常规检查",text02:"",text03:"1",text04:"次",text05:"40",text06:"40",text07:"未检"},{text01:"食管造影",text02:"",text03:"1",text04:"次",text05:"50",text06:"50",text07:"未检"},{text01:"食管钡餐透视",text02:"",text03:"1",text04:"次",text05:"15",text06:"15",text07:"未检"}]}},methods:{submitUpload:function(){this.$refs.upload.submit(),this.dialog01Visible=!1,_(this,"填写结果")},handleRemove:function(e,t){_(this,"移除图片"+e.name)},handleCurrentChange01:function(e){this.form01.text01=e.text01,this.form01.text02=e.text02,this.form01.text03="31",this.form01.text04="自费",this.form01.text07=F((new Date).getTime()),this.form01.text09=e.text03},showConfirm:function(e){D(this,e)},showMsg:function(e){_(this,e)}}},Je={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticStyle:{height:"950px",border:"1px solid #eee"}},[a("el-dialog",{attrs:{title:"添加检查结果",visible:e.dialog01Visible,width:"30%"},on:{"update:visible":function(t){e.dialog01Visible=t}}},[a("span",[e._v("添加检查结果")]),e._v(" "),a("el-input",{staticClass:"input-with-select",staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容",type:"textarea",rows:"3"}},[a("template",{slot:"prepend"},[e._v("疾病名称：")]),e._v(" "),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},slot:"append"})],2),e._v(" "),a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"https://localhost:8080/his/upload01","on-remove":e.handleRemove,"file-list":e.fileList01,"auto-upload":!1}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")]),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("选择检查结果图像，可以上传多张；只能上传jpg/png文件，且不超过500kb")])],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialog01Visible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:e.submitUpload}},[e._v("提交")])],1)],1),e._v(" "),a("el-aside",{attrs:{width:"350px"}},[a("el-container",[a("el-header",[a("el-input",{staticClass:"input-with-select",staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容"}},[a("template",{slot:"prepend"},[e._v("患者名：")]),e._v(" "),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},slot:"append"})],2)],1),e._v(" "),a("el-main",{staticStyle:{height:"700px",border:"1px solid #eee",padding:"0",margin:"0"}},[a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"医技检查"}},[a("el-tag",[e._v("患者：")]),e._v(" "),a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:e.MyPatientsData01,"highlight-current-row":"","show-header":!1,size:"mini"},on:{"current-change":e.handleCurrentChange01}},[a("el-table-column",{attrs:{property:"text01",label:"病历号"}}),e._v(" "),a("el-table-column",{attrs:{property:"text02",label:"姓名",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{property:"text03",label:"发票号",width:"100"}})],1),a("br"),a("br")],1)],1)],1)],1)],1),e._v(" "),a("el-container",{staticStyle:{height:"950px"},attrs:{direction:"vertical"}},[a("el-row",{staticStyle:{"background-color":"#EAF1F5"}},[a("el-col",{staticStyle:{"margin-top":"4px"},attrs:{span:9}},[a("el-tag",{attrs:{size:"mini"}},[e._v("检查明细信息：")])],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-button",{staticClass:"el-icon-success",attrs:{type:"text",size:"small"},on:{click:function(t){return e.showConfirm("执行检查项")}}},[e._v("执行确认")])],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-button",{staticClass:"el-icon-success",attrs:{type:"text",size:"small"},on:{click:function(t){return e.showConfirm("取消检查项目")}}},[e._v("取消执行")])],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-button",{staticClass:"el-icon-success",attrs:{type:"text",size:"small"},on:{click:function(t){e.dialog01Visible=!0}}},[e._v("填写结果")])],1)],1),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.form01,"label-width":"80px",size:"mini",inline:!0}},[a("el-row",[a("div",{staticStyle:{"font-size":"large","text-align":"center"}},[e._v("检查明细单")]),e._v(" "),a("hr")]),e._v(" "),a("el-row",[a("el-form-item",{attrs:{label:"病历号:"}},[a("el-input",{attrs:{type:"text",size:"mini",span:8},model:{value:e.form01.text01,callback:function(t){e.$set(e.form01,"text01",t)},expression:"form01.text01"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"患者姓名:"}},[a("el-input",{attrs:{type:"text",size:"mini",span:8},model:{value:e.form01.text02,callback:function(t){e.$set(e.form01,"text02",t)},expression:"form01.text02"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"年龄:"}},[a("el-input",{attrs:{type:"text",size:"mini",span:8},model:{value:e.form01.text03,callback:function(t){e.$set(e.form01,"text03",t)},expression:"form01.text03"}})],1)],1),e._v(" "),a("el-row",[a("el-form-item",{attrs:{label:"结算类别:"}},[a("el-input",{attrs:{type:"text",size:"mini",rows:8},model:{value:e.form01.text04,callback:function(t){e.$set(e.form01,"text04",t)},expression:"form01.text04"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"就诊科室:"}},[a("el-input",{attrs:{type:"text",size:"mini",rows:8},model:{value:e.form01.text05,callback:function(t){e.$set(e.form01,"text05",t)},expression:"form01.text05"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"处方状态:"}},[a("el-input",{attrs:{type:"text",size:"mini",rows:8},model:{value:e.form01.text06,callback:function(t){e.$set(e.form01,"text06",t)},expression:"form01.text06"}})],1)],1),e._v(" "),a("el-row",[a("el-form-item",{attrs:{label:"收费日期"}},[a("el-input",{attrs:{type:"text",size:"mini",rows:8},model:{value:e.form01.text07,callback:function(t){e.$set(e.form01,"text07",t)},expression:"form01.text07"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"开单医生"}},[a("el-input",{attrs:{type:"text",size:"mini",rows:8},model:{value:e.form01.text08,callback:function(t){e.$set(e.form01,"text08",t)},expression:"form01.text08"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"发票号"}},[a("el-input",{attrs:{type:"text",size:"mini",rows:8},model:{value:e.form01.text09,callback:function(t){e.$set(e.form01,"text09",t)},expression:"form01.text09"}})],1)],1),e._v(" "),a("el-row",{staticStyle:{"background-color":"#EAF1F5"}},[a("el-col",{staticStyle:{"margin-top":"4px"},attrs:{span:24}},[a("el-tag",{attrs:{size:"mini"}},[e._v("检查信息：")])],1)],1),e._v(" "),a("el-row",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData01}},[a("el-table-column",{attrs:{prop:"choose01",label:"",width:"30px"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("input",{attrs:{type:"radio",name:"chooseOne01"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"text01",label:"检验名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"text02",label:"检验部位"}}),e._v(" "),a("el-table-column",{attrs:{prop:"text03",label:"数量",width:"50px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"text04",label:"单位",width:"50px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"text05",label:"单价",width:"50px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"text06",label:"总金额",width:"70px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"text07",label:"状态",width:"100px"}})],1)],1)],1)],1)],1)},staticRenderFns:[]};var et=a("VU/8")(Ke,Je,!1,function(e){a("7w8k")},"data-v-1e6d247a",null).exports,tt={name:"tabpage",data:function(){return{dialog01Visible:!1,fileList01:[{name:"food.jpeg",url:"https://localhost:8080/his/upload01/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100"},{name:"food2.jpeg",url:"https://localhost:8080/his/upload01/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100"}],form01:{text01:"",text02:"",text03:"",text04:"",text05:"",text06:"",text07:"",text08:"",text09:""},MyPatientsData01:[{text01:"01212124545",text02:"易慧丹",text03:"3322"},{text01:"01212124546",text02:"桂龙成",text03:"41315"},{text01:"01212124547",text02:"董晨发",text03:"213211"}],MyPatientsData02:[{MedicalNo:"01212124542",name:"张金龙",age:"432135"},{MedicalNo:"01212124543",name:"王玉荣",age:"43217"},{MedicalNo:"01212124544",name:"邓桂英",age:"232139"}],tableData01:[{text01:"洗胃",text02:"",text03:"1",text04:"次",text05:"40",text06:"40",text07:"未执行"},{text01:"导尿",text02:"",text03:"1",text04:"次",text05:"10",text06:"10",text07:"未执行"},{text01:"吸痰护理",text02:"",text03:"1",text04:"次",text05:"15",text06:"15",text07:"未执行"}]}},methods:{submitUpload:function(){this.$refs.upload.submit(),this.dialog01Visible=!1,_(this,"填写结果")},handleRemove:function(e,t){_(this,"移除图片"+e.name)},handleCurrentChange01:function(e){this.form01.text01=e.text01,this.form01.text02=e.text02,this.form01.text03="31",this.form01.text04="自费",this.form01.text07=F((new Date).getTime()),this.form01.text09=e.text03},showConfirm:function(e){D(this,e)},showMsg:function(e){_(this,e)}}},at={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticStyle:{height:"950px",border:"1px solid #eee"}},[a("el-dialog",{attrs:{title:"添加处置结果",visible:e.dialog01Visible,width:"30%"},on:{"update:visible":function(t){e.dialog01Visible=t}}},[a("span",[e._v("添加处置结果")]),e._v(" "),a("el-input",{staticClass:"input-with-select",staticStyle:{width:"100%"},attrs:{placeholder:"请输入处置结果内容，如果没有可不填写",type:"textarea",rows:"3"}},[a("template",{slot:"prepend"},[e._v("疾病名称：")]),e._v(" "),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},slot:"append"})],2),e._v(" "),a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"https://localhost:8080/his/upload01","on-remove":e.handleRemove,"file-list":e.fileList01,"auto-upload":!1}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")]),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("选择处置结果图像，如果没有可以直接点击确认；只能上传jpg/png文件，且不超过500kb")])],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialog01Visible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:e.submitUpload}},[e._v("提交")])],1)],1),e._v(" "),a("el-aside",{attrs:{width:"350px"}},[a("el-container",[a("el-header",[a("el-input",{staticClass:"input-with-select",staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容"}},[a("template",{slot:"prepend"},[e._v("患者名：")]),e._v(" "),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},slot:"append"})],2)],1),e._v(" "),a("el-main",{staticStyle:{height:"700px",border:"1px solid #eee",padding:"0",margin:"0"}},[a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"处置"}},[a("el-tag",[e._v("患者：")]),e._v(" "),a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:e.MyPatientsData01,"highlight-current-row":"","show-header":!1,size:"mini"},on:{"current-change":e.handleCurrentChange01}},[a("el-table-column",{attrs:{property:"text01",label:"病历号"}}),e._v(" "),a("el-table-column",{attrs:{property:"text02",label:"姓名",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{property:"text03",label:"发票号",width:"100"}})],1),a("br"),a("br")],1)],1)],1)],1)],1),e._v(" "),a("el-container",{staticStyle:{height:"950px"},attrs:{direction:"vertical"}},[a("el-row",{staticStyle:{"background-color":"#EAF1F5"}},[a("el-col",{staticStyle:{"margin-top":"4px"},attrs:{span:9}},[a("el-tag",{attrs:{size:"mini"}},[e._v("处置明细信息：")])],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-button",{staticClass:"el-icon-success",attrs:{type:"text",size:"small"},on:{click:function(t){return e.showConfirm("执行处置项")}}},[e._v("执行确认")])],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-button",{staticClass:"el-icon-success",attrs:{type:"text",size:"small"},on:{click:function(t){return e.showConfirm("取消处置项目")}}},[e._v("取消执行")])],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-button",{staticClass:"el-icon-success",attrs:{type:"text",size:"small"},on:{click:function(t){e.dialog01Visible=!0}}},[e._v("填写结果")])],1)],1),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.form01,"label-width":"80px",size:"mini",inline:!0}},[a("el-row",[a("div",{staticStyle:{"font-size":"large","text-align":"center"}},[e._v("处置明细单")]),e._v(" "),a("hr")]),e._v(" "),a("el-row",[a("el-form-item",{attrs:{label:"病历号:"}},[a("el-input",{attrs:{type:"text",size:"mini",span:8},model:{value:e.form01.text01,callback:function(t){e.$set(e.form01,"text01",t)},expression:"form01.text01"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"患者姓名:"}},[a("el-input",{attrs:{type:"text",size:"mini",span:8},model:{value:e.form01.text02,callback:function(t){e.$set(e.form01,"text02",t)},expression:"form01.text02"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"年龄:"}},[a("el-input",{attrs:{type:"text",size:"mini",span:8},model:{value:e.form01.text03,callback:function(t){e.$set(e.form01,"text03",t)},expression:"form01.text03"}})],1)],1),e._v(" "),a("el-row",[a("el-form-item",{attrs:{label:"结算类别:"}},[a("el-input",{attrs:{type:"text",size:"mini",rows:8},model:{value:e.form01.text04,callback:function(t){e.$set(e.form01,"text04",t)},expression:"form01.text04"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"就诊科室:"}},[a("el-input",{attrs:{type:"text",size:"mini",rows:8},model:{value:e.form01.text05,callback:function(t){e.$set(e.form01,"text05",t)},expression:"form01.text05"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"处方状态:"}},[a("el-input",{attrs:{type:"text",size:"mini",rows:8},model:{value:e.form01.text06,callback:function(t){e.$set(e.form01,"text06",t)},expression:"form01.text06"}})],1)],1),e._v(" "),a("el-row",[a("el-form-item",{attrs:{label:"收费日期"}},[a("el-input",{attrs:{type:"text",size:"mini",rows:8},model:{value:e.form01.text07,callback:function(t){e.$set(e.form01,"text07",t)},expression:"form01.text07"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"开单医生"}},[a("el-input",{attrs:{type:"text",size:"mini",rows:8},model:{value:e.form01.text08,callback:function(t){e.$set(e.form01,"text08",t)},expression:"form01.text08"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"发票号"}},[a("el-input",{attrs:{type:"text",size:"mini",rows:8},model:{value:e.form01.text09,callback:function(t){e.$set(e.form01,"text09",t)},expression:"form01.text09"}})],1)],1),e._v(" "),a("el-row",{staticStyle:{"background-color":"#EAF1F5"}},[a("el-col",{staticStyle:{"margin-top":"4px"},attrs:{span:24}},[a("el-tag",{attrs:{size:"mini"}},[e._v("处置项信息：")])],1)],1),e._v(" "),a("el-row",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData01}},[a("el-table-column",{attrs:{prop:"choose01",label:"",width:"30px"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("input",{attrs:{type:"radio",name:"chooseOne01"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"text01",label:"处置项名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"text02",label:"部位"}}),e._v(" "),a("el-table-column",{attrs:{prop:"text03",label:"数量",width:"50px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"text04",label:"单位",width:"50px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"text05",label:"单价",width:"50px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"text06",label:"总金额",width:"70px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"text07",label:"状态",width:"100px"}})],1)],1)],1)],1)],1)},staticRenderFns:[]};var it=a("VU/8")(tt,at,!1,function(e){a("SYId")},"data-v-1012d07b",null).exports,st={mounted:function(){this.loadDatas(1,this.pageSize,this.keywords01)},methods:{beginUpLoad:function(){this.loading=!0},showFormatConstants:function(e,t,a,i){return y(0,0,a)},showUpSuccess:function(e,t,a){this.loading=!1,"success"==t.status?(_(this,t.name+"上传"),this.categories=e.list,this.totalCount=e.totalCount):this.$message("文件上传失败,请重新上传")},showUpError:function(e,t,a){this.loading=!1,this.$message("文件上传失败,请重新上传")},handleSelectionChange01:function(e){this.selItems=e},searchData:function(){null==this.keywords01||""==this.keywords01?this.loadDatas(1,this.pageSize,""):this.loadDatas(1,this.pageSize,this.keywords01)},showAddDialog:function(){var e="/neusys/constantItem/listByType?keywords=Drugs_Dosage";this.getDrugDosageByConst(e),e="/neusys/constantItem/listByType?keywords=Drugs_Type",this.getDrugTypeByConst(e),this.dialogFormVisible=!0},remoteMethod:function(e){var t=this;if(""!==e)this.loading=!1,setTimeout(function(){t.loading=!1,t.options01=t.options01.filter(function(t){return t.ConstantCode.toLowerCase().indexOf(e.toLowerCase())>-1})},200);else{this.getDrugDosageByConst("/neuski/fme/listByType?keywords=Drugs_Dosage")}},getDrugDosageByConst:function(e){var t=this,a=this;b(e).then(function(e){var a=t;a.loading=!1,200==e.status?t.options01=e.data.list:a.$message({type:"error",message:"数据加载失败!"})}).catch(function(e){a.loading=!1,a.$message({type:"error",message:"数据加载失败!"})})},getDrugTypeByConst:function(e){var t=this,a=this;b(e).then(function(e){var a=t;a.loading=!1,200==e.status?t.options02=e.data.list:a.$message({type:"error",message:"数据加载失败!"})}).catch(function(e){a.loading=!1,a.$message({type:"error",message:"数据加载失败!"})})},addNewData:function(e){var t=this,a=this;this.$refs[e].validate(function(e){e?(h("/neuski/fme/",t.formEdit01).then(function(e){if(200==e.status){var i=e.data.list;a.$message({type:i.status,message:i.msg}),a.formEdit01={},a.loadDatas(1,t.pageSize,"")}a.loading=!1},function(e){403==e.response.status&&a.$message({type:"error",message:e.response.data}),a.loading=!1}),t.dialogFormVisible=!1):t.dialogFormVisible=!0})},showEditDialog:function(e,t){this.dialogFormVisible02=!0;var a="/neusys/constantItem/listByType?keywords=Drugs_Dosage";this.getDrugDosageByConst(a),a="/neusys/constantItem/listByType?keywords=Drugs_Type",this.getDrugTypeByConst(a),this.formEdit02=t},updateData:function(){var e=this,t=this;f("/his/pha/",this.formEdit02).then(function(a){if(200==a.status){var i=a.data.list;t.$message({type:i.status,message:i.msg}),t.formEdit01={},t.loadDatas(1,e.pageSize,"")}t.loading=!1},function(e){403==e.response.status&&t.$message({type:"error",message:e.response.data}),t.loading=!1}),this.dialogFormVisible02=!1},handleDelete:function(e,t){var a=this,i=this;this.$confirm('确认删除 "'+t.DrugsName+'" ?',"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.deleteData(t.ID),a.showMsgTitle(a,"删除"+t.DrugsName)}).catch(function(){i.loading=!1})},deleteAll:function(){var e=this,t=this;this.$confirm("确认删除这 "+this.selItems.length+" 条数据?","提示",{type:"warning",confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){for(var a=t.selItems,i="",s=0;s<a.length;s++)i+=a[s].id+",";e.deleteData(i),e.showMsgConfirm(e,"删除"+e.selItems.length+" 条数据")}).catch(function(){t.loading=!1})},deleteData:function(e){var t=this,a=this;this.loading=!0,v("/neuski/fme"+e).then(function(e){var i=e.data;a.$message({type:i.status,message:i.msg}),a.loadDatas(1,t.pageSize,"")},function(e){a.loading=!1,403==e.response.status?a.$message({type:"error",message:e.data.msg}):500==e.response.status&&a.$message({type:"error",message:"删除失败!"})})},handleSelectionChange:function(e){this.selItems=e},currentChange:function(e){this.currentPage01=e,this.loading=!0,this.loadDatas(e,this.pageSize,this.keywords01)},loadDatas:function(e,t,a){var i=this;b("/neuski/fme/listPage?pageNumber="+e+"&pageSize="+t+"&keywords01="+a).then(function(t){i.loading=!1,200==t.status?(i.categories=t.data.list,i.totalCount=t.data.totalCount,i.currentPage01=e):i.$message({type:"error",message:"数据加载失败!"})},function(e){i.loading=!1,403==e.response.status?i.$message({type:"error",message:e.response.data}):i.$message({type:"error",message:"数据加载失败!"})}).catch(function(e){i.loading=!1,i.$message({type:"error",message:"数据加载失败!"})})}},data:function(){var e;return e={loading:!1,options01:["药片","冲剂"],options02:["西药","中药"],currentPage01:1,pageSize:10,totalCount:0,keywords01:"",selItems:[],rules:{DrugsCode:[{required:!0,message:"必填:药品编码",trigger:"blur"}],DrugsName:[{required:!0,message:"必填:药品名称",trigger:"blur"}],DrugsPrice:[{required:!0,message:"必填:药品单位",trigger:"blur"},{pattern:/^(([1-9][0-9]*)|(([0]\.\d{1,2}|[1-9][0-9]*\.\d{1,2})))$/,message:"价格格式不正确",trigger:"blur"}]},categories:[{ItemCode:"13083243242",ItemName:"窄型稳定加压板",Format:"胫骨近端外侧支持板等",Unit:"次",Price:"46.73"}]},Ve()(e,"loading",!1),Ve()(e,"formAdd",{name:"",address:"",date:"",other:""}),Ve()(e,"formEdit01",{DrugsCode:"",DrugsName:"",MnemonicCode:"",Format:"",Unit:"",Price:"",Dosage:"",DrugsType:""}),Ve()(e,"formEdit02",{}),Ve()(e,"dialogAddVisible",!1),Ve()(e,"dialogFormVisible02",!1),Ve()(e,"dialogFormVisible",!1),Ve()(e,"labelPosition","right"),e}},lt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("el-header",{staticStyle:{padding:"10px"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-input",{attrs:{placeholder:"请输入医技名称或助记码",size:"mini"},model:{value:e.keywords01,callback:function(t){e.keywords01=t},expression:"keywords01"}})],1)]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"mini",icon:"el-icon-view"},on:{click:e.searchData}},[e._v("查询医技")])],1)]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:e.showAddDialog}},[e._v("新增医技")])],1)]),e._v(" "),a("el-col",{attrs:{span:6,align:"right"}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"","on-progress":e.beginUpLoad,"on-success":e.showUpSuccess,"on-error":e.showUpError,"show-file-list":!1}},[a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-sold-out"}},[e._v("导入医技")])],1)],1)])],1)],1),e._v(" "),a("el-main",[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{stripe:"",size:"mini",data:e.categories,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange01}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"项目编码",prop:"ItemCode",width:"140",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"项目名称",prop:"ItemName",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"项目规格",prop:"Format",width:"140",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"项目单价",prop:"Price",width:"80",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"拼音助记码",prop:"MnemonicCode",width:"200",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.showEditDialog(t.$index,t.row)}}},[e._v("编辑\n          ")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除\n          ")])]}}])})],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8,align:"left"}},[a("el-button",{staticStyle:{"margin-top":"10px",width:"100px"},attrs:{type:"danger",size:"mini",disabled:0==this.selItems.length},on:{click:e.deleteAll}},[e._v("批量删除\n        ")])],1),e._v(" "),a("el-col",{attrs:{span:16,align:"right"}},[a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:this.categories.length>0,expression:"this.categories.length>0"}],attrs:{background:"","page-size":e.pageSize,"current-page":e.currentPage01,layout:"prev, pager, next",total:e.totalCount},on:{"update:currentPage":function(t){e.currentPage01=t},"update:current-page":function(t){e.currentPage01=t},"current-change":e.currentChange}})],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"新增项目",visible:e.dialogFormVisible,width:"700px"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"addDrugForm",staticClass:"demo-form-inline",attrs:{"label-width":"100px",inline:!0,model:e.formEdit01,rules:e.rules,size:"mini"}},[a("el-form-item",{attrs:{label:"项目编码",prop:"DrugsCode"}},[a("el-input",{attrs:{placeholder:"项目编码",size:"mini"},model:{value:e.formEdit01.DrugsCode,callback:function(t){e.$set(e.formEdit01,"DrugsCode",t)},expression:"formEdit01.DrugsCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"项目名称",prop:"DrugsName"}},[a("el-input",{attrs:{placeholder:"项目名称",size:"mini"},model:{value:e.formEdit01.DrugsName,callback:function(t){e.$set(e.formEdit01,"DrugsName",t)},expression:"formEdit01.DrugsName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"项目助记码"}},[a("el-input",{attrs:{placeholder:"项目助记码",size:"mini"},model:{value:e.formEdit01.MnemonicCode,callback:function(t){e.$set(e.formEdit01,"MnemonicCode",t)},expression:"formEdit01.MnemonicCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"项目规格"}},[a("el-input",{attrs:{placeholder:"项目规格",size:"mini"},model:{value:e.formEdit01.DrugsFormat,callback:function(t){e.$set(e.formEdit01,"DrugsFormat",t)},expression:"formEdit01.DrugsFormat"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"项目单价",prop:"Price"}},[a("el-input",{attrs:{placeholder:"项目单价 - - 两位小数",size:"mini"},model:{value:e.formEdit01.DrugsPrice,callback:function(t){e.$set(e.formEdit01,"DrugsPrice",t)},expression:"formEdit01.DrugsPrice"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"药品剂型"}},[a("el-select",{attrs:{placeholder:"输入剂型代码",filterable:"",remote:"",size:"mini","remote-method":e.remoteMethod,loading:e.loading},model:{value:e.formEdit01.DrugsDosageID,callback:function(t){e.$set(e.formEdit01,"DrugsDosageID",t)},expression:"formEdit01.DrugsDosageID"}},e._l(e.options01,function(t){return a("el-option",{key:t.ID,attrs:{label:t.ConstantName,value:t.ID}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.ConstantName))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"12px"}},[e._v(e._s(t.ConstantCode))])])}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"药品类型"}},[a("el-select",{attrs:{placeholder:"药品类型",size:"mini"},model:{value:e.formEdit01.DrugsTypeID,callback:function(t){e.$set(e.formEdit01,"DrugsTypeID",t)},expression:"formEdit01.DrugsTypeID"}},e._l(e.options02,function(e){return a("el-option",{key:e.ID,attrs:{label:e.ConstantName,value:e.ID}})}),1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.addNewData("addDrugForm")}}},[e._v("保 存")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑药品",visible:e.dialogFormVisible02,width:"700px"},on:{"update:visible":function(t){e.dialogFormVisible02=t}}},[a("el-form",{staticClass:"demo-form-inline",attrs:{"label-position":e.labelPosition,"label-width":"100px",inline:!0,model:e.formEdit02,size:"mini"}},[a("el-form-item",{attrs:{label:"药品编码"}},[a("el-input",{attrs:{placeholder:"药品编码",size:"mini"},model:{value:e.formEdit02.DrugsCode,callback:function(t){e.$set(e.formEdit02,"DrugsCode",t)},expression:"formEdit02.DrugsCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"药品名称"}},[a("el-input",{attrs:{placeholder:"药品名称",size:"mini"},model:{value:e.formEdit02.DrugsName,callback:function(t){e.$set(e.formEdit02,"DrugsName",t)},expression:"formEdit02.DrugsName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"药品助记码"}},[a("el-input",{attrs:{placeholder:"药品助记码",size:"mini"},model:{value:e.formEdit02.MnemonicCode,callback:function(t){e.$set(e.formEdit02,"MnemonicCode",t)},expression:"formEdit02.MnemonicCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"药品规格"}},[a("el-input",{attrs:{placeholder:"药品规格",size:"mini"},model:{value:e.formEdit02.DrugsFormat,callback:function(t){e.$set(e.formEdit02,"DrugsFormat",t)},expression:"formEdit02.DrugsFormat"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"药品单位"}},[a("el-input",{attrs:{placeholder:"药品单位",size:"mini"},model:{value:e.formEdit02.DrugsUnit,callback:function(t){e.$set(e.formEdit02,"DrugsUnit",t)},expression:"formEdit02.DrugsUnit"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"药品单价"}},[a("el-input",{attrs:{placeholder:"药品单价",size:"mini"},model:{value:e.formEdit02.DrugsPrice,callback:function(t){e.$set(e.formEdit02,"DrugsPrice",t)},expression:"formEdit02.DrugsPrice"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"药品剂型"}},[a("el-select",{attrs:{placeholder:"药品剂型",size:"mini"},model:{value:e.formEdit02.DrugsDosageID,callback:function(t){e.$set(e.formEdit02,"DrugsDosageID",t)},expression:"formEdit02.DrugsDosageID"}},e._l(e.options01,function(t){return a("el-option",{key:t.ID,attrs:{label:t.ConstantName,value:t.ID}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.ConstantName))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"12px"}},[e._v(e._s(t.ConstantCode))])])}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"药品类型"}},[a("el-select",{attrs:{placeholder:"药品类型",size:"mini"},model:{value:e.formEdit02.DrugsTypeID,callback:function(t){e.$set(e.formEdit02,"DrugsTypeID",t)},expression:"formEdit02.DrugsTypeID"}},e._l(e.options02,function(e){return a("el-option",{key:e.ID,attrs:{label:e.ConstantName,value:e.ID}})}),1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(t){e.dialogFormVisible02=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.updateData}},[e._v("保 存")])],1)],1)],1)},staticRenderFns:[]};var nt=a("VU/8")(st,lt,!1,function(e){a("sgr2")},"data-v-35a201f6",null).exports,ot={name:"tabpage",data:function(){return{searchForm01:{CaseNumber:"",SearchDate:new Date},tableData01:[],selItems:[]}},methods:{sendDrugs:function(){var e=this;this.$confirm("确认发放这 "+this.selItems.length+" 种药品?","提示",{type:"warning",confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){for(var t=e.selItems,a="",i=0;i<t.length;i++)a+=t[i].ID+",";v("/neudoc/prescriptionDetailed/drugs/"+a).then(function(t){var a=t.data;e.$message({type:a.status,message:a.msg}),e.searchTemplate()})}).catch(function(){e.loading=!1})},searchTemplate:function(){var e=this;if(null==this.searchForm01.CaseNumber||""==this.searchForm01.CaseNumber)return this.$message({type:"warning",message:"请输入病历号"}),!1;var t=this;null!=this.searchForm01.SearchDate&&""!=this.searchForm01.SearchDate||(this.searchForm01.SearchDate=new Date),this.searchForm01.SearchDate=F(this.searchForm01.SearchDate);var a="/neudoc/prescriptionDetailed/getPrescriptionByRegisterAndDate?caseNumber="+this.searchForm01.CaseNumber+"&searchDate="+this.searchForm01.SearchDate;b(a).then(function(a){t.loading=!1,200==a.status?e.tableData01=a.data.list:t.$message({type:"error",message:"数据加载失败!"})})},handleSelectionChange:function(e){this.selItems=e}}},rt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-header",{staticStyle:{height:"100%"}},[a("el-container",[a("el-header",[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchForm01,size:"mini"}},[a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:8}},[a("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v(" "),a("span",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("病历号:")]),e._v(" "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"输入病历号",size:"mini"},model:{value:e.searchForm01.CaseNumber,callback:function(t){e.$set(e.searchForm01,"CaseNumber",t)},expression:"searchForm01.CaseNumber"}})],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"时间："}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.searchForm01.SearchDate,callback:function(t){e.$set(e.searchForm01,"SearchDate",t)},expression:"searchForm01.SearchDate"}})],1)],1),e._v(" "),a("el-col",{staticStyle:{"child-align":"left"},attrs:{span:8}},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.searchTemplate()}}},[e._v("查询")])],1)],1)],1)],1)],1),e._v(" "),a("el-main")],1)],1),e._v(" "),a("el-container",{attrs:{direction:"vertical"}},[a("el-row",{staticStyle:{"background-color":"#EAF1F5"}},[a("el-col",{attrs:{span:24}},[a("el-button",{staticClass:"el-icon-success",attrs:{type:"primary",disabled:0==this.selItems.length},on:{click:e.sendDrugs}},[e._v("发药")])],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData01,size:"mini"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"DrugsName",label:"药品名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"DrugsPrice",label:"单价",width:"80px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"Amount",label:"数量",width:"50px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"State",label:"药品状态",width:"100px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"RealName",label:"开立医生",width:"100px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"PrescriptionName",label:"处方名称",width:"160px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"PrescriptionTime",label:"开立时间",width:"140px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                  "+e._s(e._f("formatDateTime")(t.row.PrescriptionTime))+"\n                ")]}}])})],1)],1)],1)},staticRenderFns:[]};var ct=a("VU/8")(ot,rt,!1,function(e){a("TMWA")},null,null).exports,dt={name:"tabpage",data:function(){return{searchForm01:{CaseNumber:"",SearchDate:new Date},tableData01:[],selItems:[]}},methods:{sendDrugs:function(){var e=this;this.$confirm("确认退回这 "+this.selItems.length+" 种药品?","提示",{type:"warning",confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){for(var t=e.selItems,a="",i=0;i<t.length;i++)a+=t[i].ID+",";v("/neudoc/prescriptionDetailed/backDrugs/"+a).then(function(t){var a=t.data;e.$message({type:a.status,message:a.msg}),e.searchTemplate()})}).catch(function(){e.loading=!1})},searchTemplate:function(){var e=this;if(null==this.searchForm01.CaseNumber||""==this.searchForm01.CaseNumber)return this.$message({type:"warning",message:"请输入病历号"}),!1;var t=this;null!=this.searchForm01.SearchDate&&""!=this.searchForm01.SearchDate||(this.searchForm01.SearchDate=new Date),this.searchForm01.SearchDate=F(this.searchForm01.SearchDate);var a="/neudoc/prescriptionDetailed/getPrescriptionBackByRegisterAndDate?caseNumber="+this.searchForm01.CaseNumber+"&searchDate="+this.searchForm01.SearchDate;b(a).then(function(a){t.loading=!1,200==a.status?e.tableData01=a.data.list:t.$message({type:"error",message:"数据加载失败!"})})},handleSelectionChange:function(e){this.selItems=e}}},pt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-header",{staticStyle:{height:"100%"}},[a("el-container",[a("el-header",[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchForm01,size:"mini"}},[a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"病历号："}},[a("el-input",{attrs:{placeholder:"输入病历号"},model:{value:e.searchForm01.CaseNumber,callback:function(t){e.$set(e.searchForm01,"CaseNumber",t)},expression:"searchForm01.CaseNumber"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"时间："}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.searchForm01.SearchDate,callback:function(t){e.$set(e.searchForm01,"SearchDate",t)},expression:"searchForm01.SearchDate"}})],1)],1),e._v(" "),a("el-col",{staticStyle:{"child-align":"left"},attrs:{span:8}},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.searchTemplate}},[e._v("查询")])],1)],1)],1)],1)],1),e._v(" "),a("el-main")],1)],1),e._v(" "),a("el-container",{attrs:{direction:"vertical"}},[a("el-row",{staticStyle:{"background-color":"#EAF1F5"}},[a("el-col",{attrs:{span:24}},[a("el-button",{staticClass:"el-icon-success",attrs:{type:"primary",disabled:0==this.selItems.length},on:{click:e.sendDrugs}},[e._v("退药")])],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData01,size:"mini"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"DrugsName",label:"药品名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"DrugsPrice",label:"单价",width:"80px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"Amount",label:"数量",width:"50px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"State",label:"药品状态",width:"100px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"RealName",label:"开立医生",width:"100px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"PrescriptionName",label:"处方名称",width:"160px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"PrescriptionTime",label:"开立时间",width:"140px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e._f("formatDateTime")(t.row.PrescriptionTime))+"\n        ")]}}])})],1)],1)],1)},staticRenderFns:[]};var ut=a("VU/8")(dt,pt,!1,function(e){a("/ZH1")},null,null).exports,mt={mounted:function(){this.loadDatas(1,this.pageSize,this.keywords01)},methods:{beginUpLoad:function(){this.loading=!0},showFormatConstants:function(e,t,a,i){return y(0,0,a)},showUpSuccess:function(e,t,a){this.loading=!1,"success"==t.status?(_(this,t.name+"上传"),this.categories=e.list,this.totalCount=e.totalCount):this.$message("文件上传失败,请重新上传")},showUpError:function(e,t,a){this.loading=!1,this.$message("文件上传失败,请重新上传")},handleSelectionChange01:function(e){this.selItems=e},searchData:function(){null==this.keywords01||""==this.keywords01?this.loadDatas(1,this.pageSize,""):this.loadDatas(1,this.pageSize,this.keywords01)},showAddDialog:function(){var e="/neusys/constantItem/listByType?keywords=Drugs_Dosage";this.getDrugDosageByConst(e),e="/neusys/constantItem/listByType?keywords=Drugs_Type",this.getDrugTypeByConst(e),this.dialogFormVisible=!0},remoteMethod:function(e){var t=this;if(""!==e)this.loading=!1,setTimeout(function(){t.loading=!1,t.options01=t.options01.filter(function(t){return t.ConstantCode.toLowerCase().indexOf(e.toLowerCase())>-1})},200);else{this.getDrugDosageByConst("/neusys/constantItem/listByType?keywords=Drugs_Dosage")}},getDrugDosageByConst:function(e){var t=this,a=this;b(e).then(function(e){var a=t;a.loading=!1,200==e.status?t.options01=e.data.list:a.$message({type:"error",message:"数据加载失败!"})}).catch(function(e){a.loading=!1,a.$message({type:"error",message:"数据加载失败!"})})},getDrugTypeByConst:function(e){var t=this,a=this;b(e).then(function(e){var a=t;a.loading=!1,200==e.status?t.options02=e.data.list:a.$message({type:"error",message:"数据加载失败!"})}).catch(function(e){a.loading=!1,a.$message({type:"error",message:"数据加载失败!"})})},addNewData:function(e){var t=this,a=this;this.$refs[e].validate(function(e){e?(h("/neupha/drug/",t.formEdit01).then(function(e){if(200==e.status){var i=e.data.list;a.$message({type:i.status,message:i.msg}),a.formEdit01={},a.loadDatas(1,t.pageSize,"")}a.loading=!1},function(e){403==e.response.status&&a.$message({type:"error",message:e.response.data}),a.loading=!1}),t.dialogFormVisible=!1):t.dialogFormVisible=!0})},showEditDialog:function(e,t){this.dialogFormVisible02=!0;var a="/neusys/constantItem/listByType?keywords=Drugs_Dosage";this.getDrugDosageByConst(a),a="/neusys/constantItem/listByType?keywords=Drugs_Type",this.getDrugTypeByConst(a),this.formEdit02=t},updateData:function(){var e=this,t=this;f("/neupha/drug/",this.formEdit02).then(function(a){if(200==a.status){var i=a.data.list;t.$message({type:i.status,message:i.msg}),t.formEdit01={},t.loadDatas(1,e.pageSize,"")}t.loading=!1},function(e){403==e.response.status&&t.$message({type:"error",message:e.response.data}),t.loading=!1}),this.dialogFormVisible02=!1},handleDelete:function(e,t){var a=this,i=this;this.$confirm('确认删除 "'+t.DrugsName+'" ?',"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.deleteData(t.ID),a.showMsgTitle(a,"删除"+t.DrugsName)}).catch(function(){i.loading=!1})},deleteAll:function(){var e=this;this.$confirm("确认删除这 "+this.selItems.length+" 条数据?","提示",{type:"warning",confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){for(var t=e.selItems,a="",i=0;i<t.length;i++)a+=t[i].ID+",";e.deleteData(a)}).catch(function(){e.loading=!1})},deleteData:function(e){var t=this,a=this;this.loading=!0,v("/neupha/drug/"+e).then(function(e){var i=e.data;a.$message({type:i.status,message:i.msg}),a.loadDatas(1,t.pageSize,"")},function(e){a.loading=!1,403==e.response.status?a.$message({type:"error",message:e.data.msg}):500==e.response.status&&a.$message({type:"error",message:"删除失败!"})})},handleSelectionChange:function(e){this.selItems=e},currentChange:function(e){this.currentPage01=e,this.loading=!0,this.loadDatas(e,this.pageSize,this.keywords01)},loadDatas:function(e,t,a){var i=this;b("/neupha/drug/listPage?pageNumber="+e+"&pageSize="+t+"&keywords01="+a).then(function(t){i.loading=!1,200==t.status?(i.categories=t.data.list,i.totalCount=t.data.totalCount,i.currentPage01=e):i.$message({type:"error",message:"数据加载失败!"})},function(e){i.loading=!1,403==e.response.status?i.$message({type:"error",message:e.response.data}):i.$message({type:"error",message:"数据加载失败!"})}).catch(function(e){i.loading=!1,i.$message({type:"error",message:"数据加载失败!"})})}},data:function(){var e;return e={loading:!1,options01:["药片","冲剂"],options02:["西药","中药"],currentPage01:1,pageSize:10,totalCount:0,keywords01:"",selItems:[],rules:{DrugsCode:[{required:!0,message:"必填:药品编码",trigger:"blur"}],DrugsName:[{required:!0,message:"必填:药品名称",trigger:"blur"}],DrugsPrice:[{required:!0,message:"必填:药品单位",trigger:"blur"},{pattern:/^(([1-9][0-9]*)|(([0]\.\d{1,2}|[1-9][0-9]*\.\d{1,2})))$/,message:"价格格式不正确",trigger:"blur"}]},categories:[{DrugsCode:"13083243242",DrugsName:"注射用甲氨喋呤",DrugsFormat:"1g×1支",DrugsUnit:"支",DrugsPrice:"15.73",DrugsDosageID:"110",DrugsTypeID:"101"},{DrugsCode:"PTTZSY(SP)",DrugsName:"50%葡萄糖注射液(塑瓶)",DrugsFormat:"10:20ml×1支",DrugsUnit:"支",DrugsPrice:"25.16",DrugsDosageID:"110",DrugsTypeID:"101"},{DrugsCode:"ZXKL",DrugsName:"泽泻颗粒",DrugsFormat:"1g/10g/袋",DrugsUnit:"袋",DrugsPrice:"18.25",DrugsDosageID:"115",DrugsTypeID:"102"},{DrugsCode:"LPTP（WST）",DrugsName:"利培酮片（维思通）",DrugsFormat:"1mg×20片/盒",DrugsUnit:"盒",DrugsPrice:"25.16",DrugsDosageID:"111",DrugsTypeID:"101"}]},Ve()(e,"loading",!1),Ve()(e,"formAdd",{name:"",address:"",date:"",other:""}),Ve()(e,"formEdit01",{DrugsCode:"",DrugsName:"",MnemonicCode:"",Format:"",Unit:"",Price:"",Dosage:"",DrugsType:""}),Ve()(e,"formEdit02",{}),Ve()(e,"dialogAddVisible",!1),Ve()(e,"dialogFormVisible02",!1),Ve()(e,"dialogFormVisible",!1),Ve()(e,"labelPosition","right"),e}},gt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("el-header",{staticStyle:{padding:"10px"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-input",{attrs:{placeholder:"请输入药品助记码",size:"mini"},model:{value:e.keywords01,callback:function(t){e.keywords01=t},expression:"keywords01"}})],1)]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"mini",icon:"el-icon-view"},on:{click:e.searchData}},[e._v("查询药品")])],1)]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:e.showAddDialog}},[e._v("新增药品")])],1)]),e._v(" "),a("el-col",{attrs:{span:6,align:"right"}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"http://localhost:8081/his/pha/upExcel","on-progress":e.beginUpLoad,"on-success":e.showUpSuccess,"on-error":e.showUpError,"show-file-list":!1}},[a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-sold-out"}},[e._v("导入药品")])],1)],1)])],1)],1),e._v(" "),a("el-main",[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{stripe:"",size:"mini",data:e.categories,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange01}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"药品编码",prop:"DrugsCode",width:"140",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"药品名称",prop:"DrugsName",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"药品规格",prop:"DrugsFormat",width:"140",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"药品单位",prop:"DrugsUnit",width:"80",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"药品单价",prop:"DrugsPrice",width:"80",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"药品剂型",prop:"DrugsDosageID",width:"80",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e._f("formatConstant")(t.row.DrugsDosageID))+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"药品类型",prop:"DrugsTypeID",formatter:e.showFormatConstants,width:"80",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.showEditDialog(t.$index,t.row)}}},[e._v("编辑\n          ")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除\n          ")])]}}])})],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8,align:"left"}},[a("el-button",{staticStyle:{"margin-top":"10px",width:"100px"},attrs:{type:"danger",size:"mini",disabled:0==this.selItems.length},on:{click:e.deleteAll}},[e._v("批量删除\n    ")])],1),e._v(" "),a("el-col",{attrs:{span:16,align:"right"}},[a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:this.categories.length>0,expression:"this.categories.length>0"}],attrs:{background:"","page-size":e.pageSize,"current-page":e.currentPage01,layout:"prev, pager, next",total:e.totalCount},on:{"update:currentPage":function(t){e.currentPage01=t},"update:current-page":function(t){e.currentPage01=t},"current-change":e.currentChange}})],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"新增药品",visible:e.dialogFormVisible,width:"700px"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"addDrugForm",staticClass:"demo-form-inline",attrs:{"label-width":"100px",inline:!0,model:e.formEdit01,rules:e.rules,size:"mini"}},[a("el-form-item",{attrs:{label:"药品编码",prop:"DrugsCode"}},[a("el-input",{attrs:{placeholder:"药品编码 - - 14位",size:"mini"},model:{value:e.formEdit01.DrugsCode,callback:function(t){e.$set(e.formEdit01,"DrugsCode",t)},expression:"formEdit01.DrugsCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"药品名称",prop:"DrugsName"}},[a("el-input",{attrs:{placeholder:"药品名称",size:"mini"},model:{value:e.formEdit01.DrugsName,callback:function(t){e.$set(e.formEdit01,"DrugsName",t)},expression:"formEdit01.DrugsName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"药品助记码"}},[a("el-input",{attrs:{placeholder:"药品助记码",size:"mini"},model:{value:e.formEdit01.MnemonicCode,callback:function(t){e.$set(e.formEdit01,"MnemonicCode",t)},expression:"formEdit01.MnemonicCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"药品规格"}},[a("el-input",{attrs:{placeholder:"药品规格",size:"mini"},model:{value:e.formEdit01.DrugsFormat,callback:function(t){e.$set(e.formEdit01,"DrugsFormat",t)},expression:"formEdit01.DrugsFormat"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"药品单位"}},[a("el-input",{attrs:{placeholder:"药品单位",size:"mini"},model:{value:e.formEdit01.DrugsUnit,callback:function(t){e.$set(e.formEdit01,"DrugsUnit",t)},expression:"formEdit01.DrugsUnit"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"药品单价",prop:"Price"}},[a("el-input",{attrs:{placeholder:"药品单价 - - 两位小数",size:"mini"},model:{value:e.formEdit01.DrugsPrice,callback:function(t){e.$set(e.formEdit01,"DrugsPrice",t)},expression:"formEdit01.DrugsPrice"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"药品剂型"}},[a("el-select",{attrs:{placeholder:"输入剂型代码",filterable:"",remote:"",size:"mini","remote-method":e.remoteMethod,loading:e.loading},model:{value:e.formEdit01.DrugsDosageID,callback:function(t){e.$set(e.formEdit01,"DrugsDosageID",t)},expression:"formEdit01.DrugsDosageID"}},e._l(e.options01,function(t){return a("el-option",{key:t.ID,attrs:{label:t.ConstantName,value:t.ID}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.ConstantName))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"12px"}},[e._v(e._s(t.ConstantCode))])])}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"药品类型"}},[a("el-select",{attrs:{placeholder:"药品类型",size:"mini"},model:{value:e.formEdit01.DrugsTypeID,callback:function(t){e.$set(e.formEdit01,"DrugsTypeID",t)},expression:"formEdit01.DrugsTypeID"}},e._l(e.options02,function(e){return a("el-option",{key:e.ID,attrs:{label:e.ConstantName,value:e.ID}})}),1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.addNewData("addDrugForm")}}},[e._v("保 存")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑药品",visible:e.dialogFormVisible02,width:"700px"},on:{"update:visible":function(t){e.dialogFormVisible02=t}}},[a("el-form",{staticClass:"demo-form-inline",attrs:{"label-position":e.labelPosition,"label-width":"100px",inline:!0,model:e.formEdit02,size:"mini"}},[a("el-form-item",{attrs:{label:"药品编码"}},[a("el-input",{attrs:{placeholder:"药品编码",size:"mini"},model:{value:e.formEdit02.DrugsCode,callback:function(t){e.$set(e.formEdit02,"DrugsCode",t)},expression:"formEdit02.DrugsCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"药品名称"}},[a("el-input",{attrs:{placeholder:"药品名称",size:"mini"},model:{value:e.formEdit02.DrugsName,callback:function(t){e.$set(e.formEdit02,"DrugsName",t)},expression:"formEdit02.DrugsName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"药品助记码"}},[a("el-input",{attrs:{placeholder:"药品助记码",size:"mini"},model:{value:e.formEdit02.MnemonicCode,callback:function(t){e.$set(e.formEdit02,"MnemonicCode",t)},expression:"formEdit02.MnemonicCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"药品规格"}},[a("el-input",{attrs:{placeholder:"药品规格",size:"mini"},model:{value:e.formEdit02.DrugsFormat,callback:function(t){e.$set(e.formEdit02,"DrugsFormat",t)},expression:"formEdit02.DrugsFormat"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"药品单位"}},[a("el-input",{attrs:{placeholder:"药品单位",size:"mini"},model:{value:e.formEdit02.DrugsUnit,callback:function(t){e.$set(e.formEdit02,"DrugsUnit",t)},expression:"formEdit02.DrugsUnit"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"药品单价"}},[a("el-input",{attrs:{placeholder:"药品单价",size:"mini"},model:{value:e.formEdit02.DrugsPrice,callback:function(t){e.$set(e.formEdit02,"DrugsPrice",t)},expression:"formEdit02.DrugsPrice"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"药品剂型"}},[a("el-select",{attrs:{placeholder:"药品剂型",size:"mini"},model:{value:e.formEdit02.DrugsDosageID,callback:function(t){e.$set(e.formEdit02,"DrugsDosageID",t)},expression:"formEdit02.DrugsDosageID"}},e._l(e.options01,function(t){return a("el-option",{key:t.ID,attrs:{label:t.ConstantName,value:t.ID}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.ConstantName))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"12px"}},[e._v(e._s(t.ConstantCode))])])}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"药品类型"}},[a("el-select",{attrs:{placeholder:"药品类型",size:"mini"},model:{value:e.formEdit02.DrugsTypeID,callback:function(t){e.$set(e.formEdit02,"DrugsTypeID",t)},expression:"formEdit02.DrugsTypeID"}},e._l(e.options02,function(e){return a("el-option",{key:e.ID,attrs:{label:e.ConstantName,value:e.ID}})}),1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(t){e.dialogFormVisible02=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.updateData}},[e._v("保 存")])],1)],1)],1)},staticRenderFns:[]};var ht=a("VU/8")(mt,gt,!1,function(e){a("p1im")},"data-v-49055fb4",null).exports,ft={methods:{addNewCate:function(){var e=this;null==this.ConstantTypeCode3||0==this.ConstantTypeCode3.length||null==this.ConstantTypeName3||0==this.ConstantTypeName3.length?e.$message({type:"info",message:"2项数据不能为空!"}):(this.loading=!0,h("/neusys/constantType/add",{ConstantTypeCode:this.ConstantTypeCode3,ConstantTypeName:this.ConstantTypeName3}).then(function(t){if(200==t.status){var a=t.data;e.$message({type:a.status,message:a.msg}),e.ConstantTypeCode3="",e.ConstantTypeName3="",e.refresh()}e.loading=!1},function(t){403==t.response.status&&e.$message({type:"error",message:t.response.data}),e.loading=!1}))},addNewCate202:function(){var e=this;null==this.ConstantCode4||0==this.ConstantCode4.length||null==this.ConstantName4||0==this.ConstantName4.length?e.$message({type:"info",message:"2项数据不能为空!"}):(this.loading=!0,h("/neusys/constantItem/add",{ConstantCode:this.ConstantCode4,ConstantName:this.ConstantName4,ConstantTypeID:this.ConstantTypeID4}).then(function(t){if(200==t.status){var a=t.data;e.$message({type:a.status,message:a.msg}),e.ConstantCode4="",e.ConstantName4="",e.ConstantTypeID4="",e.refresh()}e.loading=!1},function(t){403==t.response.status&&e.$message({type:"error",message:t.response.data}),e.loading=!1}))},deleteAll:function(){var e=this;this.$confirm("确认删除这 "+this.selItems.length+" 条数据?","提示",{type:"warning",confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){for(var t=e.selItems,a="",i=0;i<t.length;i++)a+=t[i].ID+",";e.deleteCate(a.substring(0,a.length-1))}).catch(function(){e.loading=!1})},deleteAll202:function(){var e=this;this.$confirm("确认删除这 "+this.selItems202.length+" 条数据?","提示",{type:"warning",confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){for(var t=e.selItems202,a="",i=0;i<t.length;i++)a+=t[i].ID+",";e.deleteCate202(a.substring(0,a.length-1))}).catch(function(){e.loading=!1})},handleSelectionChange:function(e){this.selItems=e},handleSelectionChange202:function(e){this.selItems202=e},handleEdit2:function(e,t){this.dialogFormVisible3=!0,this.ConstantTypeCode2=t.ConstantTypeCode,this.ConstantTypeName2=t.ConstantTypeName,this.rowid2=t.ID},handleEdit32:function(e,t){this.dialogFormVisible32=!0,this.ConstantCode4=t.ConstantCode,this.ConstantName4=t.ConstantName,this.ConstantTypeID4=t.ConstantTypeID,this.rowid4=t.ID},updaeConstantType:function(){var e=this;null==this.ConstantTypeCode2||0==this.ConstantTypeCode2.length||null==this.ConstantTypeName2||0==this.ConstantTypeName2.length?e.$message({type:"info",message:"2项数据不能为空!"}):(f("/neusys/constantType/update",{id:this.rowid2,ConstantTypeCode:this.ConstantTypeCode2,ConstantTypeName:this.ConstantTypeName2}).then(function(t){var a=t.data;e.$message({type:a.status,message:a.msg})},function(t){403==t.response.status&&e.$message({type:"error",message:t.response.data}),e.loading=!1}),e.loading=!1,e.ConstantTypeCode2="",e.ConstantTypeName2="",e.dialogFormVisible3=!1,e.refresh())},updaeConstant:function(){var e=this;null==this.ConstantCode4||0==this.ConstantCode4.length||null==this.ConstantName4||0==this.ConstantName4.length?e.$message({type:"info",message:"2项数据不能为空!"}):(f("/neusys/constantItem/update",{id:this.rowid4,ConstantCode:this.ConstantCode4,ConstantName:this.ConstantName4,ConstantTypeID:this.ConstantTypeID4}).then(function(t){var a=t.data;e.$message({type:a.status,message:a.msg})},function(t){403==t.response.status&&e.$message({type:"error",message:t.response.data}),e.loading=!1}),e.loading=!1,e.ConstantCode4="",e.ConstantName4="",e.ConstantTypeID4="",e.dialogFormVisible32=!1,e.refresh())},handleDelete:function(e,t){var a=this;this.$confirm('确认删除 "'+t.ConstantTypeName+'" ?',"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.deleteCate(t.ID)}).catch(function(){a.loading=!1})},handleDelete202:function(e,t){var a=this;this.$confirm('确认删除 "'+t.ConstantName+'" ?',"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.deleteCate202(t.ID)}).catch(function(){a.loading=!1})},newDept:function(){this.dialogFormVisible=!0},newDept2:function(){this.dialogAddVisible=!0,this.keywords202="",this.keywords203="",this.tableData=""},searchClick202:function(){this.loadBlogs202(1,this.pageSize202)},searchClick:function(){this.loadBlogs(1,this.pageSize)},loadBlogs:function(e,t){var a=this,i="/neusys/constantType/all?page="+e+"&count="+t+"&keywords="+this.keywords+"&keywords2="+this.keywords2;b(i).then(function(t){a.loading=!1,200==t.status?(a.tableData2=t.data.list,a.totalCount=t.data.totalCount,a.currentPage01=e):a.$message({type:"error",message:"数据加载失败!"})},function(e){a.loading=!1,403==e.response.status?a.$message({type:"error",message:e.response.data}):a.$message({type:"error",message:"数据加载失败!"})}).catch(function(e){a.loading=!1,a.$message({type:"error",message:"数据加载失败!"})})},loadBlogs202:function(e,t){var a=this,i="/neusys/constantItem/all?page="+e+"&count="+t+"&keywords="+this.keywords202+"&keywords2="+this.keywords203;b(i).then(function(t){a.loading=!1,200==t.status?(a.tableData=t.data.list,a.totalCount202=t.data.totalCount,a.currentPage202=e):a.$message({type:"error",message:"数据加载失败!"})},function(e){a.loading=!1,403==e.response.status?a.$message({type:"error",message:e.response.data}):a.$message({type:"error",message:"数据加载失败!"})}).catch(function(e){a.loading=!1,a.$message({type:"error",message:"数据加载失败!"})})},currentChange:function(e){this.currentPage01=e,this.loading=!0,this.loadBlogs(e,this.pageSize)},currentChange202:function(e){this.currentPage202=e,this.loading=!0,this.loadBlogs202(e,this.pageSize202)},newDept3:function(){this.dialogFormVisible2=!0},newDept4:function(){this.dialogFormVisible5=!0},deleteCate:function(e){var t=this;this.loading=!0,v("/neusys/constantType/"+e).then(function(e){var a=e.data;t.$message({type:a.status,message:a.msg}),t.refresh()},function(e){t.loading=!1,403==e.response.status?t.$message({type:"error",message:e.response.data}):500==e.response.status&&t.$message({type:"error",message:"删除失败!"})})},deleteCate202:function(e){var t=this;this.loading=!0,v("/neusys/constantItem/"+e).then(function(e){var a=e.data;t.$message({type:a.status,message:a.msg}),t.refresh()},function(e){t.loading=!1,403==e.response.status?t.$message({type:"error",message:e.response.data}):500==e.response.status&&t.$message({type:"error",message:"删除失败!"})})},refresh:function(){var e=this;e.tableData2="",e.tableData="",b("/neusys/constantType/all").then(function(t){e.tableData2=t.data.list,e.loading=!1,e.totalCount=t.data.totalCount,e.currentPage01=page},function(t){403==t.response.status&&e.$message({type:"error",message:t.response.data}),e.loading=!1}),b("/neusys/constantItem/all").then(function(t){e.tableData=t.data.list,e.loading=!1,e.totalCount202=t.data.totalCount,e.currentPage202=page},function(t){403==t.response.status&&e.$message({type:"error",message:t.response.data}),e.loading=!1}),b("/neusys/constantType/all2").then(function(t){e.categories3=t.data.list})}},mounted:function(){this.loading=!0,this.refresh();var e=this;this.loading=!0,this.loadBlogs(1,this.pageSize),window.bus.$on("blogTableReload",function(){e.loading=!0,e.loadBlogs(e.currentPage01,e.pageSize)})},data:function(){return{totalCount:2,currentPage01:1,pageSize:10,keywords:"",keywords2:"",totalCount202:2,currentPage202:1,pageSize202:10,keywords202:"",keywords203:"",ConstantTypeID4:"",selItems:[],tableData:[],tableData2:[],categories:[],categories3:[],categories2:[],categories202:[],selItems202:[],loading:!1,dialogAddVisible:!1,dialogFormVisible:!1,dialogFormVisible2:!1,dialogFormVisible3:!1,dialogFormVisible5:!1,dialogFormVisible32:!1,rowid2:"",rowid4:"",ConstantTypeCode2:"",ConstantTypeName2:"",ConstantTypeID001:""}}},vt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("gao-el-container",[a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:"请输入常数类别编码或名称",size:"mini"},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}})],1)]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"mini",icon:"el-icon-view"},on:{click:e.searchClick}},[e._v("查询常数类别")])],1)]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(t){return e.newDept()}}},[e._v("新增常数类别")])],1)]),e._v(" "),a("el-col",{attrs:{span:3}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(t){return e.newDept2()}}},[e._v("常数项管理")])],1)])],1),e._v(" "),a("p"),e._v(" "),a("gao-el-main",{staticClass:"cate_mana_main"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData2,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[e._e(),e._v(" "),a("el-table-column",{attrs:{label:"类别编码",prop:"ConstantTypeCode",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"类别名称",prop:"ConstantTypeName",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"ID",prop:"ID",width:"120",align:"left"}})],1),e._v(" "),a("div",[a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:5}},[a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:this.tableData2.length>0,expression:"this.tableData2.length>0"}],attrs:{background:"","page-size":e.pageSize,"current-page":e.currentPage01,layout:"prev, pager, next",total:e.totalCount},on:{"update:currentPage":function(t){e.currentPage01=t},"update:current-page":function(t){e.currentPage01=t},"current-change":e.currentChange}})],1)],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"新增常数类别",visible:e.dialogFormVisible,width:"550px",align:"center"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{staticClass:"demo-form-inline",attrs:{"label-position":e.labelPosition,"label-width":e.labelWidth,inline:!0,model:e.formEdit,size:"mini"}},[a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:5}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("常数类别编码:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"常数类别编码",size:"mini"},model:{value:e.ConstantTypeCode3,callback:function(t){e.ConstantTypeCode3=t},expression:"ConstantTypeCode3"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("常数类别名称:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"常数类别名称",size:"mini"},model:{value:e.ConstantTypeName3,callback:function(t){e.ConstantTypeName3=t},expression:"ConstantTypeName3"}})],1)],1)])],1)],1),e._v(" "),a("br"),e._v(" "),a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.addNewCate}},[e._v("保 存")])],1),e._v(" "),a("el-dialog",{attrs:{title:"修改常数类型",visible:e.dialogFormVisible3,width:"550px",align:"center"},on:{"update:visible":function(t){e.dialogFormVisible3=t}}},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("常数项编码:")]),e._v(" \n      "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"常数类型编码",size:"mini"},model:{value:e.ConstantTypeCode2,callback:function(t){e.ConstantTypeCode2=t},expression:"ConstantTypeCode2"}}),e._v(" "),a("br"),a("br"),e._v(" "),a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("常数项名称:")]),e._v(" \n      "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"常数类型名称",size:"mini"},model:{value:e.ConstantTypeName2,callback:function(t){e.ConstantTypeName2=t},expression:"ConstantTypeName2"}}),e._v(" "),a("br"),a("br"),e._v(" "),a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(t){e.dialogFormVisible3=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"mini"},on:{click:e.updaeConstantType}},[e._v("保存")])],1),e._v(" "),a("el-dialog",{attrs:{title:"常数项列表",visible:e.dialogAddVisible,width:"850px",align:"center"},on:{"update:visible":function(t){e.dialogAddVisible=t}}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入常数项编码或名称",size:"mini"},model:{value:e.keywords202,callback:function(t){e.keywords202=t},expression:"keywords202"}}),e._v(" "),a("el-select",{attrs:{placeholder:"所属分类",size:"mini"},model:{value:e.keywords203,callback:function(t){e.keywords203=t},expression:"keywords203"}},e._l(e.categories3,function(e){return a("el-option",{key:e.ID,attrs:{label:e.ConstantTypeName,value:e.ID}})}),1),e._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"mini"},on:{click:e.searchClick202}},[e._v("查询常数项")]),e._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(t){return e.newDept3()}}},[e._v("新增常数项")]),e._v(" "),a("el-form",{staticClass:"demo-form-inline",attrs:{"label-position":e.labelPosition,"label-width":e.labelWidth,inline:!0,model:e.formAdd}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange202}},[a("el-table-column",{attrs:{label:"常数项编码",prop:"ConstantCode",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"常数项名称",prop:"ConstantName",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"常数项类别",prop:"ConstantTypeName",width:"120",align:"left"}}),e._v(" "),e._e(),e._v(" "),a("el-table-column",{attrs:{label:"常数项ID",prop:"ID",width:"120",align:"left"}})],1)],1),e._v(" "),a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:this.tableData.length>0,expression:"this.tableData.length>0"}],attrs:{background:"","page-size":e.pageSize202,"current-page":e.currentPage202,layout:"prev, pager, next",total:e.totalCount202},on:{"update:currentPage":function(t){e.currentPage202=t},"update:current-page":function(t){e.currentPage202=t},"current-change":e.currentChange202}}),e._v(" "),a("br"),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.dialogAddVisible=!1}}},[e._v("关闭")])],1),e._v(" "),a("el-dialog",{attrs:{title:"新增常数项",visible:e.dialogFormVisible2,width:"550px",align:"center"},on:{"update:visible":function(t){e.dialogFormVisible2=t}}},[a("el-form",{staticClass:"demo-form-inline",attrs:{"label-position":e.labelPosition,"label-width":e.labelWidth,inline:!0,model:e.formEdit,size:"mini"}},[a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:5}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("常数项编码:")]),e._v(" \n      ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"常数项编码",size:"mini"},model:{value:e.ConstantCode4,callback:function(t){e.ConstantCode4=t},expression:"ConstantCode4"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("常数项名称:")]),e._v(" \n      ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"常数项名称",size:"mini"},model:{value:e.ConstantName4,callback:function(t){e.ConstantName4=t},expression:"ConstantName4"}})],1)],1)])],1),e._v(" "),a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:5}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("所属分类:")]),e._v(" \n      ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-select",{attrs:{placeholder:"所属分类",size:"mini"},model:{value:e.ConstantTypeID4,callback:function(t){e.ConstantTypeID4=t},expression:"ConstantTypeID4"}},e._l(e.categories3,function(e){return a("el-option",{key:e.ID,attrs:{label:e.ConstantTypeName,value:e.ID}})}),1)],1)],1)])],1)],1),e._v(" "),a("br"),e._v(" "),a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(t){e.dialogFormVisible2=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.addNewCate202()}}},[e._v("保 存")])],1),e._v(" "),a("el-dialog",{attrs:{title:"修改常数项",visible:e.dialogFormVisible32,width:"550px",align:"center"},on:{"update:visible":function(t){e.dialogFormVisible32=t}}},[a("el-form",{staticClass:"demo-form-inline",attrs:{"label-position":e.labelPosition,"label-width":e.labelWidth,inline:!0,model:e.formEdit,size:"mini"}},[a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:5}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("常数项编码:")]),e._v(" \n      ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"常数项编码",size:"mini"},model:{value:e.ConstantCode4,callback:function(t){e.ConstantCode4=t},expression:"ConstantCode4"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("常数项名称:")]),e._v(" \n      ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"常数项名称",size:"mini"},model:{value:e.ConstantName4,callback:function(t){e.ConstantName4=t},expression:"ConstantName4"}})],1)],1)])],1),e._v(" "),a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:5}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("所属分类:")]),e._v(" \n      ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-select",{attrs:{placeholder:"所属分类",size:"mini"},model:{value:e.ConstantTypeID4,callback:function(t){e.ConstantTypeID4=t},expression:"ConstantTypeID4"}},e._l(e.categories3,function(e){return a("el-option",{key:e.ID,attrs:{label:e.ConstantTypeName,value:e.ID}})}),1)],1)],1)])],1)],1),e._v(" "),a("br"),e._v(" "),a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(t){e.dialogFormVisible32=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.updaeConstant()}}},[e._v("保 存")])],1)],1)},staticRenderFns:[]};var bt=a("VU/8")(ft,vt,!1,function(e){a("eW4u")},null,null).exports,yt={methods:{addNewCate:function(){var e=this;null==this.DeptCode02||0==this.DeptCode02.length||null==this.DeptName02||0==this.DeptName02.length||null==this.DeptCategoryID02||0==this.DeptCategoryID02.length||null==this.DeptTypeID02||0==this.DeptTypeID02.length?e.$message({type:"info",message:"4数据不能为空!"}):(this.loading=!0,h("/neusys/department/add",{DeptCode:this.DeptCode02,DeptName:this.DeptName02,DeptCategoryID:this.DeptCategoryID02,DeptType:this.DeptTypeID02}).then(function(t){if(200==t.status){var a=t.data;e.$message({type:a.status,message:a.msg}),e.DeptCode02="",e.DeptName02="",e.DeptCategoryID02="",e.DeptTypeID02="",e.refresh()}e.loading=!1},function(t){403==t.response.status&&e.$message({type:"error",message:t.response.data}),e.loading=!1}))},deleteAll:function(){var e=this;this.$confirm("确认删除这 "+this.selItems.length+" 条数据?","提示",{type:"warning",confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){for(var t=e.selItems,a="",i=0;i<t.length;i++)a+=t[i].ID+",";e.deleteCate(a.substring(0,a.length-1))}).catch(function(){e.loading=!1})},updateDept:function(){var e=this;null==this.DeptCode02||0==this.DeptCode02.length||null==this.DeptName02||0==this.DeptName02.length||null==this.DeptCategoryID02||0==this.DeptCategoryID02.length||null==this.DeptTypeID02||0==this.DeptTypeID02.length?e.$message({type:"info",message:"4项数据不能为空!"}):(f("/neusys/department/update",{ID:this.rowid02,DeptCode:this.DeptCode02,DeptName:this.DeptName02,DeptCategoryID:this.DeptCategoryID02,DeptType:this.DeptTypeID02}).then(function(t){var a=t.data;e.$message({type:a.status,message:a.msg})},function(t){403==t.response.status&&e.$message({type:"error",message:t.response.data}),e.loading=!1}),e.loading=!1,e.DeptCode02="",e.DeptName02="",e.DeptCategoryID02="",e.DeptTypeID02="",e.dialogFormVisible3=!1,e.refresh())},handleSelectionChange:function(e){this.selItems=e},handleEdit2:function(e,t){this.dialogFormVisible3=!0,this.DeptCode02=t.DeptCode,this.DeptName02=t.DeptName,this.DeptCategoryID02=t.DeptCategoryID,this.DeptTypeID02=""+t.DeptType,this.rowid02=t.ID},handleDelete:function(e,t){var a=this;this.$confirm('确认删除 "'+t.DeptName+'"" ?',"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.deleteCate(t.ID)}).catch(function(){a.loading=!1})},currentChange:function(e){this.currentPage01=e,this.loading=!0,this.loadBlogs(e,this.pageSize)},currentChange202:function(e){this.currentPage202=e,this.loading=!0,this.loadBlogs202(e,this.pageSize202)},searchClick:function(){this.loadBlogs(1,this.pageSize)},loadBlogs:function(e,t){var a=this,i="/neusys/department/all?page="+e+"&count="+t+"&keywords="+this.keywords+"&keywords2="+this.keywords2;b(i).then(function(t){a.loading=!1,200==t.status?(a.tableData=t.data.list,a.totalCount=t.data.totalCount,a.currentPage01=e):a.$message({type:"error",message:"数据加载失败!"})},function(e){a.loading=!1,403==e.response.status?a.$message({type:"error",message:e.response.data}):a.$message({type:"error",message:"数据加载失败!"})}).catch(function(e){a.loading=!1,a.$message({type:"error",message:"数据加载失败!"})})},newDept:function(){this.dialogFormVisible=!0,this.DeptCode02="",this.DeptName02="",this.DeptCategoryID02="",this.DeptTypeID02=""},deleteCate:function(e){var t=this;this.loading=!0,v("/neusys/department/"+e).then(function(e){var a=e.data;t.$message({type:a.status,message:a.msg}),t.refresh()},function(e){t.loading=!1,403==e.response.status?t.$message({type:"error",message:e.response.data}):500==e.response.status&&t.$message({type:"error",message:"科室删除失败!"})})},refresh:function(){var e=this;e.searchClick(),b("/neusys/constantItem/listByType?keywords=DeptCategory").then(function(t){e.categories3=t.data.list})}},mounted:function(){this.loading=!0,this.refresh()},filters:{showScope:function(e){return"1"==e?"临床":"2"==e?"医技":"3"==e?"财务":"4"==e?"行政":"其它"}},data:function(){return{totalCount:2,currentPage01:1,pageSize:10,keywords:"",keywords2:"",DeptCode02:"",DeptName02:"",DeptCategoryID02:"",DeptTypeID02:"",selItems:[],categories:[],categories2:[],categories3:[],tableData:[],loading:!1,dialogAddVisible:!1,dialogFormVisible:!1,dialogFormVisible3:!1,rowid02:""}}},_t={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("gao-el-container",[a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-input",{staticStyle:{width:"160px"},attrs:{placeholder:"请输入科室编号或名称",size:"mini"},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}})],1)]),e._v(" "),a("el-col",{attrs:{span:3}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"mini",icon:"el-icon-view"},on:{click:e.searchClick}},[e._v("查询科室")])],1)]),e._v(" "),a("el-col",{attrs:{span:3}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(t){return e.newDept()}}},[e._v("新增科室")])],1)]),e._v(" "),a("el-col",{attrs:{span:3}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","on-preview":e.handlePreview,"on-remove":e.handleRemove,"before-remove":e.beforeRemove,multiple:"",limit:3,"on-exceed":e.handleExceed,"file-list":e.fileList}})],1)])],1),e._v(" "),a("p"),e._v(" "),a("gao-el-main",{staticClass:"cate_mana_main"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"科室编号",prop:"DeptCode",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"科室名称",prop:"DeptName",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"科室分类",prop:"ConstantName",width:"120",align:"left"}}),e._v(" "),e._e(),e._v(" "),a("el-table-column",{attrs:{label:"科室类型",prop:"DeptType",width:"120",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(e._f("showScope")(t.row.DeptType))+"\n  ")]}}])}),e._v(" "),e._e(),e._v(" "),e._e(),e._v(" "),e._e(),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.handleEdit2(t.$index,t.row)}}},[e._v("编辑\n            ")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除\n            ")])]}}])})],1),e._v(" "),a("div",[a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:6}},[this.tableData.length>0?a("el-button",{staticStyle:{"margin-top":"10px",width:"100px"},attrs:{type:"danger",disabled:0==this.selItems.length,size:"mini"},on:{click:e.deleteAll}},[e._v("批量删除\n            ")]):e._e()],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:this.tableData.length>0,expression:"this.tableData.length>0"}],attrs:{background:"","page-size":e.pageSize,"current-page":e.currentPage01,layout:"prev, pager, next",total:e.totalCount},on:{"update:currentPage":function(t){e.currentPage01=t},"update:current-page":function(t){e.currentPage01=t},"current-change":e.currentChange}})],1)],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"新建科室",visible:e.dialogFormVisible,width:"550px",align:"center"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{staticClass:"demo-form-inline",attrs:{"label-position":e.labelPosition,"label-width":e.labelWidth,inline:!0,model:e.formEdit,size:"mini"}},[a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("科室编码:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"科室编码",size:"mini"},model:{value:e.DeptCode02,callback:function(t){e.DeptCode02=t},expression:"DeptCode02"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("科室名称:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"科室名称",size:"mini"},model:{value:e.DeptName02,callback:function(t){e.DeptName02=t},expression:"DeptName02"}})],1)],1)])],1),e._v(" "),a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("科室分类:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-select",{attrs:{placeholder:"科室分类",size:"mini"},model:{value:e.DeptCategoryID02,callback:function(t){e.DeptCategoryID02=t},expression:"DeptCategoryID02"}},e._l(e.categories3,function(e){return a("el-option",{key:e.ID,attrs:{label:e.ConstantName,value:e.ID}})}),1)],1)],1)]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("科室类别:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-select",{attrs:{placeholder:"科室类别",size:"mini"},model:{value:e.DeptTypeID02,callback:function(t){e.DeptTypeID02=t},expression:"DeptTypeID02"}},[a("el-option",{attrs:{label:"临床",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"医技",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"财务",value:"3"}}),e._v(" "),a("el-option",{attrs:{label:"行政",value:"4"}}),e._v(" "),a("el-option",{attrs:{label:"其它",value:"5"}})],1)],1)],1)])],1)],1),e._v(" "),a("br"),e._v(" "),a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.addNewCate()}}},[e._v("保 存")])],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑科室",visible:e.dialogFormVisible3,width:"550px",align:"center"},on:{"update:visible":function(t){e.dialogFormVisible3=t}}},[a("el-form",{staticClass:"demo-form-inline",attrs:{"label-position":e.labelPosition,"label-width":e.labelWidth,inline:!0,model:e.formEdit,size:"mini"}},[a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("科室编码:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"科室编码",size:"mini"},model:{value:e.DeptCode02,callback:function(t){e.DeptCode02=t},expression:"DeptCode02"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("科室名称:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"科室名称",size:"mini"},model:{value:e.DeptName02,callback:function(t){e.DeptName02=t},expression:"DeptName02"}})],1)],1)])],1),e._v(" "),a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("科室分类:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-select",{attrs:{placeholder:"科室分类",size:"mini"},model:{value:e.DeptCategoryID02,callback:function(t){e.DeptCategoryID02=t},expression:"DeptCategoryID02"}},e._l(e.categories3,function(e){return a("el-option",{key:e.ID,attrs:{label:e.ConstantName,value:e.ID}})}),1)],1)],1)]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("科室类别:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-select",{attrs:{placeholder:"科室类别",size:"mini"},model:{value:e.DeptTypeID02,callback:function(t){e.DeptTypeID02=t},expression:"DeptTypeID02"}},[a("el-option",{attrs:{label:"临床",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"医技",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"财务",value:"3"}}),e._v(" "),a("el-option",{attrs:{label:"行政",value:"4"}}),e._v(" "),a("el-option",{attrs:{label:"其它",value:"5"}})],1)],1)],1)])],1)],1),e._v(" "),a("br"),e._v(" "),a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(t){e.dialogFormVisible3=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.updateDept()}}},[e._v("保 存")])],1)],1)},staticRenderFns:[]};var Dt=a("VU/8")(yt,_t,!1,function(e){a("pEw5")},null,null).exports,wt={methods:{addNewCate:function(){var e=this;null==this.UserName02||0==this.UserName02.length||null==this.Password02||0==this.Password02.length||null==this.RealName02||0==this.RealName02.length||null==this.UseType02||0==this.UseType02.length||null==this.DeptID02||0==this.DeptID02.length?e.$message({type:"info",message:"前5项数据不能为空!"}):(this.loading=!0,h("/neusys/user/add",{UserName:this.UserName02,Password:this.Password02,RealName:this.RealName02,UseType:this.UseType02,IsScheduling:this.IsScheduling02,DeptID:this.DeptID02,RegistLeID:this.RegistLeID02,DocTitleID:this.DocTitleID02}).then(function(t){if(200==t.status){var a=t.data;e.$message({type:a.status,message:a.msg}),e.UserName02="",e.Password02="",e.RealName02="",e.UseType02="",e.DeptID02="",e.IsSchedulin02="",e.RegistLeID02="",e.DocTitleID02="",e.refresh()}e.loading=!1},function(t){403==t.response.status&&e.$message({type:"error",message:t.response.data}),e.loading=!1}))},searchClick:function(){this.loadBlogs(1,100)},loadBlogs:function(e,t){var a=this,i="/neusys/user/all?page="+e+"&count="+t+"&keywords="+this.keywords;b(i).then(function(t){200==t.status?(a.tableData=t.data.list,a.totalCount=t.data.totalCount,a.currentPage01=e):a.$message({type:"error",message:"数据加载失败!"})},function(e){a.loading=!1,403==e.response.status?a.$message({type:"error",message:e.response.data}):a.$message({type:"error",message:"数据加载失败!"})}).catch(function(e){a.loading=!1,a.$message({type:"error",message:"数据加载失败!"})})},deleteAll:function(){var e=this;this.$confirm("确认删除这 "+this.selItems.length+" 条数据?","提示",{type:"warning",confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){for(var t=e.selItems,a="",i=0;i<t.length;i++)a+=t[i].id+",";e.deleteCate(a.substring(0,a.length-1))}).catch(function(){e.loading=!1})},handleSelectionChange:function(e){this.selItems=e},handleEdit2:function(e,t){this.dialogFormVisible2=!0,this.UserName02=t.UserName,this.Password02=t.Password,this.RealName02=t.RealName,this.UseType02=t.UseType,this.DeptID02=t.dpid,this.DocTitleID02=t.dtid,this.IsScheduling02=t.IsScheduling,this.RegistLeID02=t.reid,this.rowid02=t.ID},update:function(){var e=this;null==this.UserName02||0==this.UserName02.length||null==this.Password02||0==this.Password02.length||null==this.RealName02||0==this.RealName02.length?e.$message({type:"info",message:"前 3项数据不能为空!"}):(f("/neusys/user/update",{ID:this.rowid02,UserName:this.UserName02,Password:this.Password02,RealName:this.RealName02,UseType:this.UseType02,DocTitleID:this.DocTitleID02,IsScheduling:this.IsScheduling02,DeptID:this.DeptID02,RegistLeID:this.RegistLeID02}).then(function(t){var a=t.data;e.$message({type:a.status,message:a.msg})},function(t){403==t.response.status&&e.$message({type:"error",message:t.response.data}),e.loading=!1}),e.loading=!1,e.UserName02="",e.Password02="",e.RealName02="",e.UseType02="",e.DocTitleID02="",e.IsScheduling02="",e.DeptID2="",e.RegistLeID02="",e.refresh(),e.dialogFormVisible2=!1)},clear:function(){this.UserName02="",this.Password02="",this.RealName02="",this.UseType02="",this.DeptID02="",this.IsSchedulin02="",this.RegistLeID02="",this.DocTitleID02=""},handleDelete:function(e,t){var a=this;this.$confirm('确认删除 "'+t.RealName+'" ?',"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.deleteCate(t.ID)}).catch(function(){a.loading=!1})},newDept:function(){this.dialogFormVisible=!0,this.UserName02="",this.Password02="",this.RealName02="",this.UseType02="",this.IsSchedulin02="",this.RegistID02="",this.DocTitleID02="",this.DeptID02=""},deleteCate:function(e){var t=this;this.loading=!0,v("/neusys/user/"+e).then(function(e){var a=e.data;t.$message({type:a.status,message:a.msg}),t.refresh()},function(e){t.loading=!1,403==e.response.status?t.$message({type:"error",message:e.response.data}):500==e.response.status&&t.$message({type:"error",message:"删除失败!"})})},refresh:function(){var e=this;b("/neusys/user/all?count=100").then(function(t){e.tableData=t.data.list,e.loading=!1},function(t){403==t.response.status&&e.$message({type:"error",message:t.response.data}),e.loading=!1}),b("/neusys/department/all?count=200").then(function(t){e.categories3=t.data.list}),b("/neusys/registLevel/all?count=200").then(function(t){e.categories4=t.data.list}),b("/neusys/constantItem/listByType?keywords=DocTitle").then(function(t){e.categories1=t.data.list})}},mounted:function(){this.loading=!0,this.refresh()},filters:{showScope:function(e){return"1"==e?"医院管理员":"2"==e?"挂号收费员":"3"==e?"门诊医生":"4"==e?"医技医生":"5"==e?"药房操作员":"6"==e?"财务管理员":"其他"}},data:function(){return{cityName:"",keywords:"",selItems:[],categories:[],categories4:[],categories3:[],categories2:[],categories1:[],tableData:[],loading:!1,DeptID02:"",UseType02:"",DocTitleID02:"",RegistLeID02:"",IsScheduling02:"",dialogAddVisible:!1,dialogFormVisible:!1,dialogFormVisible2:!1,rowid02:""}}},xt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("gao-el-container",[a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-input",{staticStyle:{width:"170px"},attrs:{placeholder:"请输入登录名或姓名",size:"mini"},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}})],1)]),e._v(" "),a("el-col",{attrs:{span:3}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"mini",icon:"el-icon-view"},on:{click:e.searchClick}},[e._v("查询用户")])],1)]),e._v(" "),a("el-col",{attrs:{span:3}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(t){return e.newDept()}}},[e._v("新增用户")])],1)])],1),e._v(" "),a("p"),e._v(" "),a("gao-el-main",{staticClass:"cate_mana_main"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[e._e(),e._v(" "),a("el-table-column",{attrs:{label:"登录名",prop:"UserName",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"真实姓名",prop:"RealName",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"用户类别",prop:"UseType",width:"120",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(e._f("showScope")(t.row.UseType))+"\n  ")]}}])}),e._v(" "),e._e(),e._v(" "),a("el-table-column",{attrs:{label:"医生职称",prop:"ConstantName",width:"120",align:"left"}}),e._v(" "),e._e(),e._v(" "),a("el-table-column",{attrs:{label:"所在科室",prop:"DeptName",width:"120",align:"left"}}),e._v(" "),e._e(),e._v(" "),a("el-table-column",{attrs:{label:"挂号级别",prop:"RegistName",width:"120",align:"left"}}),e._v(" "),e._e(),e._v(" "),e._e(),e._v(" "),e._e(),e._v(" "),e._e(),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.handleEdit2(t.$index,t.row)}}},[e._v("编辑\n            ")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除\n            ")])]}}])})],1),e._v(" "),this.categories.length>0?a("el-button",{staticStyle:{"margin-top":"10px",width:"100px"},attrs:{type:"danger",disabled:0==this.selItems.length,size:"mini"},on:{click:e.deleteAll}},[e._v("批量删除\n      ")]):e._e()],1),e._v(" "),a("el-dialog",{attrs:{title:"新增用户",visible:e.dialogFormVisible,width:"550px",align:"center"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{staticClass:"demo-form-inline",attrs:{"label-position":e.labelPosition,"label-width":e.labelWidth,inline:!0,model:e.formEdit,size:"mini"}},[a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("登录名:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"登录名",size:"mini"},model:{value:e.UserName02,callback:function(t){e.UserName02=t},expression:"UserName02"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("密码:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"密码",size:"mini"},model:{value:e.Password02,callback:function(t){e.Password02=t},expression:"Password02"}})],1)],1)])],1),e._v(" "),a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("真实姓名:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"真实姓名",size:"mini"},model:{value:e.RealName02,callback:function(t){e.RealName02=t},expression:"RealName02"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("所在科室:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-select",{attrs:{placeholder:"所在科室",size:"mini"},model:{value:e.DeptID02,callback:function(t){e.DeptID02=t},expression:"DeptID02"}},e._l(e.categories3,function(e){return a("el-option",{key:e.ID,attrs:{label:e.DeptName,value:e.ID}})}),1)],1)],1)])],1),e._v(" "),a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("用户类别:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-select",{attrs:{placeholder:"用户类别",size:"mini"},model:{value:e.UseType02,callback:function(t){e.UseType02=t},expression:"UseType02"}},[a("el-option",{key:"1",attrs:{label:"医院管理员",value:"1"}}),e._v(" "),a("el-option",{key:"2",attrs:{label:"挂号收费员",value:"2"}}),e._v(" "),a("el-option",{key:"3",attrs:{label:"门诊医生",value:"3"}}),e._v(" "),a("el-option",{key:"4",attrs:{label:"医技医生",value:"4"}}),e._v(" "),a("el-option",{key:"5",attrs:{label:"药房操作员",value:"5"}}),e._v(" "),a("el-option",{key:"6",attrs:{label:"财务管理员",value:"6"}})],1)],1)],1)]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("医生职称:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-select",{attrs:{placeholder:"医生职称",size:"mini"},model:{value:e.DocTitleID02,callback:function(t){e.DocTitleID02=t},expression:"DocTitleID02"}},e._l(e.categories1,function(e){return a("el-option",{key:e.ID,attrs:{label:e.ConstantName,value:e.ID}})}),1)],1)],1)])],1),e._v(" "),a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("挂号级别:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-select",{attrs:{placeholder:"挂号级别",size:"mini"},model:{value:e.RegistLeID02,callback:function(t){e.RegistLeID02=t},expression:"RegistLeID02"}},e._l(e.categories4,function(e){return a("el-option",{key:e.ID,attrs:{label:e.RegistName,value:e.ID}})}),1)],1)],1)]),e._v(" "),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("是否参与排班:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-radio",{attrs:{label:"是"},model:{value:e.IsScheduling02,callback:function(t){e.IsScheduling02=t},expression:"IsScheduling02"}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:"否"},model:{value:e.IsScheduling02,callback:function(t){e.IsScheduling02=t},expression:"IsScheduling02"}},[e._v("否")])],1)],1)])],1)],1),e._v(" "),a("br"),e._v(" "),a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.addNewCate}},[e._v("保 存")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.clear}},[e._v("清 空")])],1),e._v(" "),a("el-dialog",{attrs:{title:"修改用户",visible:e.dialogFormVisible2,width:"550px",align:"center"},on:{"update:visible":function(t){e.dialogFormVisible2=t}}},[a("el-form",{staticClass:"demo-form-inline",attrs:{"label-position":e.labelPosition,"label-width":e.labelWidth,inline:!0,model:e.formEdit,size:"mini"}},[a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("登录名:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"登录名",size:"mini"},model:{value:e.UserName02,callback:function(t){e.UserName02=t},expression:"UserName02"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("密码:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"密码",size:"mini"},model:{value:e.Password02,callback:function(t){e.Password02=t},expression:"Password02"}})],1)],1)])],1),e._v(" "),a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("真实姓名:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"真实姓名",size:"mini"},model:{value:e.RealName02,callback:function(t){e.RealName02=t},expression:"RealName02"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("所在科室:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-select",{attrs:{placeholder:"所在科室",size:"mini"},model:{value:e.DeptID02,callback:function(t){e.DeptID02=t},expression:"DeptID02"}},e._l(e.categories3,function(e){return a("el-option",{key:e.ID,attrs:{label:e.DeptName,value:e.ID}})}),1)],1)],1)])],1),e._v(" "),a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("用户类别:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-select",{attrs:{placeholder:"用户类别",size:"mini"},model:{value:e.UseType02,callback:function(t){e.UseType02=t},expression:"UseType02"}},[a("el-option",{attrs:{label:"医院管理员",value:1}}),e._v(" "),a("el-option",{attrs:{label:"挂号收费员",value:2}}),e._v(" "),a("el-option",{attrs:{label:"门诊医生",value:3}}),e._v(" "),a("el-option",{attrs:{label:"医技医生",value:4}}),e._v(" "),a("el-option",{attrs:{label:"药房操作员",value:5}}),e._v(" "),a("el-option",{attrs:{label:"财务管理员",value:6}})],1)],1)],1)]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("医生职称:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-select",{attrs:{placeholder:"医生职称",size:"mini"},model:{value:e.DocTitleID02,callback:function(t){e.DocTitleID02=t},expression:"DocTitleID02"}},e._l(e.categories1,function(e){return a("el-option",{key:e.ID,attrs:{label:e.ConstantName,value:e.ID}})}),1)],1)],1)])],1),e._v(" "),a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("挂号级别:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-select",{attrs:{placeholder:"挂号级别",size:"mini"},model:{value:e.RegistLeID02,callback:function(t){e.RegistLeID02=t},expression:"RegistLeID02"}},e._l(e.categories4,function(e){return a("el-option",{key:e.ID,attrs:{label:e.RegistName,value:e.ID}})}),1)],1)],1)]),e._v(" "),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("是否参与排班:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-radio",{attrs:{label:"是"},model:{value:e.IsScheduling02,callback:function(t){e.IsScheduling02=t},expression:"IsScheduling02"}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:"否"},model:{value:e.IsScheduling02,callback:function(t){e.IsScheduling02=t},expression:"IsScheduling02"}},[e._v("否")])],1)],1)])],1)],1),e._v(" "),a("br"),e._v(" "),a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(t){e.dialogFormVisible2=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.update}},[e._v("保 存")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.clear}},[e._v("清 空")])],1)],1)},staticRenderFns:[]};var Ct=a("VU/8")(wt,xt,!1,function(e){a("1v8u")},null,null).exports,kt={methods:{addNewCate:function(){var e=this;null==this.RegistCode02||0==this.RegistCode02.length||null==this.RegistName02||0==this.RegistName02.length||null==this.SequenceNo02||0==this.SequenceNo02.length||null==this.RegistFee02||0==this.RegistFee02.length||null==this.RegistQuota02||0==this.RegistQuota02.length?e.$message({type:"info",message:"5数据不能为空!"}):(this.loading=!0,h("/neusys/registLevel/add",{RegistCode:this.RegistCode02,RegistName:this.RegistName02,SequenceNo:this.SequenceNo02,RegistFee:this.RegistFee02,RegistQuota:this.RegistQuota02}).then(function(t){if(200==t.status){var a=t.data;e.$message({type:a.status,message:a.msg}),e.RegistCode02="",e.RegistName02="",e.SequenceNo02="",e.RegistFee02="",e.RegistQuota02="",e.refresh()}e.loading=!1},function(t){403==t.response.status&&e.$message({type:"error",message:t.response.data}),e.loading=!1}))},searchClick:function(){this.loadBlogs(1,100)},loadBlogs:function(e,t){var a=this,i="/neusys/registLevel/all?page="+e+"&count="+t+"&keywords="+this.keywords;b(i).then(function(t){200==t.status?(a.tableData=t.data.list,a.totalCount=t.data.totalCount,a.currentPage01=e):a.$message({type:"error",message:"数据加载失败!"})},function(e){a.loading=!1,403==e.response.status?a.$message({type:"error",message:e.response.data}):a.$message({type:"error",message:"数据加载失败!"})}).catch(function(e){a.loading=!1,a.$message({type:"error",message:"数据加载失败!"})})},deleteAll:function(){var e=this;this.$confirm("确认删除这 "+this.selItems.length+" 条数据?","提示",{type:"warning",confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){for(var t=e.selItems,a="",i=0;i<t.length;i++)a+=t[i].ID+",";e.deleteCate(a.substring(0,a.length-1))}).catch(function(){e.loading=!1})},handleSelectionChange:function(e){this.selItems=e},handleEdit2:function(e,t){this.dialogFormVisible2=!0,this.RegistCode02=t.RegistCode,this.RegistName02=t.RegistName,this.SequenceNo02=t.SequenceNo,this.RegistFee02=t.RegistFee,this.RegistQuota02=t.RegistQuota,this.rowid02=t.ID},update:function(){var e=this;null==this.RegistCode02||0==this.RegistCode02.length||null==this.RegistName02||0==this.RegistName02.length||null==this.SequenceNo02||0==this.SequenceNo02.length||null==this.RegistFee02||0==this.RegistFee02.length||null==this.RegistQuota02||0==this.RegistQuota02.length?e.$message({type:"info",message:"5项数据不能为空!"}):(f("/neusys/registLevel/update",{ID:this.rowid02,RegistCode:this.RegistCode02,RegistName:this.RegistName02,SequenceNo:this.SequenceNo02,RegistFee:this.RegistFee02,RegistQuota:this.RegistQuota02}).then(function(t){var a=t.data;e.$message({type:a.status,message:a.msg})},function(t){403==t.response.status&&e.$message({type:"error",message:t.response.data}),e.loading=!1}),e.RegistCode02="",e.RegistName02="",e.SequenceNo02="",e.RegistFee02="",e.RegistQuota02="",e.refresh(),e.dialogFormVisible2=!1,e.loading=!1)},handleDelete:function(e,t){var a=this;this.$confirm('确认删除 "'+t.RegistName+'" ?',"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.deleteCate(t.ID)}).catch(function(){a.loading=!1})},newDept:function(){this.RegistCode02="",this.RegistName02="",this.SequenceNo02="",this.RegistFee02="",this.RegistQuota02="",this.dialogFormVisible=!0},deleteCate:function(e){var t=this;this.loading=!0,v("/neusys/registLevel/"+e).then(function(e){var a=e.data;t.$message({type:a.status,message:a.msg}),t.refresh()},function(e){t.loading=!1,403==e.response.status?t.$message({type:"error",message:e.response.data}):500==e.response.status&&t.$message({type:"error",message:"删除失败!"})})},refresh:function(){var e=this;b("/neusys/registLevel/all?count=100").then(function(t){e.tableData=t.data.list,e.loading=!1},function(t){403==t.response.status&&e.$message({type:"error",message:t.response.data}),e.loading=!1})}},mounted:function(){this.loading=!0,this.refresh()},data:function(){return{cityName:"",keywords:"",selItems:[],categories:[],tableData:[],loading:!1,dialogAddVisible:!1,dialogFormVisible:!1,dialogFormVisible2:!1,rowid02:""}}},St={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("gao-el-container",[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入挂号级别编码或名称",size:"mini"},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}}),e._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"mini",icon:"el-icon-view"},on:{click:e.searchClick}},[e._v("查询挂号级别")]),e._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(t){return e.newDept()}}},[e._v("新增挂号级别")]),e._v(" "),a("p"),e._v(" "),a("gao-el-main",{staticClass:"cate_mana_main"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[e._e(),e._v(" "),a("el-table-column",{attrs:{label:"显示顺序号",prop:"SequenceNo",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"号别编码",prop:"RegistCode",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"号别名称",prop:"RegistName",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"挂号费",prop:"RegistFee",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"挂号限额",prop:"RegistQuota",width:"120",align:"left"}}),e._v(" "),e._e(),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.handleEdit2(t.$index,t.row)}}},[e._v("编辑\n            ")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除\n            ")])]}}])})],1),e._v(" "),this.categories.length>0?a("el-button",{staticStyle:{"margin-top":"10px",width:"100px"},attrs:{type:"danger",disabled:0==this.selItems.length,size:"mini"},on:{click:e.deleteAll}},[e._v("批量删除\n      ")]):e._e()],1),e._v(" "),a("el-dialog",{attrs:{title:"新增挂号级别",visible:e.dialogFormVisible,width:"550px",align:"center"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{staticClass:"demo-form-inline",attrs:{"label-position":e.labelPosition,"label-width":e.labelWidth,inline:!0,model:e.formEdit,size:"mini"}},[a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("号别编码:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"号别编码",size:"mini"},model:{value:e.RegistCode02,callback:function(t){e.RegistCode02=t},expression:"RegistCode02"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("号别名称:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"号别名称",size:"mini"},model:{value:e.RegistName02,callback:function(t){e.RegistName02=t},expression:"RegistName02"}})],1)],1)])],1),e._v(" "),a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("显示顺序号:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"显示顺序号",size:"mini"},model:{value:e.SequenceNo02,callback:function(t){e.SequenceNo02=t},expression:"SequenceNo02"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("挂号费:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"挂号费",size:"mini"},model:{value:e.RegistFee02,callback:function(t){e.RegistFee02=t},expression:"RegistFee02"}})],1)],1)])],1),e._v(" "),a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("挂号限额:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"挂号限额",size:"mini"},model:{value:e.RegistQuota02,callback:function(t){e.RegistQuota02=t},expression:"RegistQuota02"}})],1)],1)])],1)],1),e._v(" "),a("br"),e._v(" "),a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.addNewCate()}}},[e._v("保 存")])],1),e._v(" "),a("el-dialog",{attrs:{title:"修改挂号级别",visible:e.dialogFormVisible2,width:"550px",align:"center"},on:{"update:visible":function(t){e.dialogFormVisible2=t}}},[a("el-form",{staticClass:"demo-form-inline",attrs:{"label-position":e.labelPosition,"label-width":e.labelWidth,inline:!0,model:e.formEdit,size:"mini"}},[a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("号别编码:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"号别编码",size:"mini"},model:{value:e.RegistCode02,callback:function(t){e.RegistCode02=t},expression:"RegistCode02"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("号别名称:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"号别名称",size:"mini"},model:{value:e.RegistName02,callback:function(t){e.RegistName02=t},expression:"RegistName02"}})],1)],1)])],1),e._v(" "),a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("显示顺序号:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"显示顺序号",size:"mini"},model:{value:e.SequenceNo02,callback:function(t){e.SequenceNo02=t},expression:"SequenceNo02"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("挂号费:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"挂号费",size:"mini"},model:{value:e.RegistFee02,callback:function(t){e.RegistFee02=t},expression:"RegistFee02"}})],1)],1)])],1),e._v(" "),a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("挂号限额:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"挂号限额",size:"mini"},model:{value:e.RegistQuota02,callback:function(t){e.RegistQuota02=t},expression:"RegistQuota02"}})],1)],1)])],1)],1),e._v(" "),a("br"),e._v(" "),a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(t){e.dialogFormVisible2=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.update()}}},[e._v("保 存")])],1)],1)},staticRenderFns:[]};var It=a("VU/8")(kt,St,!1,function(e){a("okVW")},null,null).exports,zt={methods:{addNewCate:function(){var e=this;null==this.SettleCode02||0==this.SettleCode02.length||null==this.SettleName02||0==this.SettleName02.length||null==this.SequenceNo02||0==this.SequenceNo02.length?e.$message({type:"info",message:"数据不能为空!"}):(this.loading=!0,h("/neusys/settleCategory/add",{SettleCode:this.SettleCode02,SettleName:this.SettleName02,SequenceNo:this.SequenceNo02}).then(function(t){if(200==t.status){var a=t.data;e.$message({type:a.status,message:a.msg}),e.SettleCode02="",e.SettleName02="",e.SequenceNo02="",e.refresh()}e.loading=!1},function(t){403==t.response.status&&e.$message({type:"error",message:t.response.data}),e.loading=!1}))},searchClick:function(){this.loadBlogs(1,100)},loadBlogs:function(e,t){var a=this,i="/neusys/settleCategory/all?page="+e+"&count="+t+"&keywords="+this.keywords;b(i).then(function(t){200==t.status?(a.tableData=t.data.list,a.totalCount=t.data.totalCount,a.currentPage01=e):a.$message({type:"error",message:"数据加载失败!"})},function(e){a.loading=!1,403==e.response.status?a.$message({type:"error",message:e.response.data}):a.$message({type:"error",message:"数据加载失败!"})}).catch(function(e){a.loading=!1,a.$message({type:"error",message:"数据加载失败!"})})},deleteAll:function(){var e=this;this.$confirm("确认删除这 "+this.selItems.length+" 条数据?","提示",{type:"warning",confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){for(var t=e.selItems,a="",i=0;i<t.length;i++)a+=t[i].ID+",";e.deleteCate(a.substring(0,a.length-1))}).catch(function(){e.loading=!1})},handleSelectionChange:function(e){this.selItems=e},handleEdit2:function(e,t){this.dialogFormVisible2=!0,this.SettleCode02=t.SettleCode,this.SettleName02=t.SettleName,this.SequenceNo02=t.SequenceNo,this.rowid02=t.ID},update:function(){var e=this;null==this.SettleCode02||0==this.SettleCode02.length||null==this.SettleName02||0==this.SettleName02.length||null==this.SequenceNo02||0==this.SequenceNo02.length?e.$message({type:"info",message:"3 项数据不能为空!"}):(f("/neusys/settleCategory/update",{ID:this.rowid02,SettleCode:this.SettleCode02,SettleName:this.SettleName02,SequenceNo:this.SequenceNo02}).then(function(t){var a=t.data;e.$message({type:a.status,message:a.msg})},function(t){403==t.response.status&&e.$message({type:"error",message:t.response.data}),e.loading=!1}),e.loading=!1,e.SettleCode02="",e.SettleName02="",e.SequenceNo02="",e.refresh(),e.dialogFormVisible2=!1)},handleDelete:function(e,t){var a=this;this.$confirm('确认删除 "'+t.SettleName+'" ?',"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.deleteCate(t.ID)}).catch(function(){a.loading=!1})},newDept:function(){this.SettleCode02="",this.SettleName02="",this.SequenceNo02="",this.dialogFormVisible=!0},deleteCate:function(e){var t=this;this.loading=!0,v("/neusys/settleCategory/"+e).then(function(e){var a=e.data;t.$message({type:a.status,message:a.msg}),t.refresh()},function(e){t.loading=!1,403==e.response.status?t.$message({type:"error",message:e.response.data}):500==e.response.status&&t.$message({type:"error",message:"该栏目下尚有文章，删除失败!"})})},refresh:function(){var e=this;b("/neusys/settleCategory/all?count=100").then(function(t){e.tableData=t.data.list,e.loading=!1},function(t){403==t.response.status&&e.$message({type:"error",message:t.response.data}),e.loading=!1})}},mounted:function(){this.loading=!0,this.refresh()},data:function(){return{cityName:"",keywords:"",selItems:[],categories:[],tableData:[],loading:!1,formAdd:{name:"",address:"",date:"",other:""},formEdit:{name:"",address:"",date:"",other:""},dialogAddVisible:!1,dialogFormVisible:!1,dialogFormVisible2:!1,rowid02:""}}},Nt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("gao-el-container",[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入结算类别编码或名称",size:"mini"},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}}),e._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"mini",icon:"el-icon-view"},on:{click:e.searchClick}},[e._v("查询结算类别")]),e._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(t){return e.newDept()}}},[e._v("新增结算类别")]),e._v(" "),a("p"),e._v(" "),a("gao-el-main",{staticClass:"cate_mana_main"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[e._e(),e._v(" "),a("el-table-column",{attrs:{label:"显示顺序号",prop:"SequenceNo",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"类别编码",prop:"SettleCode",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"类别名称",prop:"SettleName",width:"120",align:"left"}}),e._v(" "),e._e(),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.handleEdit2(t.$index,t.row)}}},[e._v("编辑\n            ")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除\n            ")])]}}])})],1),e._v(" "),this.categories.length>0?a("el-button",{staticStyle:{"margin-top":"10px",width:"100px"},attrs:{type:"danger",disabled:0==this.selItems.length,size:"mini"},on:{click:e.deleteAll}},[e._v("批量删除\n      ")]):e._e()],1),e._v(" "),a("el-dialog",{attrs:{title:"新增结算类别",visible:e.dialogFormVisible,width:"550px",align:"center"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{staticClass:"demo-form-inline",attrs:{"label-position":e.labelPosition,"label-width":e.labelWidth,inline:!0,model:e.formEdit,size:"mini"}},[a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("类别编码:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"类别编码",size:"mini"},model:{value:e.SettleCode02,callback:function(t){e.SettleCode02=t},expression:"SettleCode02"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("类别名称:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"类别名称",size:"mini"},model:{value:e.SettleName02,callback:function(t){e.SettleName02=t},expression:"SettleName02"}})],1)],1)])],1),e._v(" "),a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("显示顺序号:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"显示顺序号",size:"mini"},model:{value:e.SequenceNo02,callback:function(t){e.SequenceNo02=t},expression:"SequenceNo02"}})],1)],1)])],1)],1),e._v(" "),a("br"),e._v(" "),a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.addNewCate()}}},[e._v("保 存")])],1),e._v(" "),a("el-dialog",{attrs:{title:"修改结算类别",visible:e.dialogFormVisible2,width:"550px",align:"center"},on:{"update:visible":function(t){e.dialogFormVisible2=t}}},[a("el-form",{staticClass:"demo-form-inline",attrs:{"label-position":e.labelPosition,"label-width":e.labelWidth,inline:!0,model:e.formEdit,size:"mini"}},[a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("类别编码:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"类别编码",size:"mini"},model:{value:e.SettleCode02,callback:function(t){e.SettleCode02=t},expression:"SettleCode02"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("类别名称:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"类别名称",size:"mini"},model:{value:e.SettleName02,callback:function(t){e.SettleName02=t},expression:"SettleName02"}})],1)],1)])],1),e._v(" "),a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("显示顺序号:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"显示顺序号",size:"mini"},model:{value:e.SequenceNo02,callback:function(t){e.SequenceNo02=t},expression:"SequenceNo02"}})],1)],1)])],1)],1),e._v(" "),a("br"),e._v(" "),a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(t){e.dialogFormVisible2=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.update()}}},[e._v("保 存")])],1)],1)},staticRenderFns:[]};var $t=a("VU/8")(zt,Nt,!1,function(e){a("ygP+")},null,null).exports,Tt={methods:{addNewCate:function(){var e=this;null==this.DicaCode02||0==this.DicaCode02.length||null==this.DicaName02||0==this.DicaName02.length||null==this.SequenceNo02||0==this.SequenceNo02.length?e.$message({type:"info",message:"3数据不能为空!"}):(this.loading=!0,h("/neusys/diseCategory/add",{DicaCode:this.DicaCode02,DicaName:this.DicaName02,SequenceNo:this.SequenceNo02}).then(function(t){if(200==t.status){var a=t.data;e.$message({type:a.status,message:a.msg}),e.DicaCode02="",e.DicaName02="",e.SequenceNo02="",e.refresh()}e.loading=!1},function(t){403==t.response.status&&e.$message({type:"error",message:t.response.data}),e.loading=!1}))},addNewCate02:function(){var e=this;null==this.DiseaseCode02||0==this.DiseaseCode02.length||null==this.DiseaseName02||0==this.DiseaseName02.length||null==this.DiseaseICD02||0==this.DiseaseICD02.length||null==this.DiseCategoryID02||0==this.DiseCategoryID02.length?e.$message({type:"info",message:"4 项数据不能为空!"}):(this.loading=!0,h("/neusys/disease/add",{DiseaseCode:this.DiseaseCode02,DiseaseName:this.DiseaseName02,DiseaseICD:this.DiseaseICD02,DiseCategoryID:this.DiseCategoryID02}).then(function(t){if(200==t.status){var a=t.data;e.$message({type:a.status,message:a.msg}),e.DiseaseCode02="",e.DiseaseName02="",e.DiseaseICD02="",e.DiseCategoryID02="",e.refresh()}e.loading=!1},function(t){403==t.response.status&&e.$message({type:"error",message:t.response.data}),e.loading=!1}))},searchClick:function(){this.loadBlogs(1,this.pageSize)},loadBlogs:function(e,t){var a=this,i="/neusys/diseCategory/all?page="+e+"&count="+t+"&keywords="+this.keywords;b(i).then(function(t){200==t.status?(a.loading=!1,a.tableData2=t.data.list,a.totalCount=t.data.totalCount,a.currentPage01=e):a.$message({type:"error",message:"数据加载失败!"})},function(e){a.loading=!1,403==e.response.status?a.$message({type:"error",message:e.response.data}):a.$message({type:"error",message:"数据加载失败!"})}).catch(function(e){a.loading=!1,a.$message({type:"error",message:"数据加载失败!"})})},searchClick202:function(){this.loadBlogs202(1,this.pageSize202)},loadBlogs202:function(e,t){var a=this,i="/neusys/disease/all?page="+e+"&count="+t+"&keywords="+this.keywords202;b(i).then(function(t){a.loading=!1,200==t.status?(a.tableData=t.data.list,a.totalCount202=t.data.totalCount,a.currentPage202=e):a.$message({type:"error",message:"数据加载失败!"})},function(e){a.loading=!1,403==e.response.status?a.$message({type:"error",message:e.response.data}):a.$message({type:"error",message:"数据加载失败!"})}).catch(function(e){a.loading=!1,a.$message({type:"error",message:"数据加载失败!"})})},currentChange:function(e){this.currentPage01=e,this.loading=!0,this.loadBlogs(e,this.pageSize)},currentChange202:function(e){this.currentPage202=e,this.loading=!0,this.loadBlogs202(e,this.pageSize202)},deleteAll:function(){var e=this;this.$confirm("确认删除这 "+this.selItems.length+" 条数据?","提示",{type:"warning",confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){for(var t=e.selItems,a="",i=0;i<t.length;i++)a+=t[i].ID+",";e.deleteCate(a.substring(0,a.length-1))}).catch(function(){e.loading=!1})},deleteAll202:function(){var e=this;this.$confirm("确认删除这 "+this.selItems202.length+" 条数据?","提示",{type:"warning",confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){for(var t=e.selItems202,a="",i=0;i<t.length;i++)a+=t[i].ID+",";e.deleteCate202(a.substring(0,a.length-1))}).catch(function(){e.loading=!1})},handleSelectionChange:function(e){this.selItems=e},handleSelectionChange202:function(e){this.selItems202=e},handleEdit2:function(e,t){this.dialogFormVisible22=!0,this.DicaCode02=t.DicaCode,this.DicaName02=t.DicaName,this.SequenceNo02=t.SequenceNo,this.rowid02=t.ID},update22:function(){var e=this;null==this.DicaCode02||0==this.DicaCode02.length||null==this.DicaName02||0==this.DicaName02.length||null==this.SequenceNo02||0==this.SequenceNo02.length?e.$message({type:"info",message:"3 项数据不能为空!"}):(f("/neusys/diseCategory/update",{id:this.rowid02,DicaCode:this.DicaCode02,DicaName:this.DicaName02,SequenceNo:this.SequenceNo02}).then(function(t){var a=t.data;e.$message({type:a.status,message:a.msg})},function(t){403==t.response.status&&e.$message({type:"error",message:t.response.data}),e.loading=!1}),e.loading=!1,e.DicaCode02="",e.DicaName02="",e.SequenceNo02="",e.refresh(),e.dialogFormVisible22=!1)},handleEdit33:function(e,t){this.dialogFormVisible33=!0,this.DiseaseCode02=t.DiseaseCode,this.DiseaseName02=t.DiseaseName,this.DiseaseICD02=t.DiseaseICD,this.DicaId02=t.DicaID,this.DiseCategoryID02=t.DiseCategoryID,this.rowid33=t.ID},update33:function(){var e=this;null==this.DiseaseCode02||0==this.DiseaseCode02.length||null==this.DiseaseName02||0==this.DiseaseName02.length||null==this.DiseaseICD02||0==this.DiseaseICD02.length||null==this.DiseCategoryID02||0==this.DiseCategoryID02.length?e.$message({type:"info",message:"4 项数据不能为空!"}):(f("/neusys/disease/update",{ID:this.rowid33,DiseaseCode:this.DiseaseCode02,DiseaseName:this.DiseaseName02,DiseaseICD:this.DiseaseICD02,DiseCategoryID:this.DiseCategoryID02}).then(function(t){var a=t.data;e.$message({type:a.status,message:a.msg})},function(t){403==t.response.status&&e.$message({type:"error",message:t.response.data}),e.loading=!1}),e.loading=!1,e.DiseaseCode02="",e.ExpName02="",e.DiseaseICD02="",e.DicaId02="",e.refresh(),e.dialogFormVisible33=!1)},handleDelete:function(e,t){var a=this;this.$confirm('确认删除 "'+t.DicaName+'" ?',"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.deleteCate(t.ID)}).catch(function(){a.loading=!1})},handleDelete02:function(e,t){var a=this;this.$confirm('确认删除 "'+t.DiseaseName+'" ?',"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.deleteCate202(t.ID)}).catch(function(){a.loading=!1})},newDept:function(){this.DicaCode02="",this.DicaName02="",this.SequenceNo02="",this.dialogFormVisible=!0},newDept2:function(){this.dialogAddVisible=!0,tableData=""},newDept3:function(){this.DiseaseCode02="",this.DiseaseName02="",this.DiseaseICD02="",this.DicaId02="",this.dialogFormVisible2=!0},deleteCate:function(e){var t=this;this.loading=!0,v("/neusys/diseCategory/"+e).then(function(e){var a=e.data;t.$message({type:a.status,message:a.msg}),t.refresh()},function(e){t.loading=!1,403==e.response.status?t.$message({type:"error",message:e.response.data}):500==e.response.status&&t.$message({type:"error",message:"删除失败!"})})},deleteCate202:function(e){var t=this;this.loading=!0,v("/neusys/disease/"+e).then(function(e){var a=e.data;t.$message({type:a.status,message:a.msg}),t.refresh()},function(e){t.loading=!1,403==e.response.status?t.$message({type:"error",message:e.response.data}):500==e.response.status&&t.$message({type:"error",message:"删除失败!"})})},refresh:function(){var e=this;e.tableData2="",e.tableData="",b("/neusys/diseCategory/all?count=500").then(function(t){e.categories3=t.data.list}),e.searchClick(),e.loading=!1}},mounted:function(){this.loading=!0,this.refresh()},data:function(){var e;return e={totalCount:2,currentPage01:1,pageSize:10,keywords:"",keywords2:"",totalCount202:2,currentPage202:1,pageSize202:10,keywords202:"",keywords203:"",ConstantTypeID4:""},Ve()(e,"keywords202",""),Ve()(e,"DiseCategoryID02",""),Ve()(e,"selItems",[]),Ve()(e,"categories3",[]),Ve()(e,"categories",[]),Ve()(e,"categories202",[]),Ve()(e,"selItems202",[]),Ve()(e,"tableData2",[]),Ve()(e,"tableData",[]),Ve()(e,"loading",!1),Ve()(e,"dialogAddVisible",!1),Ve()(e,"dialogFormVisible",!1),Ve()(e,"dialogFormVisible2",!1),Ve()(e,"dialogFormVisible22",!1),Ve()(e,"dialogFormVisible33",!1),Ve()(e,"rowid02",""),Ve()(e,"rowid33",""),e}},Rt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("gao-el-container",[a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:"请输入疾病分类编码或名称",size:"mini"},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}})],1)]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"mini",icon:"el-icon-view"},on:{click:e.searchClick}},[e._v("查询疾病分类")])],1)]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(t){return e.newDept()}}},[e._v("新增疾病分类")])],1)]),e._v(" "),a("el-col",{attrs:{span:3}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(t){return e.newDept2()}}},[e._v("疾病管理")])],1)])],1),e._v(" "),a("p"),e._v(" "),a("gao-el-main",{staticClass:"cate_mana_main"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData2,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"显示顺序号",prop:"SequenceNo",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"分类编码",prop:"DicaCode",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"分类名称",prop:"DicaName",width:"120",align:"left"}}),e._v(" "),e._e(),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.handleEdit2(t.$index,t.row)}}},[e._v("编辑\n            ")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除\n            ")])]}}])})],1),e._v(" "),a("div",[a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:3}},[this.tableData2.length>0?a("el-button",{staticStyle:{"margin-top":"10px",width:"100px"},attrs:{type:"danger",disabled:0==this.selItems.length,size:"mini"},on:{click:e.deleteAll}},[e._v("批量删除\n            ")]):e._e()],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:this.tableData2.length>0,expression:"this.tableData2.length>0"}],attrs:{background:"","page-size":e.pageSize,"current-page":e.currentPage01,layout:"prev, pager, next",total:e.totalCount},on:{"update:currentPage":function(t){e.currentPage01=t},"update:current-page":function(t){e.currentPage01=t},"current-change":e.currentChange}})],1)],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"新增疾病分类",visible:e.dialogFormVisible,width:"550px",align:"center"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{staticClass:"demo-form-inline",attrs:{"label-position":e.labelPosition,"label-width":e.labelWidth,inline:!0,model:e.formEdit,size:"mini"}},[a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:5}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("疾病分类编码:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"疾病分类编码",size:"mini"},model:{value:e.DicaCode02,callback:function(t){e.DicaCode02=t},expression:"DicaCode02"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("疾病分类名称:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"疾病分类名称",size:"mini"},model:{value:e.DicaName02,callback:function(t){e.DicaName02=t},expression:"DicaName02"}})],1)],1)])],1),e._v(" "),a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:5}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("显示顺序号:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"显示顺序号",size:"mini"},model:{value:e.SequenceNo02,callback:function(t){e.SequenceNo02=t},expression:"SequenceNo02"}})],1)],1)])],1)],1),e._v(" "),a("br"),e._v(" "),a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.addNewCate}},[e._v("保 存")])],1),e._v(" "),a("el-dialog",{attrs:{title:"修改疾病分类",visible:e.dialogFormVisible22,width:"550px",align:"center"},on:{"update:visible":function(t){e.dialogFormVisible22=t}}},[a("el-form",{staticClass:"demo-form-inline",attrs:{"label-position":e.labelPosition,"label-width":e.labelWidth,inline:!0,model:e.formEdit,size:"mini"}},[a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:5}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("疾病分类编码:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"疾病分类编码",size:"mini"},model:{value:e.DicaCode02,callback:function(t){e.DicaCode02=t},expression:"DicaCode02"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("疾病分类名称:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"疾病分类名称",size:"mini"},model:{value:e.DicaName02,callback:function(t){e.DicaName02=t},expression:"DicaName02"}})],1)],1)])],1),e._v(" "),a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:5}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("显示顺序号:")]),e._v(" \n                    ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"显示顺序号",size:"mini"},model:{value:e.SequenceNo02,callback:function(t){e.SequenceNo02=t},expression:"SequenceNo02"}})],1)],1)])],1)],1),e._v(" "),a("br"),e._v(" "),a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(t){e.dialogFormVisible22=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.update22}},[e._v("保 存")])],1),e._v(" "),a("el-dialog",{attrs:{title:"疾病列表",visible:e.dialogAddVisible,width:"750px",align:"center"},on:{"update:visible":function(t){e.dialogAddVisible=t}}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入疾病编码或名称",size:"mini"},model:{value:e.keywords202,callback:function(t){e.keywords202=t},expression:"keywords202"}}),e._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"mini"},on:{click:e.searchClick202}},[e._v("查询疾病")]),e._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(t){return e.newDept3()}}},[e._v("新增疾病")]),e._v(" "),a("el-form",{staticClass:"demo-form-inline",attrs:{"label-position":e.labelPosition,"label-width":e.labelWidth,inline:!0,model:e.formAdd}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange202}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"疾病编码",prop:"DiseaseCode",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"疾病名称",prop:"DiseaseName",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"国际ICD编码",prop:"DiseaseICD",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"疾病所属分类",prop:"DicaName",width:"120",align:"left"}}),e._v(" "),e._e(),e._v(" "),e._e(),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.handleEdit33(t.$index,t.row)}}},[e._v("编辑\n            ")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete02(t.$index,t.row)}}},[e._v("删除\n            ")])]}}])})],1)],1),e._v(" "),a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:this.tableData.length>0,expression:"this.tableData.length>0"}],attrs:{background:"","page-size":e.pageSize202,"current-page":e.currentPage202,layout:"prev, pager, next",total:e.totalCount202},on:{"update:currentPage":function(t){e.currentPage202=t},"update:current-page":function(t){e.currentPage202=t},"current-change":e.currentChange202}}),e._v(" "),a("br"),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini",disabled:0==this.selItems202.length},on:{click:e.deleteAll202}},[e._v("批量删除")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.dialogAddVisible=!1}}},[e._v("关闭")])],1),e._v(" "),a("el-dialog",{attrs:{title:"新增疾病",visible:e.dialogFormVisible2,width:"550px",align:"center"},on:{"update:visible":function(t){e.dialogFormVisible2=t}}},[a("el-form",{staticClass:"demo-form-inline",attrs:{"label-position":e.labelPosition,"label-width":e.labelWidth,inline:!0,model:e.formEdit,size:"mini"}},[a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:5}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("疾病编码:")]),e._v(" \n      ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"疾病编码",size:"mini"},model:{value:e.DiseaseCode02,callback:function(t){e.DiseaseCode02=t},expression:"DiseaseCode02"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("疾病名称:")]),e._v(" \n      ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"疾病名称",size:"mini"},model:{value:e.DiseaseName02,callback:function(t){e.DiseaseName02=t},expression:"DiseaseName02"}})],1)],1)])],1),e._v(" "),a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:5}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("国际ICD编码:")]),e._v(" \n      ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"国际ICD编码",size:"mini"},model:{value:e.DiseaseICD02,callback:function(t){e.DiseaseICD02=t},expression:"DiseaseICD02"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("疾病所属分类:")]),e._v(" \n      ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-select",{attrs:{placeholder:"疾病所属分类",size:"mini"},model:{value:e.DiseCategoryID02,callback:function(t){e.DiseCategoryID02=t},expression:"DiseCategoryID02"}},e._l(e.categories3,function(e){return a("el-option",{key:e.ID,attrs:{label:e.DicaName,value:e.ID}})}),1)],1)],1)])],1)],1),e._v(" "),a("br"),e._v(" "),a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(t){e.dialogFormVisible2=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.addNewCate02}},[e._v("保 存")])],1),e._v(" "),a("el-dialog",{attrs:{title:"修改疾病",visible:e.dialogFormVisible33,width:"550px",align:"center"},on:{"update:visible":function(t){e.dialogFormVisible33=t}}},[a("el-form",{staticClass:"demo-form-inline",attrs:{"label-position":e.labelPosition,"label-width":e.labelWidth,inline:!0,model:e.formEdit,size:"mini"}},[a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:5}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("疾病编码:")]),e._v(" \n      ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"疾病编码",size:"mini"},model:{value:e.DiseaseCode02,callback:function(t){e.DiseaseCode02=t},expression:"DiseaseCode02"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("疾病名称:")]),e._v(" \n      ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"疾病名称",size:"mini"},model:{value:e.DiseaseName02,callback:function(t){e.DiseaseName02=t},expression:"DiseaseName02"}})],1)],1)])],1),e._v(" "),a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:5}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("国际ICD编码:")]),e._v(" \n      ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"国际ICD编码",size:"mini"},model:{value:e.DiseaseICD02,callback:function(t){e.DiseaseICD02=t},expression:"DiseaseICD02"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("疾病所属分类:")]),e._v(" \n      ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-select",{attrs:{placeholder:"疾病所属分类",size:"mini"},model:{value:e.DiseCategoryID02,callback:function(t){e.DiseCategoryID02=t},expression:"DiseCategoryID02"}},e._l(e.categories3,function(e){return a("el-option",{key:e.ID,attrs:{label:e.DicaName,value:e.ID}})}),1)],1)],1)])],1)],1),e._v(" "),a("br"),e._v(" "),a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(t){e.dialogFormVisible33=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.update33}},[e._v("保 存")])],1)],1)},staticRenderFns:[]};var Ft=a("VU/8")(Tt,Rt,!1,function(e){a("cpug")},null,null).exports,Et={methods:{addNewCate:function(){var e=this;null==this.ItemCode02||0==this.ItemCode02.length||null==this.ItemName02||0==this.ItemName02.length?e.$message({type:"info",message:"前2项数据不能为空!"}):(this.loading=!0,h("/neusys/fmeditem/add",{ItemCode:this.ItemCode02,ItemName:this.ItemName02,Format:this.Format02,Price:this.Price02,ExpClassID:this.ExpClassID02,DeptID:this.DeptID02,RecordType:this.RecordType02,MnemonicCode:this.MnemonicCode02}).then(function(t){if(200==t.status){var a=t.data;e.$message({type:a.status,message:a.msg}),e.ItemCode02="",e.ItemName02="",e.Format02="",e.Price02="",e.ExpClassID02="",e.DeptID02="",e.RecordType02="",e.MnemonicCode02="",e.refresh()}e.loading=!1},function(t){403==t.response.status&&e.$message({type:"error",message:t.response.data}),e.loading=!1}))},currentChange:function(e){this.currentPage01=e,this.loading=!0,this.loadBlogs(e,this.pageSize)},currentChange202:function(e){this.currentPage202=e,this.loading=!0,this.loadBlogs202(e,this.pageSize202)},searchClick:function(){this.loadBlogs(1,this.pageSize)},loadBlogs:function(e,t){var a=this,i="/neusys/fmeditem/all?page="+e+"&count="+t+"&keywords="+this.keywords;b(i).then(function(t){200==t.status?(a.loading=!1,a.tableData=t.data.list,a.totalCount=t.data.totalCount,a.currentPage01=e):a.$message({type:"error",message:"数据加载失败!"})},function(e){a.loading=!1,403==e.response.status?a.$message({type:"error",message:e.response.data}):a.$message({type:"error",message:"数据加载失败!"})}).catch(function(e){a.loading=!1,a.$message({type:"error",message:"数据加载失败!"})})},deleteAll:function(){var e=this;this.$confirm("确认删除这 "+this.selItems.length+" 条数据?","提示",{type:"warning",confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){for(var t=e.selItems,a="",i=0;i<t.length;i++)a+=t[i].ID+",";e.deleteCate(a.substring(0,a.length-1))}).catch(function(){e.loading=!1})},handleSelectionChange:function(e){this.selItems=e},handleEdit2:function(e,t){this.dialogFormVisible2=!0,this.ItemCode02=t.ItemCode,this.ItemName02=t.ItemName,this.Format02=t.Format,this.Price02=t.Price,this.MnemonicCode02=t.MnemonicCode,this.ExpClassID02=t.ecid,this.DeptID02=t.dpid,this.RecordType02=t.RecordType,this.rowid02=t.ID},update:function(){var e=this;null==this.ItemCode02||0==this.ItemCode02.length||null==this.ItemName02||0==this.ItemName02.length?e.$message({type:"info",message:"2 项数据不能为空!"}):(f("/neusys/fmeditem/update",{ID:this.rowid02,ItemCode:this.ItemCode02,ItemName:this.ItemName02,Format:this.Format02,Price:this.Price02,ExpClassID:this.ExpClassID02,DeptID:this.DeptID02,RecordType:this.RecordType02,MnemonicCode:this.MnemonicCode02}).then(function(t){var a=t.data;e.$message({type:a.status,message:a.msg})},function(t){403==t.response.status&&e.$message({type:"error",message:t.response.data}),e.loading=!1}),e.loading=!1,e.ItemCode02="",e.ItemName02="",e.Format02="",e.Price02="",e.ExpClassID02="",e.DeptId02="",e.RecordType02="",e.MnemonicCode02="",e.refresh(),e.dialogFormVisible2=!1)},handleDelete:function(e,t){var a=this;this.$confirm('确认删除 "'+t.ItemName+'" ?',"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.deleteCate(t.ID)}).catch(function(){a.loading=!1})},newDept:function(){this.ItemCode02="",this.ItemName02="",this.Format02="",this.Price02="",this.ExpClassID02="",this.DeptID02="",this.RecordType02="",this.MnemonicCode02="",this.dialogFormVisible=!0},deleteCate:function(e){var t=this;this.loading=!0,v("/neusys/fmeditem/"+e).then(function(e){var a=e.data;t.$message({type:a.status,message:a.msg}),t.refresh()},function(e){t.loading=!1,403==e.response.status?t.$message({type:"error",message:e.response.data}):500==e.response.status&&t.$message({type:"error",message:"删除失败!"})})},refresh:function(){var e=this;e.loading=!1,b("/neusys/fmeditem/all").then(function(t){e.tableData=t.data.list,e.totalCount=t.data.totalCount,e.currentPage01=page},function(t){403==t.response.status&&e.$message({type:"error",message:t.response.data}),e.loading=!1}),b("/neusys/department/all?page=1&count=200").then(function(t){e.categories3=t.data.list}),b("/neusys/expenseClass/all?page=1&count=100").then(function(t){e.categories2=t.data.list})}},mounted:function(){this.loading=!0,this.refresh()},filters:{showScope:function(e){return"1"==e?"检查":"2"==e?"检验":"3"==e?"处置":void 0}},data:function(){return{totalCount:2,currentPage01:1,pageSize:10,keywords:"",ExpClassID02:"",DeptID02:"",RecordType02:"",MnemonicCode02:"",selItems:[],categories:[],categories3:[],categories2:[],tableData:[],loading:!1,dialogAddVisible:!1,dialogFormVisible:!1,dialogFormVisible2:!1}}},Mt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("gao-el-container",[a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:5}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-input",{staticStyle:{width:"216px"},attrs:{placeholder:"请输入非药品收费项目编码或名称",size:"mini"},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}})],1)]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"mini",icon:"el-icon-view"},on:{click:e.searchClick}},[e._v("查询非药品收费项目")])],1)]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(t){return e.newDept()}}},[e._v("新增非药品收费项目")])],1)]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","on-preview":e.handlePreview,"on-remove":e.handleRemove,"before-remove":e.beforeRemove,multiple:"",limit:3,"on-exceed":e.handleExceed,"file-list":e.fileList}})],1)])],1),e._v(" "),a("p"),e._v(" "),a("gao-el-main",{staticClass:"cate_mana_main"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"项目编码",prop:"ItemCode",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"项目名称",prop:"ItemName",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"项目类型",prop:"RecordType",width:"120",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(e._f("showScope")(t.row.RecordType))+"\n  ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"规格",prop:"Format",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"单价",prop:"Price",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"费用科目",prop:"ExpName",width:"120",align:"left"}}),e._v(" "),e._e(),e._v(" "),a("el-table-column",{attrs:{label:"执行科室",prop:"DeptName",width:"120",align:"left"}}),e._v(" "),e._e(),e._v(" "),e._e(),e._v(" "),e._e(),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.handleEdit2(t.$index,t.row)}}},[e._v("编辑\n            ")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除\n            ")])]}}])})],1),e._v(" "),a("div",[a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:6}},[this.tableData.length>0?a("el-button",{staticStyle:{"margin-top":"10px",width:"100px"},attrs:{type:"danger",disabled:0==this.selItems.length,size:"mini"},on:{click:e.deleteAll}},[e._v("批量删除\n            ")]):e._e()],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:this.tableData.length>0,expression:"this.tableData.length>0"}],attrs:{background:"","page-size":e.pageSize,"current-page":e.currentPage01,layout:"prev, pager, next",total:e.totalCount},on:{"update:currentPage":function(t){e.currentPage01=t},"update:current-page":function(t){e.currentPage01=t},"current-change":e.currentChange}})],1)],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"新增非药品收费项目",visible:e.dialogFormVisible,width:"550px",align:"center"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{staticClass:"demo-form-inline",attrs:{"label-position":e.labelPosition,"label-width":e.labelWidth,inline:!0,model:e.formEdit,size:"mini"}},[a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("项目编码:")]),e._v(" \n                  ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"项目编码",size:"mini"},model:{value:e.ItemCode02,callback:function(t){e.ItemCode02=t},expression:"ItemCode02"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("项目名称:")]),e._v(" \n                  ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"项目名称",size:"mini"},model:{value:e.ItemName02,callback:function(t){e.ItemName02=t},expression:"ItemName02"}})],1)],1)])],1),e._v(" "),a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("规格:")]),e._v(" \n                  ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"规格",size:"mini"},model:{value:e.Format02,callback:function(t){e.Format02=t},expression:"Format02"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("单价:")]),e._v(" \n                  ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"单价",size:"mini"},model:{value:e.Price02,callback:function(t){e.Price02=t},expression:"Price02"}})],1)],1)])],1),e._v(" "),a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("费用分类:")]),e._v(" \n                  ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-select",{attrs:{placeholder:"费用分类",size:"mini"},model:{value:e.ExpClassID02,callback:function(t){e.ExpClassID02=t},expression:"ExpClassID02"}},e._l(e.categories2,function(e){return a("el-option",{key:e.ID,attrs:{label:e.ExpName,value:e.ID}})}),1)],1)],1)]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("执行科室:")]),e._v(" \n                  ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-select",{attrs:{placeholder:"执行科室",size:"mini"},model:{value:e.DeptID02,callback:function(t){e.DeptID02=t},expression:"DeptID02"}},e._l(e.categories3,function(e){return a("el-option",{key:e.ID,attrs:{label:e.DeptName,value:e.ID}})}),1)],1)],1)])],1),e._v(" "),a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("项目类型:")]),e._v(" \n                  ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-select",{attrs:{placeholder:"项目类型",size:"mini"},model:{value:e.RecordType02,callback:function(t){e.RecordType02=t},expression:"RecordType02"}},[a("el-option",{attrs:{label:"检查",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"检验",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"处置",value:"3"}})],1)],1)],1)]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("拼音助记码:")]),e._v(" \n                  ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"拼音助记码",size:"mini"},model:{value:e.MnemonicCode02,callback:function(t){e.MnemonicCode02=t},expression:"MnemonicCode02"}})],1)],1)])],1)],1),e._v(" "),a("br"),e._v(" "),a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.addNewCate()}}},[e._v("保 存")])],1),e._v(" "),a("el-dialog",{attrs:{title:"修改非药品收费项目",visible:e.dialogFormVisible2,width:"550px",align:"center"},on:{"update:visible":function(t){e.dialogFormVisible2=t}}},[a("el-form",{staticClass:"demo-form-inline",attrs:{"label-position":e.labelPosition,"label-width":e.labelWidth,inline:!0,model:e.formEdit,size:"mini"}},[a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("项目编码:")]),e._v(" \n                  ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"项目编码",size:"mini"},model:{value:e.ItemCode02,callback:function(t){e.ItemCode02=t},expression:"ItemCode02"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("项目名称:")]),e._v(" \n                  ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"项目名称",size:"mini"},model:{value:e.ItemName02,callback:function(t){e.ItemName02=t},expression:"ItemName02"}})],1)],1)])],1),e._v(" "),a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("规格:")]),e._v(" \n                  ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"规格",size:"mini"},model:{value:e.Format02,callback:function(t){e.Format02=t},expression:"Format02"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("单价:")]),e._v(" \n                  ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"单价",size:"mini"},model:{value:e.Price02,callback:function(t){e.Price02=t},expression:"Price02"}})],1)],1)])],1),e._v(" "),a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("费用分类:")]),e._v(" \n                  ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-select",{attrs:{placeholder:"费用分类",size:"mini"},model:{value:e.ExpClassID02,callback:function(t){e.ExpClassID02=t},expression:"ExpClassID02"}},e._l(e.categories2,function(e){return a("el-option",{key:e.ID,attrs:{label:e.ExpName,value:e.ID}})}),1)],1)],1)]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("执行科室:")]),e._v(" \n                  ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-select",{attrs:{placeholder:"执行科室",size:"mini"},model:{value:e.DeptID02,callback:function(t){e.DeptID02=t},expression:"DeptID02"}},e._l(e.categories3,function(e){return a("el-option",{key:e.ID,attrs:{label:e.DeptName,value:e.ID}})}),1)],1)],1)])],1),e._v(" "),a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("项目类型:")]),e._v(" \n                  ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-select",{attrs:{placeholder:"项目类型",size:"mini"},model:{value:e.RecordType02,callback:function(t){e.RecordType02=t},expression:"RecordType02"}},[a("el-option",{attrs:{label:"检查",value:1}}),e._v(" "),a("el-option",{attrs:{label:"检验",value:2}}),e._v(" "),a("el-option",{attrs:{label:"处置",value:3}})],1)],1)],1)]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("拼音助记码:")]),e._v(" \n                  ")],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"拼音助记码",size:"mini"},model:{value:e.MnemonicCode02,callback:function(t){e.MnemonicCode02=t},expression:"MnemonicCode02"}})],1)],1)])],1)],1),e._v(" "),a("br"),e._v(" "),a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(t){e.dialogFormVisible2=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.update()}}},[e._v("保 存")])],1)],1)},staticRenderFns:[]};var Pt,Vt=a("VU/8")(Et,Mt,!1,function(e){a("rSkE")},null,null).exports,At={methods:(Pt={currentChange:function(e){this.currentPage01=e,this.loading=!0,this.loadBlogs(e,this.pageSize)},searchClick:function(){this.loadBlogs(1,this.pageSize)},searchClick2:function(){this.loadBlogs2(1,100)},searchClick3:function(){this.loadBlogs3(1,100)},loadBlogs:function(e,t){var a=this,i="/neusys/scheduling/all?page="+e+"&count="+t+"&keywords="+this.keywords+"&keywords2="+this.keywords2;b(i).then(function(t){200==t.status?(a.loading=!1,a.tableData3=t.data.list,a.totalCount=t.data.totalCount,a.currentPage01=e):a.$message({type:"error",message:"数据加载失败!"})},function(e){a.loading=!1,403==e.response.status?a.$message({type:"error",message:e.response.data}):a.$message({type:"error",message:"数据加载失败!"})}).catch(function(e){a.loading=!1,a.$message({type:"error",message:"数据加载失败!"})})},loadBlogs2:function(e,t){var a=this,i="/neusys/user/all02?page="+e+"&count="+t+"&keywords="+this.keywords01+"&keywords2="+this.keywords02+"&keywords3="+this.keywords03;b(i).then(function(e){200==e.status?(a.tableData=e.data.list,a.totalCount=e.data.totalCount):a.$message({type:"error",message:"数据加载失败!"})},function(e){a.loading=!1,403==e.response.status?a.$message({type:"error",message:e.response.data}):a.$message({type:"error",message:"数据加载失败!"})}).catch(function(e){a.loading=!1,a.$message({type:"error",message:"数据加载失败!"})})},loadBlogs3:function(e,t){var a=this,i="/neusys/rule/all?page="+e+"&count="+t+"&keywords="+this.DeptId02;b(i).then(function(e){200==e.status?(a.tableData2=e.data.list,a.totalCount=e.data.totalCount):a.$message({type:"error",message:"数据加载失败!"})},function(e){a.loading=!1,403==e.response.status?a.$message({type:"error",message:e.response.data}):a.$message({type:"error",message:"数据加载失败!"})}).catch(function(e){a.loading=!1,a.$message({type:"error",message:"数据加载失败!"})})},hello:function(e,t){this.$confirm('确认 "'+this.selItems[0].X10+'" ?',"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"})},handleSelectionChange:function(e){this.selItems=e},handleSelectionChange202:function(e){this.selItems202=e},clear2:function(){this.DeptId02="",this.ksrq="",this.jsrq=""},clear:function(){this.keywords01="",this.keywords02="",this.keywords03="",this.gzmc=""},newDept:function(){this.ch10="",this.ch11="",this.ch20="",this.ch21="",this.ch30="",this.ch31="",this.ch40="",this.ch41="",this.ch50="",this.ch51="",this.ch60="",this.ch61="",this.ch70="",this.ch71="",this.gzmc="",this.selItems="",this.tableData="",this.keywords01="",this.keywords02="",this.keywords03="",this.dialogFormVisible=!0},newDept2:function(){this.tableData2="",this.ksrq="",this.jsrq="",this.DeptId02="",this.dialogAddVisible=!0}},Ve()(Pt,"handleSelectionChange",function(e){this.selItems=e}),Ve()(Pt,"gzSave",function(){var e=this,t=this;null==this.gzmc||0==this.gzmc.length?t.$message({type:"info",message:"规则名称不能为空!"}):this.$confirm("确认保存这 "+this.selItems.length+" 条规则吗?","提示",{type:"warning",confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){for(var a=0;a<e.selItems.length;a++)e.weeks[a]="","1"==e.selItems[a].X10?e.weeks[a]=e.weeks[a]+"1":e.weeks[a]=e.weeks[a]+"0","1"==e.selItems[a].X11?e.weeks[a]=e.weeks[a]+"1":e.weeks[a]=e.weeks[a]+"0","1"==e.selItems[a].X20?e.weeks[a]=e.weeks[a]+"1":e.weeks[a]=e.weeks[a]+"0","1"==e.selItems[a].X21?e.weeks[a]=e.weeks[a]+"1":e.weeks[a]=e.weeks[a]+"0","1"==e.selItems[a].X30?e.weeks[a]=e.weeks[a]+"1":e.weeks[a]=e.weeks[a]+"0","1"==e.selItems[a].X31?e.weeks[a]=e.weeks[a]+"1":e.weeks[a]=e.weeks[a]+"0","1"==e.selItems[a].X40?e.weeks[a]=e.weeks[a]+"1":e.weeks[a]=e.weeks[a]+"0","1"==e.selItems[a].X41?e.weeks[a]=e.weeks[a]+"1":e.weeks[a]=e.weeks[a]+"0","1"==e.selItems[a].X50?e.weeks[a]=e.weeks[a]+"1":e.weeks[a]=e.weeks[a]+"0","1"==e.selItems[a].X51?e.weeks[a]=e.weeks[a]+"1":e.weeks[a]=e.weeks[a]+"0","1"==e.selItems[a].X60?e.weeks[a]=e.weeks[a]+"1":e.weeks[a]=e.weeks[a]+"0","1"==e.selItems[a].X61?e.weeks[a]=e.weeks[a]+"1":e.weeks[a]=e.weeks[a]+"0","1"==e.selItems[a].X70?e.weeks[a]=e.weeks[a]+"1":e.weeks[a]=e.weeks[a]+"0","1"==e.selItems[a].X71?e.weeks[a]=e.weeks[a]+"1":e.weeks[a]=e.weeks[a]+"0";for(a=0;a<e.selItems.length;a++)t.savaRule(e.selItems[a].Id,e.selItems[a].DeptId,e.weeks[a]);t.tableData="",t.keywords01="",t.keywords02="",t.keywords03="",t.gzmc=""}).catch(function(){t.loading=!1})}),Ve()(Pt,"savaRule",function(e,t,a){var i=this;this.loading=!0,h("/neusys/rule/add",{UserId:e,RuleName:this.gzmc,DeptId:t,Week:a}).then(function(e){if(200==e.status){var t=e.data;i.$message({type:t.status,message:t.msg})}i.loading=!1},function(e){403==e.response.status&&i.$message({type:"error",message:e.response.data}),i.loading=!1})}),Ve()(Pt,"pbSave",function(){if(null==this.ksrq||0==this.ksrq.length||null==this.jsrq||0==this.jsrq.length)this.$message({type:"info",message:"开始日期和结束日期 不能为空!"});else{for(var e=0;e<this.selItems202.length;e++)this.savaPaiBan(this.ksrq,this.jsrq,this.selItems202[e].Id,this.selItems202[e].DeptId,this.selItems202[e].UserId,this.selItems202[e].Week);this.ksrq="",this.jsrq="",this.DeptId02=""}}),Ve()(Pt,"savaPaiBan",function(e,t,a,i,s,l){var n=this;console.log("浏览器控制台输出：ksrq="+e),console.log("浏览器控制台输出：jsrq="+t),console.log("浏览器控制台输出：ids="+a),console.log("浏览器控制台输出：dids="+i),console.log("浏览器控制台输出：uids="+s),console.log("浏览器控制台输出：weeks="+l),console.log("===================================================="),h("/neusys/scheduling/add",{ksrq:e,jsrq:t,UserId:s,DeptId:i,RuleId:a,Week:l}).then(function(e){if(200==e.status){var t=e.data;n.$message({type:t.status,message:t.msg})}n.loading=!1},function(e){403==e.response.status&&n.$message({type:"error",message:e.response.data}),n.loading=!1})}),Ve()(Pt,"deleteAll",function(){var e=this,t=this;this.$confirm("确认删除这 "+this.selItems.length+" 条数据?","提示",{type:"warning",confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){for(var a=t.selItems,i="",s=0;s<a.length;s++)i+=a[s].ID+",";t.deleteCate(i.substring(0,i.length-1)),e.searchClick()}).catch(function(){t.loading=!1})}),Ve()(Pt,"deleteCate",function(e){var t=this;v("/neusys/scheduling/"+e).then(function(e){var a=e.data;t.$message({type:a.status,message:a.msg})},function(e){t.loading=!1,403==e.response.status?t.$message({type:"error",message:e.response.data}):500==e.response.status&&t.$message({type:"error",message:"删除失败!"})})}),Ve()(Pt,"refresh",function(){var e=this;b("/neusys/department/all").then(function(t){e.categories3=t.data.list}),b("/neusys/registLevel/all").then(function(t){e.categories4=t.data.list}),e.searchClick(),e.loading=!1}),Pt),mounted:function(){this.loading=!0,this.refresh()},data:function(){return{totalCount:2,currentPage01:1,pageSize:10,gzmc:"",selItems:[],weeks:[],ksrq:"",jsrq:"",DeptId02:"",keywords:"",keywords2:"",keywords01:"",keywords02:"",keywords03:"",categories:[],categories202:[],categories3:[],categories4:[],selItems202:[],tableData2:[],tableData3:[],loading:!1,dialogAddVisible:!1,dialogFormVisible:!1,tableData:[{date:"霍去病",name:"20",province:"20",city:"100",address:"200",zip:300},{date:"范无病",name:"20",province:"20",city:"100",address:"200",zip:300}]}}},Ht={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("gao-el-container",[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("开始时间:")]),e._v("   \n      "),a("el-date-picker",{staticStyle:{width:"130px"},attrs:{type:"date",placeholder:"选择日期",size:"mini","value-format":"yyyy-MM-dd"},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}}),e._v("\n        \n      "),a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("结束时间:")]),e._v("   \n      "),a("el-date-picker",{staticStyle:{width:"130px"},attrs:{type:"date",placeholder:"选择日期",size:"mini","value-format":"yyyy-MM-dd"},model:{value:e.keywords2,callback:function(t){e.keywords2=t},expression:"keywords2"}}),e._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"mini",icon:"el-icon-view"},on:{click:function(t){return e.searchClick()}}},[e._v("查询医生排班")]),e._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(t){return e.newDept()}}},[e._v("新增排班规则")]),e._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"mini",icon:"el-icon-view"},on:{click:function(t){return e.newDept2()}}},[e._v("查询排班规则(生成排班计划)")]),e._v(" "),a("p"),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData3,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"日期",prop:"SchedDate",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"科室",prop:"DeptName",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"医生",prop:"RealName",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"午别",prop:"Noon",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"挂号级别",prop:"RegistName",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"挂号限额",prop:"RegistQuota",width:"120",align:"left"}}),e._v(" "),e._e()],1),e._v(" "),a("div",[a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:6}},[this.tableData3.length>0?a("el-button",{staticStyle:{"margin-top":"10px",width:"100px"},attrs:{type:"danger",disabled:0==this.selItems.length,size:"mini"},on:{click:e.deleteAll}},[e._v("批量删除\n            ")]):e._e()],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:this.tableData3.length>0,expression:"this.tableData3.length>0"}],attrs:{background:"","page-size":e.pageSize,"current-page":e.currentPage01,layout:"prev, pager, next",total:e.totalCount},on:{"update:currentPage":function(t){e.currentPage01=t},"update:current-page":function(t){e.currentPage01=t},"current-change":e.currentChange}})],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"新增排班规则",visible:e.dialogFormVisible,width:"1400px",align:"center"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{staticClass:"demo-form-inline",attrs:{"label-position":e.labelPosition,"label-width":e.labelWidth,inline:!0,model:e.formEdit,size:"mini"}},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("科室选择:")]),e._v(" "),a("el-select",{staticStyle:{width:"110px"},attrs:{placeholder:"科室",size:"mini"},model:{value:e.keywords01,callback:function(t){e.keywords01=t},expression:"keywords01"}},e._l(e.categories3,function(e){return a("el-option",{key:e.ID,attrs:{label:e.DeptName,value:e.ID}})}),1),e._v(" "),a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("挂号级别:")]),e._v(" "),a("el-select",{staticStyle:{width:"110px"},attrs:{placeholder:"挂号级别",size:"mini"},model:{value:e.keywords02,callback:function(t){e.keywords02=t},expression:"keywords02"}},e._l(e.categories4,function(e){return a("el-option",{key:e.ID,attrs:{label:e.RegistName,value:e.ID}})}),1),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.searchClick2}},[e._v("查 询")]),e._v(" "),a("el-button",{staticStyle:{"margin-left":"3px"},attrs:{type:"primary",icon:"el-icon-refresh",size:"mini"},on:{click:function(t){return e.clear()}}},[e._v("清空\n  ")]),e._v(" "),a("p"),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"left"}}),e._v(" "),e._e(),e._v(" "),e._e(),e._v(" "),e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"RealName",label:"医生名称",width:"100",align:"center"}}),e._v(" "),e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"province",label:"星期一 上午",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("input",{directives:[{name:"model",rawName:"v-model",value:e.tableData[t.$index].X10,expression:"tableData[scope.$index].X10"}],attrs:{type:"checkbox","true-value":"1","false-value":"0"},domProps:{checked:Array.isArray(e.tableData[t.$index].X10)?e._i(e.tableData[t.$index].X10,null)>-1:e._q(e.tableData[t.$index].X10,"1")},on:{change:function(a){var i=e.tableData[t.$index].X10,s=a.target,l=s.checked?"1":"0";if(Array.isArray(i)){var n=e._i(i,null);s.checked?n<0&&e.$set(e.tableData[t.$index],"X10",i.concat([null])):n>-1&&e.$set(e.tableData[t.$index],"X10",i.slice(0,n).concat(i.slice(n+1)))}else e.$set(e.tableData[t.$index],"X10",l)}}})]}}])}),e._v(" "),e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"province",label:"星期一 下午",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("input",{directives:[{name:"model",rawName:"v-model",value:e.tableData[t.$index].X11,expression:"tableData[scope.$index].X11"}],attrs:{type:"checkbox","true-value":"1","false-value":"0"},domProps:{checked:Array.isArray(e.tableData[t.$index].X11)?e._i(e.tableData[t.$index].X11,null)>-1:e._q(e.tableData[t.$index].X11,"1")},on:{change:function(a){var i=e.tableData[t.$index].X11,s=a.target,l=s.checked?"1":"0";if(Array.isArray(i)){var n=e._i(i,null);s.checked?n<0&&e.$set(e.tableData[t.$index],"X11",i.concat([null])):n>-1&&e.$set(e.tableData[t.$index],"X11",i.slice(0,n).concat(i.slice(n+1)))}else e.$set(e.tableData[t.$index],"X11",l)}}})]}}])}),e._v(" "),e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"province",label:"星期二 上午",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("input",{directives:[{name:"model",rawName:"v-model",value:e.tableData[t.$index].X20,expression:"tableData[scope.$index].X20"}],attrs:{type:"checkbox","true-value":"1","false-value":"0"},domProps:{checked:Array.isArray(e.tableData[t.$index].X20)?e._i(e.tableData[t.$index].X20,null)>-1:e._q(e.tableData[t.$index].X20,"1")},on:{change:function(a){var i=e.tableData[t.$index].X20,s=a.target,l=s.checked?"1":"0";if(Array.isArray(i)){var n=e._i(i,null);s.checked?n<0&&e.$set(e.tableData[t.$index],"X20",i.concat([null])):n>-1&&e.$set(e.tableData[t.$index],"X20",i.slice(0,n).concat(i.slice(n+1)))}else e.$set(e.tableData[t.$index],"X20",l)}}})]}}])}),e._v(" "),e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"province",label:"星期二 下午",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("input",{directives:[{name:"model",rawName:"v-model",value:e.tableData[t.$index].X21,expression:"tableData[scope.$index].X21"}],attrs:{type:"checkbox","true-value":"1","false-value":"0"},domProps:{checked:Array.isArray(e.tableData[t.$index].X21)?e._i(e.tableData[t.$index].X21,null)>-1:e._q(e.tableData[t.$index].X21,"1")},on:{change:function(a){var i=e.tableData[t.$index].X21,s=a.target,l=s.checked?"1":"0";if(Array.isArray(i)){var n=e._i(i,null);s.checked?n<0&&e.$set(e.tableData[t.$index],"X21",i.concat([null])):n>-1&&e.$set(e.tableData[t.$index],"X21",i.slice(0,n).concat(i.slice(n+1)))}else e.$set(e.tableData[t.$index],"X21",l)}}})]}}])}),e._v(" "),e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"province",label:"星期三 上午",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("input",{directives:[{name:"model",rawName:"v-model",value:e.tableData[t.$index].X30,expression:"tableData[scope.$index].X30"}],attrs:{type:"checkbox","true-value":"1","false-value":"0"},domProps:{checked:Array.isArray(e.tableData[t.$index].X30)?e._i(e.tableData[t.$index].X30,null)>-1:e._q(e.tableData[t.$index].X30,"1")},on:{change:function(a){var i=e.tableData[t.$index].X30,s=a.target,l=s.checked?"1":"0";if(Array.isArray(i)){var n=e._i(i,null);s.checked?n<0&&e.$set(e.tableData[t.$index],"X30",i.concat([null])):n>-1&&e.$set(e.tableData[t.$index],"X30",i.slice(0,n).concat(i.slice(n+1)))}else e.$set(e.tableData[t.$index],"X30",l)}}})]}}])}),e._v(" "),e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"province",label:"星期三 下午",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("input",{directives:[{name:"model",rawName:"v-model",value:e.tableData[t.$index].X31,expression:"tableData[scope.$index].X31"}],attrs:{type:"checkbox","true-value":"1","false-value":"0"},domProps:{checked:Array.isArray(e.tableData[t.$index].X31)?e._i(e.tableData[t.$index].X31,null)>-1:e._q(e.tableData[t.$index].X31,"1")},on:{change:function(a){var i=e.tableData[t.$index].X31,s=a.target,l=s.checked?"1":"0";if(Array.isArray(i)){var n=e._i(i,null);s.checked?n<0&&e.$set(e.tableData[t.$index],"X31",i.concat([null])):n>-1&&e.$set(e.tableData[t.$index],"X31",i.slice(0,n).concat(i.slice(n+1)))}else e.$set(e.tableData[t.$index],"X31",l)}}})]}}])}),e._v(" "),e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"province",label:"星期四 上午",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("input",{directives:[{name:"model",rawName:"v-model",value:e.tableData[t.$index].X40,expression:"tableData[scope.$index].X40"}],attrs:{type:"checkbox","true-value":"1","false-value":"0"},domProps:{checked:Array.isArray(e.tableData[t.$index].X40)?e._i(e.tableData[t.$index].X40,null)>-1:e._q(e.tableData[t.$index].X40,"1")},on:{change:function(a){var i=e.tableData[t.$index].X40,s=a.target,l=s.checked?"1":"0";if(Array.isArray(i)){var n=e._i(i,null);s.checked?n<0&&e.$set(e.tableData[t.$index],"X40",i.concat([null])):n>-1&&e.$set(e.tableData[t.$index],"X40",i.slice(0,n).concat(i.slice(n+1)))}else e.$set(e.tableData[t.$index],"X40",l)}}})]}}])}),e._v(" "),e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"province",label:"星期四 下午",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("input",{directives:[{name:"model",rawName:"v-model",value:e.tableData[t.$index].X41,expression:"tableData[scope.$index].X41"}],attrs:{type:"checkbox","true-value":"1","false-value":"0"},domProps:{checked:Array.isArray(e.tableData[t.$index].X41)?e._i(e.tableData[t.$index].X41,null)>-1:e._q(e.tableData[t.$index].X41,"1")},on:{change:function(a){var i=e.tableData[t.$index].X41,s=a.target,l=s.checked?"1":"0";if(Array.isArray(i)){var n=e._i(i,null);s.checked?n<0&&e.$set(e.tableData[t.$index],"X41",i.concat([null])):n>-1&&e.$set(e.tableData[t.$index],"X41",i.slice(0,n).concat(i.slice(n+1)))}else e.$set(e.tableData[t.$index],"X41",l)}}})]}}])}),e._v(" "),e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"province",label:"星期五 上午",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("input",{directives:[{name:"model",rawName:"v-model",value:e.tableData[t.$index].X50,expression:"tableData[scope.$index].X50"}],attrs:{type:"checkbox","true-value":"1","false-value":"0"},domProps:{checked:Array.isArray(e.tableData[t.$index].X50)?e._i(e.tableData[t.$index].X50,null)>-1:e._q(e.tableData[t.$index].X50,"1")},on:{change:function(a){var i=e.tableData[t.$index].X50,s=a.target,l=s.checked?"1":"0";if(Array.isArray(i)){var n=e._i(i,null);s.checked?n<0&&e.$set(e.tableData[t.$index],"X50",i.concat([null])):n>-1&&e.$set(e.tableData[t.$index],"X50",i.slice(0,n).concat(i.slice(n+1)))}else e.$set(e.tableData[t.$index],"X50",l)}}})]}}])}),e._v(" "),e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"province",label:"星期五 下午",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("input",{directives:[{name:"model",rawName:"v-model",value:e.tableData[t.$index].X51,expression:"tableData[scope.$index].X51"}],attrs:{type:"checkbox","true-value":"1","false-value":"0"},domProps:{checked:Array.isArray(e.tableData[t.$index].X51)?e._i(e.tableData[t.$index].X51,null)>-1:e._q(e.tableData[t.$index].X51,"1")},on:{change:function(a){var i=e.tableData[t.$index].X51,s=a.target,l=s.checked?"1":"0";if(Array.isArray(i)){var n=e._i(i,null);s.checked?n<0&&e.$set(e.tableData[t.$index],"X51",i.concat([null])):n>-1&&e.$set(e.tableData[t.$index],"X51",i.slice(0,n).concat(i.slice(n+1)))}else e.$set(e.tableData[t.$index],"X51",l)}}})]}}])}),e._v(" "),e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"province",label:"星期六 上午",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("input",{directives:[{name:"model",rawName:"v-model",value:e.tableData[t.$index].X60,expression:"tableData[scope.$index].X60"}],attrs:{type:"checkbox","true-value":"1","false-value":"0"},domProps:{checked:Array.isArray(e.tableData[t.$index].X60)?e._i(e.tableData[t.$index].X60,null)>-1:e._q(e.tableData[t.$index].X60,"1")},on:{change:function(a){var i=e.tableData[t.$index].X60,s=a.target,l=s.checked?"1":"0";if(Array.isArray(i)){var n=e._i(i,null);s.checked?n<0&&e.$set(e.tableData[t.$index],"X60",i.concat([null])):n>-1&&e.$set(e.tableData[t.$index],"X60",i.slice(0,n).concat(i.slice(n+1)))}else e.$set(e.tableData[t.$index],"X60",l)}}})]}}])}),e._v(" "),e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"province",label:"星期六 下午",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("input",{directives:[{name:"model",rawName:"v-model",value:e.tableData[t.$index].X61,expression:"tableData[scope.$index].X61"}],attrs:{type:"checkbox","true-value":"1","false-value":"0"},domProps:{checked:Array.isArray(e.tableData[t.$index].X61)?e._i(e.tableData[t.$index].X61,null)>-1:e._q(e.tableData[t.$index].X61,"1")},on:{change:function(a){var i=e.tableData[t.$index].X61,s=a.target,l=s.checked?"1":"0";if(Array.isArray(i)){var n=e._i(i,null);s.checked?n<0&&e.$set(e.tableData[t.$index],"X61",i.concat([null])):n>-1&&e.$set(e.tableData[t.$index],"X61",i.slice(0,n).concat(i.slice(n+1)))}else e.$set(e.tableData[t.$index],"X61",l)}}})]}}])}),e._v(" "),e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"province",label:"星期日 上午",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("input",{directives:[{name:"model",rawName:"v-model",value:e.tableData[t.$index].X70,expression:"tableData[scope.$index].X70"}],attrs:{type:"checkbox","true-value":"1","false-value":"0"},domProps:{checked:Array.isArray(e.tableData[t.$index].X70)?e._i(e.tableData[t.$index].X70,null)>-1:e._q(e.tableData[t.$index].X70,"1")},on:{change:function(a){var i=e.tableData[t.$index].X70,s=a.target,l=s.checked?"1":"0";if(Array.isArray(i)){var n=e._i(i,null);s.checked?n<0&&e.$set(e.tableData[t.$index],"X70",i.concat([null])):n>-1&&e.$set(e.tableData[t.$index],"X70",i.slice(0,n).concat(i.slice(n+1)))}else e.$set(e.tableData[t.$index],"X70",l)}}})]}}])}),e._v(" "),e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"province",label:"星期日 下午",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("input",{directives:[{name:"model",rawName:"v-model",value:e.tableData[t.$index].X71,expression:"tableData[scope.$index].X71"}],attrs:{type:"checkbox","true-value":"1","false-value":"0"},domProps:{checked:Array.isArray(e.tableData[t.$index].X71)?e._i(e.tableData[t.$index].X71,null)>-1:e._q(e.tableData[t.$index].X71,"1")},on:{change:function(a){var i=e.tableData[t.$index].X71,s=a.target,l=s.checked?"1":"0";if(Array.isArray(i)){var n=e._i(i,null);s.checked?n<0&&e.$set(e.tableData[t.$index],"X71",i.concat([null])):n>-1&&e.$set(e.tableData[t.$index],"X71",i.slice(0,n).concat(i.slice(n+1)))}else e.$set(e.tableData[t.$index],"X71",l)}}})]}}])})],1),e._v(" "),a("p"),e._v("\n  \n      \n  "),a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("规则名称:")]),e._v(" "),a("el-input",{staticStyle:{width:"110px"},attrs:{placeholder:"规则名称",again:"left",size:"mini"},model:{value:e.gzmc,callback:function(t){e.gzmc=t},expression:"gzmc"}}),a("font",{attrs:{color:"red"}},[e._v("*")])],1),e._v(" "),a("br"),e._v(" "),a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),this.tableData.length>0?a("el-button",{attrs:{type:"primary",size:"mini",disabled:0==this.selItems.length},on:{click:e.gzSave}},[e._v("保 存")]):e._e()],1),e._v(" "),a("el-dialog",{attrs:{title:"排班规则列表",visible:e.dialogAddVisible,width:"850px",align:"center"},on:{"update:visible":function(t){e.dialogAddVisible=t}}},[a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("科室选择:")]),e._v(" "),a("el-select",{staticStyle:{width:"110px"},attrs:{placeholder:"科室",size:"mini"},model:{value:e.DeptId02,callback:function(t){e.DeptId02=t},expression:"DeptId02"}},e._l(e.categories3,function(e){return a("el-option",{key:e.ID,attrs:{label:e.DeptName,value:e.ID}})}),1),e._v("      \n\n  "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.searchClick3}},[e._v("查询")]),e._v(" "),a("el-button",{staticStyle:{"margin-left":"3px"},attrs:{type:"primary",icon:"el-icon-refresh",size:"mini"},on:{click:function(t){return e.clear2()}}},[e._v("清空\n  ")]),e._v(" "),a("el-form",{staticClass:"demo-form-inline",attrs:{"label-position":e.labelPosition,"label-width":e.labelWidth,inline:!0,model:e.formAdd}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData2,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange202}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"left"}}),e._v(" "),e._e(),e._v(" "),e._e(),e._v(" "),e._e(),e._v(" "),a("el-table-column",{attrs:{label:"规则名称",prop:"RuleName",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"科室名称",prop:"DeptName",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"医生姓名",prop:"RealName",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"时间",prop:"Week",width:"150",align:"left"}})],1)],1),e._v(" "),a("br"),a("br"),e._v(" "),a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("开始时间:")]),e._v("   \n      "),a("el-date-picker",{staticStyle:{width:"130px"},attrs:{type:"date",placeholder:"选择日期",size:"mini","value-format":"yyyy-MM-dd"},model:{value:e.ksrq,callback:function(t){e.ksrq=t},expression:"ksrq"}}),a("font",{attrs:{color:"red"}},[e._v("*")]),e._v("\n        \n      "),a("font",{staticStyle:{"font-size":"13px","font-family":"'Microsoft YaHei'"}},[e._v("结束时间:")]),e._v("   \n      "),a("el-date-picker",{staticStyle:{width:"130px"},attrs:{type:"date",placeholder:"选择日期",size:"mini","value-format":"yyyy-MM-dd"},model:{value:e.jsrq,callback:function(t){e.jsrq=t},expression:"jsrq"}}),a("font",{attrs:{color:"red"}},[e._v("*")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini",disabled:0==this.selItems202.length},on:{click:e.pbSave}},[e._v("选取规则生成排班计划")]),e._v(" "),a("br"),a("br"),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.dialogAddVisible=!1}}},[e._v("关闭")])],1)],1)},staticRenderFns:[]};var Bt=a("VU/8")(At,Ht,!1,function(e){a("Mh37")},null,null).exports;n.default.use(g.a);var Ut=new g.a({routes:[{path:"/login",name:"登录",hidden:!0,component:C,meta:{isLogin:!1}},{path:"/home",name:"",component:T,hidden:!0,meta:{isLogin:!0}},{path:"/home",component:T,name:"挂号收费",iconCls:"fa fa-file-text-o",children:[{path:"/Register",name:"现场挂号",component:P,meta:{keepAlive:!1,isLogin:!0}},{path:"/Signout",name:"退号",component:X,meta:{keepAlive:!1,isLogin:!0}},{path:"/Charge",name:"收费",component:H,meta:{keepAlive:!1,isLogin:!0}},{path:"/Refund",name:"退费",component:Y,meta:{keepAlive:!1,isLogin:!0}},{path:"/Makeup",name:"发票补打",component:G,meta:{keepAlive:!1,isLogin:!0}},{path:"/Replay",name:"发票重打",component:Z,meta:{keepAlive:!1,isLogin:!0}},{path:"/Patient",name:"患者费用查询",component:le,meta:{keepAlive:!1,isLogin:!0}},{path:"/Daily",name:"日结*",component:ee,meta:{keepAlive:!1,isLogin:!0}},{path:"/Daily2",name:"日结查询*",component:ae,meta:{keepAlive:!1,isLogin:!0}}]},{path:"/home",component:T,name:"门诊医生",children:[{path:"/docHome",iconCls:"fa fa-user-o",name:"门诊病历",component:Me,meta:{keepAlive:!1,isLogin:!0}},{path:"/suite02",name:"医技模板管理",component:Ye,meta:{keepAlive:!1,isLogin:!0}},{path:"/suite03",name:"西药处方模板",component:Xe,meta:{keepAlive:!1,isLogin:!0}},{path:"/suite04",name:"中药处方模板*",component:Ge,meta:{keepAlive:!1,isLogin:!0}}]},{path:"/home",component:T,name:"医技处置*",iconCls:"fa fa-user-o",children:[{path:"/tech01",name:"患者检验*",component:Ze,meta:{keepAlive:!1,isLogin:!0}},{path:"/tech02",name:"患者检查*",component:et,meta:{keepAlive:!1,isLogin:!0}},{path:"/tech03",name:"患者处置*",component:it,meta:{keepAlive:!1,isLogin:!0}},{path:"/tech04",name:"医技管理*",component:nt,meta:{keepAlive:!1,isLogin:!0}}]},{path:"/home",component:T,name:"药房管理",iconCls:"fa fa-user-o",children:[{path:"/shop01",name:"药房发药",component:ct,meta:{keepAlive:!1,isLogin:!0}},{path:"/shop02",name:"药房退药",component:ut,meta:{keepAlive:!1,isLogin:!0}},{path:"/shop03",name:"药品管理",component:ht,meta:{keepAlive:!1,isLogin:!0}}]},{path:"/home",component:T,name:"财务管理",iconCls:"fa fa-user-o",children:[{path:"/Count01",name:"门诊医生工作量统计*",component:re,meta:{keepAlive:!1,isLogin:!0}},{path:"/Count02",name:"开单科室工作量统计*",component:pe,meta:{keepAlive:!1,isLogin:!0}},{path:"/Count03",name:"执行科室工作量统计*",component:ge,meta:{keepAlive:!1,isLogin:!0}},{path:"/Cost",name:"费用科目管理",component:ve,meta:{keepAlive:!1,isLogin:!0}}]},{path:"/home",component:T,name:"系统信息",iconCls:"fa fa-user-o",children:[{path:"/Constant",name:"常数类别管理",component:bt,meta:{keepAlive:!1,isLogin:!0}},{path:"/Dept",name:"科室管理",component:Dt,meta:{keepAlive:!1,isLogin:!0}},{path:"/User",name:"用户管理",component:Ct,meta:{keepAlive:!1,isLogin:!0}},{path:"/RegistLevel",name:"挂号级别管理",component:It,meta:{keepAlive:!1,isLogin:!0}},{path:"/SettleCategory",name:"结算类别管理",component:$t,meta:{keepAlive:!1,isLogin:!0}},{path:"/DiseCategory",name:"诊断目录管理",component:Ft,meta:{keepAlive:!1,isLogin:!0}},{path:"/Project",name:"非药品收费项目管理",component:Vt,meta:{keepAlive:!1,isLogin:!0}},{path:"/Scheduling",name:"医生排班管理",component:Bt,meta:{keepAlive:!1,isLogin:!0}}]}]});n.default.use(m.a);var Yt=new m.a.Store({state:{Register:{},User:{},isLogin:!1},getters:{isLogin:function(e){return e.isLogin}},mutations:{userStatus:function(e,t){e.isLogin=t}},actions:{setUser:function(e,t){(0,e.commit)("userStatus",t)}}});n.default.use(r.a),n.default.config.productionTip=!1,n.default.prototype.$http=u.a,new n.default({router:Ut,store:Yt,render:function(e){return e(d)}}).$mount("#app"),l()(i).forEach(function(e){n.default.filter(e,i[e])}),Ut.beforeEach(function(e,t,a){"isLogin"===sessionStorage.getItem("Flag")?(Yt.state.isLogin=!0,a(),e.meta.isLogin||a({path:"/home"})):e.meta.isLogin?a({path:"/login"}):a()}),Ut.afterEach(function(e){window.scroll(0,0)})},PZX0:function(e,t){},RNxk:function(e,t){},SYId:function(e,t){},TMWA:function(e,t){},ZAaK:function(e,t){},cpug:function(e,t){},e1OT:function(e,t){},eW4u:function(e,t){},f5KG:function(e,t){},jmLc:function(e,t){},kKdy:function(e,t){},kbYv:function(e,t){},leEU:function(e,t){},nuBv:function(e,t){},okVW:function(e,t){},p1im:function(e,t){},pEw5:function(e,t){},pw1w:function(e,t){},rSkE:function(e,t){},rbNd:function(e,t){},sLAE:function(e,t){},sgr2:function(e,t){},tXaw:function(e,t){},tvR6:function(e,t){},wA21:function(e,t){},"ygP+":function(e,t){},ymcE:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.dd52c9cfd355681fe55c.js.map